# 2021 - Week 9

## Money saving expert

If you tuned in [last week](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/07/), dear reader, you'll know that our [Jianhan](https://twitter.com/jianhanzhu) has been applying his considerable brain to shaving costs off the hosting of our [data platform](https://api.parliament.uk/). A mission he has continued with this week. One reader who definitely tuned in was Wojciech, ex of this parish and much missed. He got in touch with Jianhan and [Michael](https://twitter.com/fantasticlife) to let them know that the best way to cut cash spent would be dropping the support level of the API Manager. We'd lose the [SLA](https://en.wikipedia.org/wiki/Service-level_agreement) and have to operate with a reduced cache, but, on the upside, it would still be a private network and save the taxpayer a not inconsiderable sum. Which is not to be sniffed at. Wojciech also recalled that the second biggest cost contribution went toward running our [Logic Apps](https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-overview) and suggested that reducing the frequency at which they're run would also help fill the coffers. Your correspondents cannot pretend to follow all the details here, but luckily Jianhan did and has now acted on Wojciech's recommendations. Service quality continues to be closely monitored and all looks more than satisfactory. Which goes to show that [working in the open](https://mhurrell.co.uk/work/assets/govuk-design-principles/govuk-design-principles-poster-10-m.jpg) not only makes things better, it also makes things cheaper. Thanks Wojciech.

In other cost cutting news, Jianhan, Robert and Michael have also started to [lift and shift](https://trello.com/c/KXDBsLXT/106-migrate-heroku-apps-to-azure) some prototype applications from [Heroku](https://en.wikipedia.org/wiki/Heroku) to [Azure](https://en.wikipedia.org/wiki/Microsoft_Azure). So far they've ported over the [Peerages data](https://api.parliament.uk/peerages/), the [procedure parsing application](https://api.parliament.uk/procedures/) and their attempt at addressable and dereferenceable [Standing Orders](https://api.parliament.uk/standing-orders/). In the next few weeks they hope to do the same to the code that sits behind [Tweaty Twacker](https://twitter.com/TweatyTwacker) and [Made 'n' Laid](https://twitter.com/madenlaid), before turning their attentions toward our beloved [Egg Timer](https://parliament-calendar.herokuapp.com/). Unfortunately all three rely on cron jobs that are currently written in Ruby and *we think* we think that such things cannot be run on Azure. So it seems likely we have a [rewrite job](https://trello.com/c/l4HT9kys/107-rewrite-made-n-laid-cron-jobs-as-c) on our hands. Or at least Jianhan does. First impressions of switching to Azure are... it's slow. The time taken between typing 'push' and any change appearing affords an opportunity to grind coffee beans, make coffee and drink coffee. Which is an advantage for Robert. That said, it's all working and we're improving as we go. And whilst it won't save the taxpayer anything, it will save Michael Â£30. An amount he plans to spend on healthy snacks, Guinness and cigarettes should the *now times* ever end.

## Logicifying the procedure maps

For the past few weeks, our map making had been proceeding smoothly. And indeed "at pace" as we believe we're supposed to say these days. This week Librarian Jayne and Michael ran head first into a brick wall. The nature of the brick wall in question needing some explanation, so here goes...

The majority of [statutory instruments](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html#d4e172) are [laid](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e106) before both Houses. A minority - those pertaining to matters of taxing and spending - are laid before the House of Commons only. It has been known for a Civil Servant to accidentally lay an instrument before both Houses which should only have been laid before the Commons. Orthogonally but relatedly, it is also possible for the Government to [withdraw](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e119) an instrument at any point during its passage through Parliament.

Up until this week, both librarians and computational experts had been under the impression that an instrument laid before the Lords might be withdrawn for one of two reasons:

* because the Government had had second thoughts and withdrawn it from both Houses.

* because it had been accidentally laid into the Lords and subsequently withdrawn.

If this were true, it made predicting how the [procedure](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e153) might conclude impossible. In the former case the procedure would conclude in both Houses and the SI would either not make its way toward the Statute Book or make its way off the Statute Book depending on whether it were a draft or a made instrument. In the latter case the procedure would continue in the Commons and eventually conclude only in the Commons, all possibilities remaining open, including subsequent withdrawal from the Commons. For a little while, Jayne and Michael thought they might be forced to build logic based on the time between a Lords withdrawal and a Commons withdrawal. Or add [a new type of step](https://trello.com/c/Q7xyijdg/104-jw-would-a-new-step-for-withdrawn-after-accidental-lords-laying-help-or-hinder) to capture withdrawal of an accidentally laid instrument. Luckily this turned out not to be the case when a message from JO Jane put them right on such matters. An instrument being accidentally laid before the Lords is not in fact withdrawn but expunged from Lords history. As far as the upper House is concerned it is a dead SI. The SI is no more. It has ceased to be. It has expired and gone to meet its maker. It is a stiff. Bereft of life, it rests in peace. As students across the world might chant.

We relate this tale only because thinking about how the logic might work if the SI were not in fact dead to the House of Lords took up [a considerable part](https://trello.com/c/2gkdPSZ5/102-check-negative-procedure-accounts-for-accidental-laying-of-lords) of Jayne and Michael's week and notepads. And they are very grateful to learn that, for once, things are simpler than imagined. Thanks JO Jane.

Somewhat more constructively, Jayne, Robert and Michael took to Omnigraffle and TextMate to carve out a few more details in our procedure model. We are [now able to cite](https://trello.com/c/uac4ClFt/371-make-a-route-a-citable-thing-in-the-procedure-model) informing legislation and Standing Orders from [procedural routes](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e501) as well as [procedural steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e486). As well as being able to [add descriptive text](https://trello.com/c/K70WxalW/368-step-description-in-ontology) [to procedural steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e577). Or at least we will be once Jianhan feeds the new model into the computers.

## Relationifying the models

[Librarian Anya](https://twitter.com/bitten_) collared computational "experts" Robert and Michael to continue the quest to [relationify](https://ukparliament.github.io/ontologies/meta/relational/) a few of our more [ontological efforts](https://ukparliament.github.io/ontologies/). This week they took a trip toward our [House membership model](https://ukparliament.github.io/ontologies/house-membership/house-membership-ontology.html), continuing to populate [ERD](https://ukparliament.github.io/ontologies/meta/relational/schema.png), [SQL](https://ukparliament.github.io/ontologies/meta/relational/schema.sql) and [design notes](https://docs.google.com/document/d/1lqAHO6XY_dwceILSVJk74vQVb4NhNap46GMeElr0SHw/edit?usp=sharing), whilst being damn sure to mention that, yes, they do know a Member does not get an actual physical seat. A point a number of clerks have pointed out on a number of occasions and a point that has never actually been in any doubt. The design notes are open for anyone to comment. Or at least anyone on the internet as Google's dialogue box helpfully makes clear. Please tell us if we've missed something, misdescribed something or just got something wrong.

## All about the collaboration

As we continue to unpick the peerage data kindly donated by [David](https://twitter.com/clerkly), we had some outstanding questions about [letters patent](https://en.wikipedia.org/wiki/Letters_patent#Form_of_British_letters_patent_creating_peers), [subsidiary titles](https://en.wikipedia.org/wiki/Subsidiary_title), announcements, [ranks](https://www.debretts.com/expertise/essential-guide-to-the-peerage/ranks-and-privileges-of-the-peerage/) and other assorted bits and bobs. Last week, our [Ben](https://twitter.com/benwoodhams) managed to wangle us an introduction to Grant, Registrar of the Peerage at the [College of Arms](https://www.college-of-arms.gov.uk/), who kindly joined Ben, Ned, Robert and Michael for a pixel based chat on Monday. As a result of which, most of the questions we had now [come complete with answers](https://api.parliament.uk/peerages/meta/iaq). Michael has taken one of the answers, applying genderless titles across both [ranks](https://api.parliament.uk/peerages/ranks) and [peerages](https://api.parliament.uk/peerages/peerages/800). Thanks again for your time, Grant.

