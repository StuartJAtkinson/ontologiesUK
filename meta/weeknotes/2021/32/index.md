# 2021 - Week 32

## Short / sweet

We are, by now, well into summer recess, which means our beloved palace is emptier than ever. Librarian and clerky colleagues have grabbed their beach towels, slathered on the sun cream, picked up the holiday reading and headed off to destinations as far flung as Cannes, Nice and Battersea. The usual email tennis has taken a time out and our all too frequent foraging for answers to silly questions has fallen into abeyance. Even Young Robert has taken off on a well-earned vacation, so opportunities for stopping and indeed thinking have been at something of a loss.

All of which has led to Librarian Jayne and "computational expert" [Michael](https://twitter.com/fantasticlife) spending most of the week on yet another death march through the liminal territories of our [procedure maps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps). If you've been following along from home, you'll know we've had a long standing snag with a [symmetrical stumbling block](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/with-route-types/#limitations-in-parsing-procedure-maps-symmetry-of-multiple-actualisations). Motions that can be [tabled](https://ukparliament.github.io/ontologies/tabling/tabling-ontology.html#d4e51) in parallel might meet one of five fates: being withdrawn, lapsing at the end of a session, being not moved, being not called and finding their way through this minefield to have their question put. Without being able to evaluate the numbers having met such fates, it wasn't possible for us to determine how many motion were still "in play". But now we've taught our [parsing code](https://api.parliament.uk/procedures/meta/comments) some rudimentary maths, meaning it can now [increment](https://api.parliament.uk/procedures/comments/increment_step.rb.html) a value, [sum](https://api.parliament.uk/procedures/comments/sum_step.rb.html) two values and [compare the equivalence](https://api.parliament.uk/procedures/comments/equals_step.rb.html) of two values. Which means we can now sum across the number of tablings and compare that to the sum of the numbers of their fates.

Taking our code's new found knowledge, we've [remapped](https://trello.com/c/oHRtD4ru/159-redo-all-si-procedures) both the [draft](https://ukparliament.github.io/ontologies/procedure/maps/secondary-legislation/statutory-instruments/negative-procedures/draft/draft-negative.pdf) and [made](https://ukparliament.github.io/ontologies/procedure/maps/secondary-legislation/statutory-instruments/negative-procedures/made/made-negative.pdf) negative procedures and were most of the way through the [draft affirmative](https://ukparliament.github.io/ontologies/procedure/maps/secondary-legislation/statutory-instruments/affirmative-procedures/draft/draft-affirmative.pdf) until we teetered and tottered into yet another pit of procedural ignorance. An approval motion being subject to either a fatal and / or non-fatal amendment and subsequently being withdrawn, what fate, we wondered, befell the amendments. Luckily [Table Office Matt](https://twitter.com/MattKorris) was not sunning himself and quickly put our minds at rest. The amendments sitting around - parentless - in the list of future business in the hope of a new approval motion being tabled. At which point they are readopted. Thanks Matt.

The next question we thought a tad trickier. In the same situation of an approval motion with fatal and / or non-fatal amendments attached and none of these being withdrawn, in which order should the questions be put. This, we decided, being a question that could wait until the return of a sun-kissed JO Jane. And not just because, by this stage, we were running late for the pub. It is possible, of course, that our own dear reader may be jumping up and down, shouting I know this. In which case, answers on a postcard to the usual address will be met with great gratitude.

In a another part of the forest, [our Jianhan](https://twitter.com/jianhanzhu) has also been busy preparing the ground for our parsing code. In our [procedure editor database](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/editor/schema.pdf), we had been storing the laying date in our [laying](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e106) table and not on the [business item](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e211) that the laying specialises. Which seems an odd decision in retrospect. It meant that, wherever one of our crack team of librarians had entered a date for a business item, all such dates were stored in the same place. Except for layings. Which in turn meant our parsing code assumed that [things that have happened had not yet happened](https://api.parliament.uk/procedures/work-packages/9). Jianhan is now a good part of the way through [migrating dates](https://trello.com/c/YSqaw3F6/8-ensure-laying-business-items-have-a-business-item-date) stored on layings to the accompanying and more generic business item. So our machines will no longer get confused. Or at least get less confused. Thanks Jianhan.

## Remedial geographies

Before [Oli](https://twitter.com/olihawkins) sadly departed Libraryland, he sat down with [Anya](https://twitter.com/bitten_), Robert and Michael to talk through his election database. They thought they had taken in [Oli](https://twitter.com/olihawkins)'s lessons on the many and varied geographies that sit above [constituencies](https://ukparliament.github.io/ontologies/election/election-ontology.html#d4e102) but reader, they had not. [Last week](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/31/), Anya and Michael found themselves trying to fit together the jigsaw pieces of nations, electoral regions, shire counties, districts, shire districts, metropolitan districts and assorted flavours of unitary authority. And found themselves baffled. So this week, they called in [Carl](https://twitter.com/carlbaker). Who at least managed to make a little more sense of it all. Anya and Michael have donated a pot of geographic data they had somehow got their paws on and Carl has promised to take a look and tell them what's good and what's bad and what really shouldn't be there. Thanks Carl.