# 2021 - Week 5

## A less amazing week

Tumbling off the peak of [a truly amazing week](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/05/index.html), this one saw our wave crash into the more usual troughs of map making drudgery. Not that we complain. And certainly never whine. Drudgery, after all seems more fitting for the times. That said, week 5 did have its upsides as our social lives expanded and we actually spoke to people.

## Our sparkling social life

Before we start, we should be quite clear here. By social life we mean talking about work related matters to a different set of people. Although what is work and what is life seems less than clear these days. The much lauded work-life balance being less than apparent when you're glugging red wine at midnight talking to ex-colleagues about parsing [work package](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e222) maps.

On Wednesday evening, Librarian [Anya](https://twitter.com/bitten_), young Robert and [Michael](https://twitter.com/fantasticlife) were lucky enough to borrow the brains of [Samu](https://twitter.com/langsamu) - ex of this parish. The subject was, as you may well have guessed, [procedures](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e153), logic [steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e175), work packages and the parsing of maps thereof. Robert and Michael are now on their [third iteration of pseudocode](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/parsing/#with-step-types-2). Or fourth. It's hard to tell. Anya has thrown a slight spanner in the works with a requirement to separate steps that can not yet happen - a question being put on a motion that has not yet been tabled, and steps that can not now happen - [EVEL certification](http://evel.uk/how-does-evel-work/) in light of [suspended](https://ukparliament.github.io/ontologies/standing-order/standing-order-ontology.html#d4e174) standing orders. This means we need to taint all the roads on unreachable islands, so the computers know they are currently untraversable. This was explained at some considerable length in last week's notes and we have no intention of typing all that nonsense again. The new requirement lead Michael to [rewrite our handling of business steps](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/parsing/business-steps.html) to take account of the state of the inbound route. After chatting with Samu we now think our approach might best be described as 'brute-force breadth-first traversal'. It certainly does not seem particularly efficient. Samu, who has the advantage of knowing about maths and such things, suggested we might instead look at [depth first traversal](https://www.tutorialspoint.com/data_structures_algorithms/depth_first_traversal.htm). Though if we did go down that road, we'd need more thought about when we tell the machines to stop traversing a [cyclic graph](https://en.wikipedia.org/wiki/Cycle_graph). And quite frankly, we've been too tired this week. Way too tired.

The evening continued on much the same note. Additional red wine being poured as Samu and Robert headed off to walk the [Seven Bridges of KÃ¶nigsberg](https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg), a problem not seemingly eased by two of them being [bombed in the war](https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg#Present_state_of_the_bridges). It was agreed that the problem we face is not best solved by Michael's rather cack handed attempts to place loops inside loops. What we actually need, it would appear, is a dab of Prolog and a touch of [Constraint Logic Programming](https://en.wikibooks.org/wiki/Prolog/Constraint_Logic_Programming). Michael was much cheered to hear Robert announce his intention to learn Prolog, though his confidence evaporated somewhat when Robert added, "again". In the meantime, we have [material](https://shinmera.github.io/classowary/) to [read](http://bennycheung.github.io/solving-puzzles-using-clp) and ponderings to ponder. Thanks Samu.

Nursing only the mildest of hangovers, the very next day saw the same threesome and a very sober Librarian Jayne meet with [Catherine](https://twitter.com/CathTabone), [Matthew](https://twitter.com/matthewj_bell) and [John](https://twitter.com/johnlsheridan). Or "Samu's new boss" as we like to call him. The meeting had originally been planned to talk about if and when [TNA](https://www.nationalarchives.gov.uk/tgo) might be able to supply machine readable [procedural duties](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html#d4e282) to both help us determine the [appropriate map](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps) to pick and feed our [egg timer](https://parliament-calendar.herokuapp.com/) with all the data it might need to calculate scrutiny periods. Not yet being the answer. But things have moved on the meantime and we had new questions. Such as, are [proposed negative statutory instruments](https://www.parliament.uk/site-information/glossary/proposed-negative-statutory-instrument/) just another manifestation of any statutory instrument that might follow. And how we might bypass our [powers and duties model](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html#d4e136) to point directly at enabling Acts. On the latter [a new sketch was sketched](https://github.com/ukparliament/ontologies/blob/master/legislation/bypass.pdf) and Librarians Anya and Jayne and computational experts Robert and Michael have [a new task](https://trello.com/c/rln8b85t/359-rewrite-legislation-model-to-reflected-js-chat) to add the shortcut to our [legislation model](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html). On the former, everyone present seemed to agree that our current approach of two [work packageable things](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e233) having two [layings](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e106), generating two work packages subject to two procedures, should in fact have been one work packageable thing, with two layings, two work packages and two procedures. But John did suggest we chat to [Luke](https://twitter.com/Lenorbury) about this. Him having [written the book](https://www.wildy.com/isbn/9781474307192/bennion-on-statutory-interpretation-7th-ed-hardback-lexisnexis-butterworths) might help here. Luke has very kindly offered to give us a beginner's guide to statutory interpretation and a promise he'll try to help with our more specific problems. Thanks TNA folks. And thank Luke.

Well rested and fresh as daisies, Friday meant a meeting with [Andrew](https://twitter.com/generalising) to chat all things peerages and how we might [interlink concepts in Parliament's Thesauri with entities in Wikidata](https://www.wikidata.org/wiki/Property:P4527). Our main problem here is the separation of [the peerage](https://www.wikidata.org/wiki/Q1277274) from the [the peer](https://m.wikidata.org/wiki/Q335671). Our second problem is gender. Wikidata tends to be person centric. Our concepts tend to represent the peerage and not the peer who happens to be holding it. Except in the case of hereditary peerages being initially held by females or initially held by a male but with a [special remainder](https://en.wikipedia.org/wiki/Remainder_(law)#Special_remainder_in_peerages) allowing them to be held by females in the future. In which case, a new concept is added to the thesaurus to reflect the change in rank label as the gender changes. Wikidata has records for around 750 of the current Lords membership modelled as people holding a position. Which we think is around 50 short of quorum. It also has some records for the more abstract notion of a peerage, particularly where Wikipedia describes such things. How we make links between Wikidata's peers and peerages and our - occasionally gender split - peerages will require more investigation into how Wikidata handles peerages that switch gender and a bit more thought. Lots more thought.

## Kind hearts and coronets

If you've been following along from home, you'll probably be aware that [David](https://twitter.com/clerkly) was kind enough to give us access to the peerage data that sits behind [his website](http://peerages.info/). Michael has been poking at said data, partly to better understand what our Lords' Membership model should look like and partly because it's fun to poke at. He's written a series of rake tasks to reshape the data from fairly flat tables conflating peerages and peers to [a new schema](http://peerages.herokuapp.com/schema.png) that [picks](http://peerages.herokuapp.com/people/35) [apart](http://peerages.herokuapp.com/peerages/12) the two and pops a 'peerage holding' in the middle. This week he's been mainly battling with the notion of [subsidiary titles](https://en.wikipedia.org/wiki/Subsidiary_title) which exist in David's data as child records of peerages. In the main, this works fine, but breaks for a chap called [Scarsdale](https://en.wikipedia.org/wiki/Viscount_Scarsdale#History) who held two peerages, one with a special remainder. Which meant the peerages parted company somewhere down the inheritance chain. David's website seems to suggest that the thing that groups a "parent" peerage with its subsidiary titles is a single [letters patent](https://en.wikipedia.org/wiki/Letters_patent#Form_of_British_letters_patent_creating_peers). So Michael has proceded on this basis and [grouped accordingly](http://peerages.herokuapp.com/letters-patent/30). This works fine for the vast majority of cases, all subsidiary titles having the same date of letters patent as their "parent" peerage. We have a single outlier in the case of the current [Duke of Cambridge](http://peerages.herokuapp.com/peerages/2740), whose main peerage has a letters patent date of 26/05/2011 and two subsidiary titles - the Earl of Strathearn and Lord Carrickfergus - having a letters patent date of 29/04/2011. Whether this is a data entry error or a misunderstanding on our part remains unclear. Anya has checked the London Gazette and found a single announcement. So for now, Michael has assumed incorrect dates on the subsidiaries and [smushed them into the same letters patent](http://peerages.herokuapp.com/letters-patent/2859) as the "parent" peerage. If you're one of the very few people who understands how letters patent work for subsidiary peerages and what might have happened with the Duke of Cambridge, please do get in touch.

He's also hit up against the gender switching peerage problem. Whilst David only handles the first holder of a peerage, if we're to cope with a peerage potentially switching genders, the titling is problematic. For hereditary peerages initially held by a female, he's gone with [female rank / male rank title](http://peerages.herokuapp.com/peerages/330). For peerages initially held by a male but with a special remainder allowing for female inheritance, he's gone with [male rank / female rank title](http://peerages.herokuapp.com/peerages/615). It's possible that there is established practice on this and that Michael is not following it. If that's the case, he can only plead that he can't find it.

## On orders being standing

We can't deny it was quite tempting to start with this section. [Standing orders](https://standing-orders.herokuapp.com/) being [meme-worthy](https://twitter.com/brokenbottleboy/status/1357598256629510145) makes this the very rarest of weeks. But in all honesty, we don't have much to say on the subject. [Tom](https://twitter.com/tomgfleming), from the [ParlRules](https://parlrulesdata.org/) project, was kind enough to read through and idiot check the comments on our [standing order model](https://ukparliament.github.io/ontologies/standing-order/standing-order-ontology.html). No corrections were issued. Thanks Tom. If you, dear reader, are a standing order kind of person - preferably not representing Handforth Parish Council - please do take a minute to read them. [READ THEM AND UNDERSTAND THEM](https://www.youtube.com/watch?v=jB3P_0GAi0I&t=3m52s).

## Logicifying the procedure model

Jayne and Michael have continued on their quest to logicify our procedure maps. This week it was time to [turn their attention](https://trello.com/c/XkHLVd0P/13-remap-draft-negative) to the draft negative statutory instrument map. Made all the easier because it's basically the [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/made-negative.pdf) with the word 'being' switched out for 'becoming', a new top and a new tail. The [logicified map is now published](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/draft-negative.pdf) for your delectation. It still needs labels adding to non-business steps and we still need to shove it all inside the machines. Both rewarding tasks that should see everyone bright eyed and busy tailed next week. In the course of mapping the draft negative, complete with steps for withdrawal in both Houses, Jayne and Michael noticed they had overlookeded revocation on its made sibling. Which should preclude many things. But does not. A [new card](https://trello.com/c/0a2P1RGU/77-made-negative-look-at-revocation-preclusions-generally) has been added.

## Egg timing

Wednesday saw a mass meeting of librarians with Anya, Jayne, [Claire](https://twitter.com/tinysprite), Emma and [Ayesha](https://twitter.com/askalibrarylady) joining computational experts Robert and Michael for a chat about [factors that might cause the scrutiny clock to stop](https://trello.com/c/P04zfEfN/340-the-clocks-and-revocation-what-do-the-clocks-mean). Other than time itself. At the moment we reset the clock end to the date of revocation should the instrument be revoked. But we do not do that for other things that cause a procedure to conclude. Such as the approval of a fatal prayer or the rejection of an approval motion. Given we already have two flavours of 'procedure concluded' steps, leaving the clock to describe time outside of procedural possibilities feels like the more sensible decision. But we still need to confirm this with JO Jane. Emails will follow as emails inevitably do.

## Rationalising the procedure model

Hot off the heels of last week's chat with JO Jane, we're keen to implement start steps, concluding steps, key steps and Member action steps at the earliest possible opportunity. But the more properties we added between procedures and steps, the noisier the model got. Robert and Michael hit upon the idea that we'd be better off turning four predicates into a new class with a type enumeration. But we already had a class to cover the grouping of steps into stages in a bill procedure. Which is not disimilar to grouping any other type of step in any other type of procedure. So that model has been repurposed as a [step collection class](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e244) with a [step collection type class](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e255) to cover the enumeration. And everything is much neater.

## We're going on a brarian hunt

Team Anya is in the process of expansion. If you're an organised and organising kind of person, looking for gainful employment and you've made it this far through these notes, please [do consider applying](https://twitter.com/commonslibrary/status/1356935799980363776). The opportunity to work with us is not to be sniffed at.



