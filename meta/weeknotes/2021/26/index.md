# 2021 - Week 26

## A thinking week

Our eagle-eyed reader might spot that this week's missive lacks the usual links to [Trello](https://en.wikipedia.org/wiki/Trello) cards. This is because we have temporarily replaced doing with thinking. Which is also work.

If you tuned in last week, you'll know that Librarian Jayne and [Michael](https://twitter.com/fantasticlife) had been attempting to logically - and arithmetically - [remap the CRaG treaty procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/logic-gates/crag-treaties.pdf). Which proved to be hard going. Very hard going.

To recap just a little. In the process of scrutinising almost anything, Parliament leaves behind a paper trail. Much like Hansel. And indeed Gretel. And with a little patience it is at least possible to reconstruct said confetti into some overarching picture of what happened. Provided you know how the [Order](https://commonsbusiness.parliament.uk/document/48969/html) [Papers](https://lordsbusiness.parliament.uk/?businessPaperDate=2021-07-05) work, where the [divisions](https://www.parliament.uk/globalassets/documents/commons-information-office/Divisions.pdf) are recorded, which committees are likely to take an interest, which days those committees tend to meet on and when they tend to publish their reports. It is, in short, rather hard work. By [modelling the procedure](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html) and hanging off [business items](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e211), we've managed to draw the assorted [layings](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e106), [tablings](https://ukparliament.github.io/ontologies/tabling/tabling-ontology.html), [motions](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/motions/logic-gates/motion.pdf), decisions, referrals and committee reports which add up to the procedure for a given [work package](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e222) into one place. All of which could, in fairness, have been driven off one of those link hub type websites that complex organisations are so fond of. But by building atop an underlying model of procedure, we can do more. We can [query across the aggregate of work packages](https://ukparliament.github.io/ontologies/procedure/meta/queries/) and start to see patterns. Or precedence if you will. Commonly asked questions such as 'how many times did X happen when Y did not and Z was scheduled to' or 'when did thing Y last happen under circumstances X', are available to answer at the click of a [SPARQL](https://en.wikipedia.org/wiki/SPARQL) button.
 
And still, there is more. The difficulties of working out what has happened are as nothing compared to the difficulties of working out what might happen next. To do this you'd need at least access to [legislation.gov.uk](https://www.legislation.gov.uk/), the [Standing Orders](https://api.parliament.uk/standing-orders) of each House, a copy of [the Companion](https://publications.parliament.uk/pa/ld/ldcomp/compso2017/compso02.htm), a copy of [Erskine May](https://erskinemay.parliament.uk/) and a working knowledge of how to read them all. But by modelling out procedure as a logical map and capturing what has happened, we can [use code to parse the procedure map](https://api.parliament.uk/procedures/meta/comments) and [build a picture of what is now procedurally impossible, procedurally possible and procedurally plausible](https://api.parliament.uk/procedures/work-packages/9). All the while citing sources. Which shifts the view from a paper trail from the past to a [light cone](https://en.wikipedia.org/wiki/Light_cone) projected into the future. We should, at this point, note that we are well aware that some things will always remain unmappable. Politics being one obvious example. But the basic framework of procedure - as informed by legislation, standing orders and precedent - can be mapped. And by mapping we can build a better picture of both the past and the many and varied futures. [Doing some hard work to make some things simple](https://www.gov.uk/guidance/government-design-principles#do-the-hard-work-to-make-it-simple), as our friends at [GDS](https://www.gov.uk/government/organisations/government-digital-service) might say.

To recap a little more. Whilst the [treaty procedure as set out by the Constitutional Reform and Governance Act 2010](https://www.legislation.gov.uk/ukpga/2010/25/part/2#section-20) may have much to recommend it, attempting to describe it to machines is at best painful. There are complications hitherto unencountered in our grapplings with [statutory instruments](https://en.wikipedia.org/wiki/Statutory_instrument_(UK)). All the things you'd expect to be there - layings, withdrawals, tablings, debates, decisions - are there. But there is also a governmental escape hatch in the form of [section 22](https://www.legislation.gov.uk/ukpga/2010/25/section/22#section-22) which can be triggered at any time. Or at least any time during [period A](https://www.legislation.gov.uk/ukpga/2010/25/section/20#section-20-2). Which brings us on to the periods. Treaties are laid into both Houses. This triggers period A. During period A [one or the other or both Houses might resolve against ratification](https://www.legislation.gov.uk/ukpga/2010/25/section/20#section-20-1-c). The Government might then [make a statement](https://www.legislation.gov.uk/ukpga/2010/25/section/20#section-20-4-a) setting out that, in their view, the treaty should nonetheless be ratified. If the Lords and not the Commons resolve against ratification in period A, that statement makes ratification possible. If both Houses or just the Commons resolve against ratification in period A, the statement triggers the first in a potentially infinite series of [period Bs](https://www.legislation.gov.uk/ukpga/2010/25/section/20#section-20-5). The statement can seemingly happen at  any point past the end of period A.  It can also happen during period A - or at least the legislation does not seem to suggest otherwise.  Which means the periods are not only not contiguous but might overlap. In period B, [only the Commons can resolve against ratification](https://www.legislation.gov.uk/ukpga/2010/25/section/20#section-20-4-b). Should this happen, the Government might, once again, make a statement which, once again, triggers a brand new period B. And so on. And so forth.

The difficultly here is in describing what might happen in any variation of period B. We know that we're in a period B if the number of times we've entered period B does not equal the number of times we've exited period B. We don't want to take account of motions tabled in the first period B during any subsequent period B. Which means we need to know how many times the Commons have resolved against ratification and compare that to the number of times we've entered period B.

It is a truth commonly acknowledged that [computers and recursion don't mix](https://en.wikipedia.org/wiki/Infinite_loop). And recursion is impossible to work with if you can't first count. So we've added an arithmetic layer to our logical procedure maps and parsing code. So far we have the ability to [sum actualisation counts](https://api.parliament.uk/procedures/comments/plus_step.rb.html) across business steps, [compare the equivalence](https://api.parliament.uk/procedures/comments/equals_step.rb.html) of actualisation counts across business steps and increment the value of an actualisation count from a business step. All but that last one also being added to our [parsing code](https://api.parliament.uk/procedures/meta/comments). It begins to feel like we may just be inventing a programming language here. Albeit with crayons.

All this has led to Librarian Jayne and Michael spending most of the week trying to map out the CRaG treaty procedure with only [NOT](https://api.parliament.uk/procedures/comments/not_step.rb.html)s, [AND](https://api.parliament.uk/procedures/comments/and_step.rb.html)s, [OR](https://api.parliament.uk/procedures/comments/or_step.rb.html)s, PLUSes, EQUALs, INCREMENTs and bits of string at their disposal. Meetings that were supposed to last an hour finished after forty minutes because their brains were fried. Nevertheless, by Thursday, they believed they'd cracked it. There is now [a new map](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/logic-gates/redux/redux.pdf). And because the map is still rather hard to get your head around, they've also taken the time and trouble to [type it out longhand](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/logic-gates/redux/). Both map and words have been distributed to a selection of the usual suspects so we're hoping to get our homework marked in the not too distant future.

In the course of brandishing crayons, they've also invented a new step type. Or think they have. So tricky was keeping track of the logic that there are now square boxes that are a kind of cross between placing fingers between pages, post-it notes and margin scribbles. The square boxes are so handy that an emergency meeting of librarians [Anya](https://twitter.com/bitten_) and Jayne and computational 'experts' Robert and Michael was convened. What are these new step types? Are they indeed step types? Do they express state? Or are they just helpful scribbles? Only time and more pondering will tell.

## On the nature of time

Librarian Ned, young Robert and Michael continued to make progress on reshaping our [parliamentary time period model](https://ukparliament.github.io/ontologies/time-period/time-period-ontology.html). It's been a while since we touched it and our knowledge of time has moved on somewhat. For instance, the old version had a class for statutory days. We had intended to use this class to mark calendar days as countable for the purposes of establishing scrutiny periods for [statutory instruments](https://en.wikipedia.org/wiki/Statutory_instrument_(UK)), [proposed negative statutory instruments](https://www.gov.uk/eu-withdrawal-act-2018-statutory-instruments), [treaties](https://en.wikipedia.org/wiki/Treaty) and such like. But that was before we learned of the [many and various ways](https://parliament-calendar.herokuapp.com/meta/comments) in which legislation sets out such arithmetic. And now we have our beloved [egg timer](https://parliament-calendar.herokuapp.com/) and know better. A new class has been added to describe the lockdown phenomena of [virtual sitting days](https://ukparliament.github.io/ontologies/time-period/time-period-ontology.html#d4e258). Which may or may not have an impact on such calculations depending on [whether you're speaking to a clerk or a lawyer](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L141). Our comments have been ever more finely tuned. Who knows, one day we might just be able to make an egg timer that runs off the data platform. And not off Heroku.

## Relationifying the models

Anya, Robert and Michael continued to carve out [spiritual space](https://en.wikipedia.org/wiki/Lords_Spiritual) for Lords. They've now ticked off [the modelling](https://github.com/ukparliament/ontologies/blob/master/meta/relational/schema.sql#L253) for the 'great see' bishops. A [table capturing the hierarchy of bishoprics](https://github.com/ukparliament/ontologies/blob/master/meta/relational/schema.sql#L221) - at least in the parliamentary sense - has been added. It remains only to fill in the marvellously named '[bishopric parliamentary seniority incumbency](https://github.com/ukparliament/ontologies/blob/master/meta/relational/schema.sql#L263)' table, and we are Church of England complete. At which point they plan to dive back in to elections - both for the House of Commons and for [excepted hereditary peers](https://en.wikipedia.org/wiki/By-elections_to_the_House_of_Lords) - and we should have [a model](https://ukparliament.github.io/ontologies/meta/relational/) that describes seats in Houses, bottoms incumbent in those seats, all the reasons why a seat might exist and all the reasons why said bottoms are incumbent. Marvellous.

## [Forming like Voltron](https://www.youtube.com/watch?v=2kkJDHRYxWM)

On Friday, our team of crack librarians assembled in person for the first time since we were first locked down. Or at least a sizeable portion did. Librarians Anya, Jayne, [Claire](https://twitter.com/tinysprite), Emily and Steve all headed into Westminster. During lockdown, we have acquired a brand new pair of librarians in the shape of [Ayesha](https://twitter.com/askalibrarylady) and Anna. Ayesha turning up sight unseen after her camera failed at interview. None of us have met either of them via any medium other than pixels. So security passes were picked up and the librarians set off on a tour of our beloved Palace and some of our other, less beloved  offices, followed by lunch in St James's Park and later the requisite trip to the pub. Welcome Ayesha and Anna.







