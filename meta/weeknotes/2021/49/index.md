# 2021 - Week 49

For the fourth time in twice as many weeks, we must kick off with an apology. Last time your regular correspondents put pen to page, [our notes](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/47/) came with an assurance that we'd learnt our lesson and would, from this point forward, commit to weeknotes being weekly. Or at least make best endeavours. Unfortunately, events have, once again intervened. A bad case of RSI meant [Anya](https://twitter.com/bitten_) lost the use of her wrists, Robert lost one of his ears and [Michael](https://twitter.com/fantasticlife)'s wife fell off a oss and broke her wrist, thereby confining him to camp and placing him firmly on kettle-related duties. We know we are better than this but also recognise our promises are next to worthless.

## A big announcement

This week was a big one. Changes have been pushed to the [statutory instruments website](https://statutoryinstruments.parliament.uk/) which allow us to add new procedures without risking a fire in the instrument stack. The first of these new procedures - [Published drafts under the European Union (Withdrawal) Act 2018](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/published-drafts-under-euwa/published-drafts-under-euwa.pdf) - has now made its way to the website, has have [work packages for the six instruments we've seen to date](https://statutoryinstruments.parliament.uk/?SearchTerm=&House=&LayingBodyId=&Procedure=jaKY87jt&ParliamentaryProcess=&RecommendedForProcedureChange=&ConcernsRaisedByCommittee=&MotionToStop=&DebateScheduled=&ShowAdvanced=true). Hurrah!

For those wondering what a published draft might be, you've come to the right weeknotes. The publishing of such drafts results from an additional duty imposed upon Government toward Parliament for statutory instruments which amend or revoke subordinate legislation under [section 2(2) of the European Communities Act 1972 (as was)](https://www.legislation.gov.uk/ukpga/1972/68/section/2/2018-04-01). The details of this duty being set out in [paragraph 14 of schedule 8 of the European Union (Withdrawal) Act 2018](https://legislation.gov.uk/ukpga/2018/16/schedule/8/enacted#schedule-8-paragraph-14). So now you know. In truth, the unbolting of the published draft door is merely a first step. Now we're able to add additional procedures, expect others to follow in fairly short order. For some definition of short. More later.

Unbolting the procedure gate was only part of the story. We've also added [enabling acts](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/published-drafts-under-euwa/published-drafts-under-euwa.pdf) to both model and data. Which means you can now search for proposed negative statutory instruments [enabled by the European Union (Withdrawal) Act 2018](https://statutoryinstruments.parliament.uk/?SearchTerm=&House=&ActOfParliamentId=Ma8CbL0w&LayingBodyId=&Procedure=iCdMN1MW&ParliamentaryProcess=&RecommendedForProcedureChange=&ConcernsRaisedByCommittee=&MotionToStop=&DebateScheduled=&ShowAdvanced=true) as opposed to any future instruments that may be [enabled by the European Union (Future Relationship) Act 2020](https://statutoryinstruments.parliament.uk/?SearchTerm=&House=&ActOfParliamentId=E8YsAwki&LayingBodyId=&Procedure=iCdMN1MW&ParliamentaryProcess=&RecommendedForProcedureChange=&ConcernsRaisedByCommittee=&MotionToStop=&DebateScheduled=&ShowAdvanced=true). Examples of which we have yet to see.

The enabling Act filter works across all favours of SI but is currently limited to Acts given [Royal Assent](https://en.wikipedia.org/wiki/Royal_assent#United_Kingdom) since 1987. That said, we're working with our friends at [TNA](https://www.nationalarchives.gov.uk/) to rectify this in due course. No pressure [Catherine](https://twitter.com/CathTabone). We're also more than aware that Acts are not the only things that enable SIs. One day we hope to update the filter to include all [enabling things](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html#d4e155).

On the subject of both enabling and [enabled things](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html#d4e181), we should, at this point, thank [Matthew](https://twitter.com/mattwadd) for a very useful pixel-based chat back in lockdown one. The current shape of the SI website, our data, our [legislation model](https://ukparliament.github.io/ontologies/legislation/legislation-ontology.html) and our ability to add new flavours of instrument on the merest whim owe much to that conversation. Thanks Matthew.

For the more [SPARQL](https://en.wikipedia.org/wiki/SPARQL) minded, you will be pleased - if not surprised - to learn that Librarian Jayne has also added a whole suite of [published draft queries](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/published-drafts-under-euwa/) and a slew of [enabled thing queries](https://ukparliament.github.io/ontologies/procedure/meta/queries/procedural-steps/enabled-things/) to our ever growing [query library](https://ukparliament.github.io/ontologies/procedure/meta/queries/). She's also [rewritten](https://trello.com/c/80qWumES/217-update-any-queries-in-our-library-to-cope-with-enabled-things) a good many of our existing queries to cope with our lovely little enabling / enabled model.

Other changes to website presentation have also gone live. But if you're interested in those, you're better off reading [Jayne's short thread on made-n-laid](https://twitter.com/madenlaid/status/1466395002393743362). It would be rude to leave this section without pointing out just how much work Jayne has done on all this. At times she has been designer, query writer, modeller, mapper, data manager, project manager, delivery manager and beyond. She really does deserve a rest.

## Remediating remedial orders

One week on, we are slightly less baffled by the made affirmative remedial order procedure. But only slightly less. Journal Office Eve got back to confirm our assumption that such an order can be scrutinised but not approved in the first 60 days following laying. This because the Minister must consider representations made during that period. That said, she also confirmed that [the Act](https://www.legislation.gov.uk/ukpga/1998/42/schedule/2#schedule-2-paragraph-4-1) is silent on this point. So, for once, it is not just our comprehension skills that are at fault. A recommendation to gather legal advice was issued and a fresh email has winged its way to [Ellie](https://twitter.com/ellie_hourigan).

## Public bill progress ...

... has been minimal. Our basic [bill model](https://ukparliament.github.io/ontologies/bill/bill-ontology.html) finally got sent to a number of the usual suspects with a request for comments. Luckily, nobody complained about our subclassing of [hybrid bills](https://ukparliament.github.io/ontologies/bill/bill-ontology.html#d4e121) under [public bills](https://ukparliament.github.io/ontologies/bill/bill-ontology.html#d4e108). Which is the bit we probably spent the most time on. So that's a relief.

Legislation Office Liam got back to point out it is always Explanatory Notes, not [Explanatory Note](https://ukparliament.github.io/ontologies/bill/bill-ontology.html#d4e203). Michael must take the blame for this, having always preferred singular class names to plural ones. Even when that is clearly incorrect. Sorry everyone. Liam also pointed out that our [legislative consent map for the Senedd Cymru](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/devolved-legislature-consent/welsh-parliament/welsh-parliament-consent.pdf) should probably say Senedd Cymru. Since that is how the UK Government refer to it. And not the Welsh Parliament, as we have now. Liam also got back with recommendations for further classifications to cover bills of aids and supplies and money bills but, whether such distinctions belong in the model or [the map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/), we're not yet quite sure. Though we suspect the money-ness of a bill belongs in the map and the supply-ness in the model. Perhaps. Time will tell.

We do now have both [map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/ten-minute-rule/ten-minute-rule.pdf) and [data](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/ten-minute-rule/ten-minute-rule.svg) for motions for leave to bring in a [ten minute rule bill](https://en.wikipedia.org/wiki/Ten_Minute_Rule). Up until Tuesday of this week, we also thought we had both [map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/first-reading/first-reading.pdf) and [data](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/first-reading/first-reading.svg) for Commons first reading and a fairly reasonable start on a [map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/second-reading/second-reading.pdf) for Commons second reading. That was before Liam was kind enough to spend an hour listening to our prattlings. Which is why both maps now feature assorted scribbled margin notes. More work for next week. Thanks Liam.

## The cancellation of deferment

By rights, on a motion being moved it belongs to the House and cannot be withdrawn without the Member moving begging permission to do so. On a question on a moved motion being put, some outcome must occur. It really should not be possible to withdraw a motion once the question has been put to the House. In the House of Commons, of course, we have the concept of deferred divisions. The question is put one day, and the division taken on some later date. Our maps have always allowed for deferment but not for a question being deferred and the motion being withdrawn. Unfortunately, just such a [fate](https://commonsbusiness.parliament.uk/document/51667/html#anchor-14) awaited the [Motor Vehicles (Driving Licences) (Amendment) (No. 2) Regulations 2021](https://statutoryinstruments.parliament.uk/instrument/bPmqor5J/timeline/8na21AxC/). In this case, the 8th of November saw the question put in the Commons and the 16th November saw both the instrument and its approval motion withdrawn *and* the deferred division cancelled. An eventually that we'd never mapped. Following a request from the Commons Journal Office, Jayne and Michael have now added "deferred division cancelled" steps to [all four statutory instrument procedures](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/#statutory-instrument-procedures) and our [CRaG-based treaty procedure](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/crag-treaties.pdf). Though they have time-bound the routes to these steps to a window of one day before this happened and one day after. So our procedure parsing code should not show this as a thing that's possible to happen. At least until the point it happens again.

## Problems with parsing

Our regular reader will know that, at some point earlier this year, we took the decision to move from binary logic to [ternary logic](https://en.wikipedia.org/wiki/Three-valued_logic). With no clear memory as to why. Librarian Jayne has recently been testing our [Jianhan](https://twitter.com/jianhanzhu)'s procedure parsing code and stumbled across a rather unfortunate problem. Please bear with us here.

The shift to ternary logic had seen both unactualised [steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e175) and [actualised](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e308) steps with a [business item](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e211) having either no date or a date in the future, [emit a NULL](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/with-step-types/#current-states-of-a-business-step) and not a FALSE. Logic steps were similarly updated to handle inputs of TRUE, FALSE and NULL. A NULL input being specified as rendering a logic step as transparent. This meant that an [AND step](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/with-step-types/#and-steps) in receipt of a TRUE and a NULL would output a TRUE. Fans of joint committees will spot an obvious error here. An instrument being laid in the Commons emitting a TRUE and being not laid in the Lords emitting a NULL, the two being combined via an AND step to emit a TRUE. Thereby bringing the [Joint Committee on Statutory Instruments](https://committees.parliament.uk/committee/148/statutory-instruments-joint-committee/) into play. As any fule kno, the JCSI only examine instruments laid before both Houses. So what we had was most definitely - and worryingly - wrong.

The problem was, whilst everyone had a recollection of the switch to ternary, neither Anya nor Jayne nor Robert nor Michael could remember why. Anya came up with the bright idea that, since we write weeknotes, there might be some clue in there. A quick Google later and [the notes from week 46 of 2020](https://ukparliament.github.io/ontologies/meta/weeknotes/2020/46/#logicifying-the-procedure-model) came up trumps. Though unfortunately still made little sense. For two terrifying days, Michael thought we might need to remap everything with two different styles of AND step. But further sketching revealed no situation in which simple binary logic would not work. So the decision was taken to amend [two](https://github.com/ukparliament/Procedures/blob/master/Procedure.Web/Controllers/WorkPackagesController.cs#L133) [lines](https://github.com/ukparliament/Procedures/blob/master/Procedure.Web/Controllers/WorkPackagesController.cs#L137) of Jianhan's code to make the switch back to binary. Jayne has retested with this new setup - existing errors have been fixed and no new errors have been spotted. There is still some minor tweaking that needs to happen to further [tighten up the logic in our maps](https://trello.com/c/lRnPUifF/223-tighten-logic-to-help-parsing) but no need for a full-scale rewrite. For which we wish to thank every diety known to man. And then invent some and thank them too.

## Written statements

There was a recent-ish realisation that we'd somehow managed to forget to ever model written statements. An oversight that has become problematic as our attentions turned back toward written questions and answers. The start we made on [example RDF for written questions](https://github.com/ukparliament/ontologies/tree/master/question-and-answer/examples/lords/tabled-for-written-answer) being somewhat hobbled by our inability to describe corrections in the form of written statements. To plug this hole Librarians Anya and Emma and their computational errand boy Michael found themselves meeting via pixels to sketch [an outline of a model](https://github.com/ukparliament/ontologies/blob/master/written-statement/written-statment.svg). The major change from existing models is the insertion of a [FRBR](https://en.wikipedia.org/wiki/Functional_Requirements_for_Bibliographic_Records)-style work-level concept of a written statement. This because upwards of 90% of such statements are duplicated across the two Houses and adding a House-independent work-level object gives us a way to wrap the two statements and annotate appropriately. Whilst also saving our crack team of librarians a great deal of work. We really need to chat this through with colleagues in both Table Offices before we start to transition from pixels to [Turtle](https://en.wikipedia.org/wiki/Turtle_(syntax)) but with Christmas Recess rapidly approaching that may well be a job for the new year.

## Relationifying

Our efforts to [relationify](https://ukparliament.github.io/ontologies/meta/relational/) some of our more ontological efforts continue to gather pace. Librarians Anya and Ned were joined by computational colleagues Robert and Michael as our [geographic area model](https://ukparliament.github.io/ontologies/geographic-area/geographic-area-ontology.html) made it's way into SQL and was joined by our first attempt to describe excepted offices named in [paragraph 2 of section 2 of the House of Lords Act 1999](https://www.legislation.gov.uk/ukpga/1999/34/section/2#section-2-2). Next up, elections. Lovely stuff.

## Patching / upgrading 

In monumentally unexciting news, Michael somehow found time between kettle duties to upgrade the code that sits behind [made-n-laid](https://twitter.com/madenlaid), [tweaty twacker](https://twitter.com/TweatyTwacker) and our beloved [egg-timer](https://parliament-calendar.herokuapp.com/) to [Ruby 3.0.3](https://www.ruby-lang.org/en/news/2021/11/24/ruby-3-0-3-released/) and [Rails 6.1.4.1](https://weblog.rubyonrails.org/2021/8/19/Rails-6-0-4-1-and-6-1-4-1-have-been-released/). Our user should see no actual improvement to these services but, in the unlikely event  someone felt the need to hack them, doing so has been made more difficult. We read this week - we forget quite where - that if you want your code to remain invulnerable to exploits, you really need to be deploying at least once a week. And preferably more. Whilst we can't quite commit to that level of service we cannot disagree with the advice.