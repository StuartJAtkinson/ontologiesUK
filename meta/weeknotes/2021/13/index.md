# 2021 - Week 13

## A brief eulogy - please indulge us

It may surprise our reader to learn that not many moons ago at least one of your correspondents did not know what a [statutory instrument](https://en.wikipedia.org/wiki/Statutory_instrument_(UK)) was. Let alone why Parliament should take an interest in such things. It took JO Jane patiently walking us through her collection of many and various flowcharts to make any sense of it. Our minds drift back to workshops in the [stickle brick castle](https://en.wikipedia.org/wiki/Richmond_House) that was then the home of the [Parliamentary Computational Section](https://www.parliament.uk/mps-lords-and-offices/offices/bicameral/parliamentary-digital-service/), where [plans were planned](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/data-areas/data-areas.pdf) and wireframes sketched for what was to become the [SI service](https://statutoryinstruments.parliament.uk/). Parliament's website is mostly fine when it comes to documenting what has happened. It is less good at showing users what is likely to happen next. To work that out, one needs [a knowledge of procedure](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/informing/informing.pdf). Which means a knowledge of the [legislation](https://www.legislation.gov.uk/ukpga/Geo6/9-10/36/contents), [standing orders](https://api.parliament.uk/standing-orders), [Speaker's rulings](https://www.parliament.uk/site-information/glossary/speakers-rulings/) and [precedence](https://erskinemay.parliament.uk/) that underpin procedure. Which is hardly common knowledge.

Early wireframes divided a [work package](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e222) page for a statutory instrument into four sections: one for the instrument itself, one for things that had already happened, one for things scheduled to happen and - breaking slightly with tradition - a section showing what was likely to happen next. JO Jane's various flowcharts indicated we'd have to model some kind of process flow. It was from this - several whiteboards later - that our beloved [procedure model](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html) and [maps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps) emerged. It would have been simpler and quicker to build the SI service as another link hub, with no knowledge of the underlying structure of procedure. But then we wouldn't have been able to build [our sparkling SPARQL library](https://ukparliament.github.io/ontologies/procedure/meta/queries/) to query precedence across instruments. And the underlying model would have been quite dumb; incapable of extending our [light cone](https://en.wikipedia.org/wiki/Light_cone) of procedural possibilities into the future.

The thing about a process model is, given accurate maps and the means to populate them with your journey so far, you can [extrapolate into the future](https://medium.com/building-the-agile-business/possible-futures-1e91eecdcb08). At this point your maps begin to function like sat navs, and the roads ahead become clear. This at least is the theory. But theory can be hard to reconcile with practice. All of which led to [Michael](https://twitter.com/fantasticlife) spending the best part of the last few weeks attempting to write code to parse a work package subject to a [logically mapped procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/#procedure-maps-with-logic-gates), in an attempt to show not only what has happened but what should happen next, what might happen next and what definitely should not happen next. His efforts have met with what can fairly be called limited success. Waking and sleeping hours have seen him preoccupied with traversing [routes](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e164) through procedures, in a desperate attempt to save us from the embarrassment of having to tell JO Jane that, actually, procedures cannot be parsed and the space of future possibilities was not a space it would be possible to explore. Given the amount of [words we've written](https://smethur.st/posts/176135870) and the number of [presentations we've given](https://www.slideshare.net/UKParliData/what-would-erskine-may-do), this would have been unfortunate at best. But this week ...

This week, [our code](https://github.com/ukparliament/procedure-parsing) [parsed its first procedure](https://api.parliament.uk/procedures/work-packages/9). Unfortunately we were not in the office; cries of joy and ripples of applause did not ring out across SW1. And as pubs remain closed, pint glasses went unclinked. Nevertheless, we cannot pretend to not be pleased by this. A cry of "PRAXIS!" may even have escaped Michael's lips. That in itself is not unusual. 

The code is less than optimal, there is still work to do. Happily, there is always more work to do. You might, for instance, have noticed that the machines think laying into both Houses is a still a thing that should or might happen. Even though it's quite clearly happened. This is a side effect of how we currently store [laying dates](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e324), which is much too tedious to go into here. A [ticket has been raised](https://trello.com/c/YSqaw3F6/118-ensure-laying-business-items-have-a-business-item-date) for the attention of our [Jianhan](https://twitter.com/jianhanzhu). In the meantime, young Robert and Michael sharpened their tiny chisels and once more embarked on a mission to refactor and re-comment the code. Resulting in what might be [their most obtuse comment to date](https://github.com/ukparliament/procedure-parsing/blob/master/lib/parsing/parse.rb#L11). We'd all like to thank [Samu](https://twitter.com/langsamu) for - once again - pointing our noses in the right direction.

## Logicifying and indeed componentising the procedure maps

In more humdrum procedure modelling news, Librarian Jayne and Michael [continued](https://trello.com/c/5E9nhOmb/16-remap-made-affirmative) to remap the monstrosity that is the [made affirmative procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/made-affirmative.pdf) - or perhaps, more accurately, procedures - to our new logical model. The Commons and Lords sides and the ever- and omni-present [JCSI](https://committees.parliament.uk/committee/148/statutory-instruments-joint-committee/) are mostly done. It only remains to wrap with options of 'remaining law' and 'stopping being law' and to pop a couple of 'procedure concluded' bows on top, and we are done with [all SI procedures](https://github.com/ukparliament/ontologies/tree/master/procedure/flowcharts/sis/logic-gates). At least for now.

## Enabling enabling Acts

Now that our work to enable enabling Acts is enabled, we've been wondering if we could save ourselves a little work populating it. The impetus for adding the enabling Act model is to identify [proposed negative statutory instruments](https://www.parliament.uk/site-information/glossary/proposed-negative-statutory-instrument/) by their enabling Act; to separate enabled by the [European Union (Withdrawal) Act 2018](https://www.legislation.gov.uk/ukpga/2018/16/schedule/7/enacted#schedule-7-paragraph-17) from enabled by the [European Union (Future Relationship) Act 2020](https://www.legislation.gov.uk/ukpga/2020/29/enacted#schedule-5-paragraph-8). That model is simply begging to also be populated with links from SIs to their enabling Act or Acts. A chat with [John](https://twitter.com/johnlsheridan), [Matthew](https://twitter.com/matthewj_bell) and [Catherine](https://twitter.com/CathTabone) raised the prospect of calling their beta legislation API with the URL of an SI and getting back all enabling Act details. Which would make linking the two trivial. This week, Catherine sent through the details of the new API. Enabling Acts is not there yet; hopefully it will be soon. In the meantime, Jianhan has started to grab Act data in the hope we can populate our internal search platform in a more efficient way than DevOps folks adding triples by hand. Thanks TNA people.

## Indexing petitions

[Anya](https://twitter.com/bitten_), Jianhan and young Robert have been busy beavering away on ingesting [petitions data](https://petition.parliament.uk/) - first into the data platform and from there, in a slightly reduced form, into our search and indexing triple store. They're waiting on the people at the other end of the pipes to retain Government responses that have been succeeded by a more recent response, but everything else is proceeding smoothly. Mostly. There was a brief kerfuffle when Anya added petitions as a new subtype and the facet refused to show up in the web interface. But a quick smack from Jianhan's trusty computational spanner seemed to fix that snaggle. There is almost no computational problem that can't be fixed by hitting the thing with a spanner.

## Kind hearts / coronets

If you've been following along from home, you'll know that we've been wading knee-deep through [David](https://twitter.com/clerkly)'s peerage database. Whilst [David's data](https://api.parliament.uk/peerages) is peerage centric - describing the first holder only, and the [letters patent](https://api.parliament.uk/peerages/letters-patent/2690) by which the peerage was granted - we were keen to [reshape it](https://api.parliament.uk/peerages/meta/schema) into something that can also capture subsequent holders. We now have a table for [peerages](https://api.parliament.uk/peerages/peerages/a-z/a), a table for [people](https://api.parliament.uk/peerages/people/a-z/a) and a table joining the two, to hold the peerage holders. Librarian Ned compiled some test data to check the newly reshaped database could hold everything we needed it to. No problems were spotted. Now Grant - our new friend at the [College of Arms](https://www.college-of-arms.gov.uk/) - has started to compile his own spreadsheet and the data has been loaded into the website, the [Barony of Blythswood](https://api.parliament.uk/peerages/peerages/542) being one such example.

In a nod toward linking the peerage data, Michael has added external identifiers to people - Wikidata, [MNIS](https://data.parliament.uk/membersdataplatform/memberquery.aspx) and [Rush](https://membersafter1832.historyofparliamentonline.org/) - and peerages - for now just Wikidata. So far only populated for [one person](https://api.parliament.uk/peerages/people/2048) and [one peerage](https://api.parliament.uk/peerages/peerages/12). If anyone knows of a librarian with time on their hands ...

## On orders being standing

A wee while back Anya took issue with [our implementation of persistent URLs for standing orders](https://api.parliament.uk/standing-orders/orders/144). Whilst the URLs functioned perfectly well, a single order divorced of all context was not, we were told, what anyone would expect. So Michael added a new redirect URL. If the order is extant the new URL redirects to the [current revision set, anchor linked to the order in question](https://standing-orders.azurewebsites.net/revision-sets/260#order-14); if the order is extinct it redirects back to the orphan order. At some point last week, Michael  popped into a twitter conversation to share [his opinions](https://twitter.com/fantasticlife/status/1377156791864188930) on the separation of identification from naming conventions. He later realised that having added the new redirect URLs they were not described anywhere, so nobody knew they existed. He's added a signpost to the redirect URLs from both [order](https://standing-orders.azurewebsites.net/orders/217) and [fragment](https://standing-orders.azurewebsites.net/fragments/163) pages. And even added some JavaScript to copy them to your clipboard. Should you be so inclined. This is his first bit of JavaScript in about 20 years and will probably not work on your machine.

## A second minor miracle

Last week we reported that the House of Commons Library had fielded its first enquiry the answer to which lay at the far end of a [Wikidata query](https://query.wikidata.org/). This week, it only went and happened again. The web of Members and places and Government positions grows ever richer and ever more entangled. Thanks to [Andrew](https://twitter.com/generalising) and [Simon](https://twitter.com/Tagishsimon) for lending a helping hand.