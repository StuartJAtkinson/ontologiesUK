# 2021 - Week 13

## A brief eulogy - please indulge us

It may surprise our reader to learn that - not many moons ago - at least one of your correspondents did not know what a [statutory instrument](https://en.wikipedia.org/wiki/Statutory_instrument_(UK)) was. Let alone why Parliament should take an interest in such things. It took JO Jane and her seemingly endless supply of flowcharts to make any of it make any sense. Our minds drift back to workshops in the [stickle brick castle](https://en.wikipedia.org/wiki/Richmond_House) that was then the home of the [Parliamentary Computational Section](https://www.parliament.uk/mps-lords-and-offices/offices/bicameral/parliamentary-digital-service/), where [plans were planned](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/data-areas/data-areas.pdf) and wireframes sketched for what was to become the [SI service](https://statutoryinstruments.parliament.uk/). Now the Parliament website is mostly fine when it comes to documenting what has happened. It is less good at showing users what is likely or possible to happen next. To work that out, one needs [a knowledge of procedure](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/informing/informing.pdf). Which means a knowledge of [the legislation](https://www.legislation.gov.uk/ukpga/Geo6/9-10/36/contents), [standing orders](https://api.parliament.uk/standing-orders), [Speaker's rulings](https://www.parliament.uk/site-information/glossary/speakers-rulings/) and [precedence](https://erskinemay.parliament.uk/) that underpin procedure. Which is hard to describe as common knowledge.

Early wireframes split SI service [work package](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e222) pages into four components: a section on the instrument itself, a section on things that had already happened, a section on things scheduled to happen and - breaking slightly with tradition - a section showing what was likely or possible to happen next. From the preponderance of JO Jane's flowcharts, it soon became apparent that we'd have to model some kind of process flow. From which - several whiteboards later - our beloved [procedure model](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html) and [maps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps) emerged. It would have been somewhat simpler and much quicker to just build the SI service as another link hub with no knowledge of the underlying structure of procedure. But then we wouldn't have been able to build [our sparkling SPARQL library](https://ukparliament.github.io/ontologies/procedure/meta/queries/) to query precedence across instruments. And the underlying model would have been quite dumb and incapable of extending our [light cone](https://en.wikipedia.org/wiki/Light_cone) of procedural possibilities into the future.

The thing about a process model - any process model - is that if your maps are accurate and you can populate them with your journey so far, you can [extrapolate into the future](https://medium.com/building-the-agile-business/possible-futures-1e91eecdcb08). At which point your maps start to function like sat navs and the roads ahead become clear. This at least is the theory. But theory can be hard to reconcile with practice. Which has all led to [Michael](https://twitter.com/fantasticlife) spending the best part of the last few weeks attempting to write code to parse a work package subject to a [logically mapped procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/#procedure-maps-with-logic-gates) in an attempt to show not only what has happened but what should happen next, what might happen next and what definitely should not happen next. His efforts have met with what it seems fair to call limited success. Both waking hours and sleeping hours have seen him preoccupied with traversing [routes](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e164) through procedures in some desperate attempt to save us from the embarrassment of having to tell JO Jane that, actually, procedures cannot be parsed and the space of future possibilities was not a space it would be possible to explore. Given the amount of [words we've written](https://smethur.st/posts/176135870) and the number of [presentations we've given](https://www.slideshare.net/UKParliData/what-would-erskine-may-do), this would have been unfortunate at best. But this week ...

This week, [our code](https://github.com/ukparliament/procedure-parsing) [parsed its first procedure](https://api.parliament.uk/procedures/work-packages/9). Unfortunately, we were not in the office, so applause could not be heard to ring. And the pubs are still shut, so that closed off that opportunity. Nevertheless, we cannot pretend to not be pleased by this. Some might even say smug. A cry of PRAXIS may even have escaped Michael's lips. But that in itself is not unusual. The code is still less than optimal, there is still work to do. But there is always more work to do. You might, for instance, have noticed that the machines think laying into both Houses is a still a thing that should or might happen. Even though it's quite clearly happened. This is a side effect of how we currently store [laying dates](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e324) which is much too tedious to go into here. A [ticket has been raised](https://trello.com/c/YSqaw3F6/118-ensure-laying-business-items-have-a-business-item-date) for the attention of our [Jianhan](https://twitter.com/jianhanzhu) so we hope to see that fixed in the not too distant. In the meantime, young Robert and Michael have sharpened their tiny chisels and once more embarked on a mission to refactor and re-comment the code. Resulting in what might be [their most obtuse comment to date](https://github.com/ukparliament/procedure-parsing/blob/master/lib/parsing/parse.rb#L11). We'd all like to thank [Samu](https://twitter.com/langsamu) for - once again - pointing our noses in the right direction.

## Logicifying and indeed componentising the procedure maps

In more humdrum procedure modelling news, Librarian Jayne and Michael [continued](https://trello.com/c/5E9nhOmb/16-remap-made-affirmative) to remap the monstrosity that is the [made affirmative procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/made-affirmative.pdf) - perhaps, more accurately, procedures - to our new logical model. Both the Commons and Lords sides and the ever and omni present [JSCI](https://committees.parliament.uk/committee/148/statutory-instruments-joint-committee/) - are mostly done. It only remains to wrap with options of 'remaining law' and 'stopping being law' and pop a couple of procedure concluded bows on top, and we are done with [all SI procedures](https://github.com/ukparliament/ontologies/tree/master/procedure/flowcharts/sis/logic-gates). At least for now.

## Enabling enabling Acts

Now that our work to enable enabling Acts is enabled, we've been wondering if we could save ourselves a little work populating it. The impetus for adding the enabling Act model had been a desire to separate [proposed negative statutory instruments](https://www.parliament.uk/site-information/glossary/proposed-negative-statutory-instrument/) enabled by the [European Union (Withdrawal) Act 2018](https://www.legislation.gov.uk/ukpga/2018/16/schedule/7/enacted#schedule-7-paragraph-17) from those enabled by the [European Union (Future Relationship) Act 2020](https://www.legislation.gov.uk/ukpga/2020/29/enacted#schedule-5-paragraph-8). But the same model is just sat there, just begging to also be populated with links from SIs to their enabling Act or Acts. A chat with [John](https://twitter.com/johnlsheridan), [Matthew](https://twitter.com/matthewj_bell) and [Catherine](https://twitter.com/CathTabone) raised the prospect of calling their new beta legislation API with the URL of an SI and getting back all enabling Act details. Which would make linking the two trivial. This week, Catherine sent through the details of the new API. Enabling Acts is not there yet but hopefully will be soon. In the meantime, Jianhan has already started to grab Act data in the hope we can populate our search platform in a more efficient way than dev ops folks adding triples by hand. Thanks TNA people.

## Indexing petitions

[Anya](https://twitter.com/bitten_), Jianhan and young Robert have been busy beavering away on ingesting petition data - first into the data platform, then, in a slightly reduced form - into our search and indexing triple store. They're still waiting on the people at the other end of the pipes to add Government responses that have been replaced by a more recent response, but everything else is proceeding smoothly. Mostly. There was a brief kerfuffle when Anya added petitions as a new subtype and the facet refused to show up in the web interface. But a quick smack from Jianhan's trusty computational spanner seemed to fix that snaggle. There is almost no computational problem that can't be fixed by hitting the thing with a spanner.

## Kind hearts / coronets

If you've been following along from home, you'll know that we've been wading knee-deep through [David](https://twitter.com/clerkly)'s peerage database. Whilst [David's data](https://api.parliament.uk/peerages) is peerage centric - only describing the first holder and the [letters patent](https://api.parliament.uk/peerages/letters-patent/2690) by which the peerage was granted - we were keen to [reshape it](https://api.parliament.uk/peerages/meta/schema) into a fashion that can also capture subsequent holders. Which means we now have a table for [peerages](https://api.parliament.uk/peerages/peerages/a-z/a), a table for [people](https://api.parliament.uk/peerages/people/a-z/a) and a table joining the two to hold the peerage holders. Librarian Ned had already compiled some test data to check the newly reshaped database could hold everything we needed it to. No problems were spotted. Now Grant - our new friend at the [College of Arms](https://www.college-of-arms.gov.uk/) - has started to compile his own spreadsheet and the data has been loaded into the website, the [Barony of Blythswood](https://api.parliament.uk/peerages/peerages/542) being one such example.

In a nod toward linking the peerage data, Michael has also added external identifiers to both people - Wikidata, [MNIS](https://data.parliament.uk/membersdataplatform/memberquery.aspx) and [Rush](https://membersafter1832.historyofparliamentonline.org/), and peerages - for now just Wikidata. So far only populated for [one person](https://api.parliament.uk/peerages/people/2048) and [one peerage](https://api.parliament.uk/peerages/peerages/12). If anyone knows of a librarian with time on their hands ...

## On orders being standing

A wee while back Anya took issue with [our implementation of persistent URLs for standing orders](https://api.parliament.uk/standing-orders/orders/144). Whilst the URLs functioned perfectly well, a single order divorced of all context was not, we were told, what anyone would expect. So Michael added a new redirect URL. If the order is extant, the new URL redirects to the [current revision set anchored linked to the order in question](https://standing-orders.azurewebsites.net/revision-sets/260#order-14); if the order is extinct, it redirects back to the orphan order. At some point in the week, Michael interjected [his opinions](https://twitter.com/fantasticlife/status/1377156791864188930) on separating identification from naming into a tiny Twitter spat. At which point he realised that, despite having added the new redirect URLs, they were not advertised anywhere so nobody knew they existed. He's now added a signpost to the redirect URLs from both [order](https://standing-orders.azurewebsites.net/orders/217) and [fragment](https://standing-orders.azurewebsites.net/fragments/163) pages. And even added some JavaScript to copy them to your clipboard. Should you be so inclined. This is his first bit of JavaScript for about 20 years and will probably break on your machine.

## A second minor miracle

Last week we reported that the House of Commons Library had fielded its first Member enquiry whose answer lay at the far end of a [Wikidata query](https://query.wikidata.org/). This week, it only went and happened again. The web of Members and places and Government positions grows ever richer and ever more entangled. Thanks to [Andrew](https://twitter.com/generalising) and [Simon](https://twitter.com/Tagishsimon) for lending a helping hand.