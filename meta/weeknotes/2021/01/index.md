# 2021 - Week 1

## Here we go again

It really never ends does it? As Christmas faded into New Year and New Year faded into undefined days watching water drip down windows, our cast of crack librarians and computational experts pulled back curtains, disposed of the empties, tipped out ashtrays, polished off the last of the breakfast Baileys and returned to work. It may take us a little while to get back up to speed. Parties lasting longer than a weekend take their toll on the best of us.

## Logicifying the procedure model

When we last corresponded, dear reader, we were deep in the weeds of remodelling our [procedure model](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html) and deep in debate about whether a [classically logical approach](https://en.wikipedia.org/wiki/Boolean_algebra) was more appropriate to our needs than a [turn toward the ternary](https://en.wikipedia.org/wiki/Three-valued_logic). To be perfectly honest, we've forgotten most of the details, so expecting anybody else to take an interest is possibly a stretch too far.

We do remember that librarians [Anya](https://twitter.com/bitten_) and Jayne and computational experts young Robert and [Michael](https://twitter.com/fantasticlife) [put heads together](https://trello.com/c/rriSC6rW/300-do-we-need-to-move-to-3-characters-for-labelling-decision-and-logic-steps) and decided that overloading step labels with type information was in fact a bad idea. Which meant poor [Jianhan](https://twitter.com/jianhanzhu) spent the week before Christmas [rewriting the procedure editor output](https://trello.com/c/BL42O19y/47-surface-step-type-label-on-all-listings-of-steps-in-procedure-editor), [rewriting the procedure editor inputs](https://trello.com/c/KV9cYzUE/48-surface-step-type-when-creating-updating-a-route), [rewriting the procedure visualisation](https://trello.com/c/PqHfSZXv/49-surface-step-type-label-in-procedure-visualisation) and [rewriting the logic step checker email](https://trello.com/c/H4ahiA6k/50-surface-step-type-label-in-input-output-checker-emails). Apologies Jianhan. Occasionally it is only possible to get things right by first getting them wrong. Nevertheless, he managed to stuff his Santa sack with stocking fillers, [deploying the step checker email](https://trello.com/c/rsQ4Vv2b/42-validate-the-number-of-inputs-and-outputs-to-steps) and [tidying up outstanding work on the procedure visualisation](https://trello.com/c/KKxTlrFj/25-rewrite-procedure-visualisation). Top work Jianhan.

Jayne and Michael scurried to keep up with Jianhan's welcome but unexpected productivity burst, devoting several hours to [checking that the hand drawn proposed negative statutory instrument map matched the one drawn by the machines](https://trello.com/c/fSPhdp63/54-recheck-pnsi-omnigraffle-viz), [retesting the logic step checker mail](https://trello.com/c/LLu3XPHL/52-restest-input-output-checker-emails) with every combination of broke they could think of, and [renumbering the PNSI map to match our new pattern](https://trello.com/c/PgEQ4C4g/51-renumber-pnsi-steps).

Since our return to work Jianhan has been distracted by more immediate concerns, of which more later. But, should we ever be lucky enough to get more of his time, we hope to persuade him to take what he's done with logicifying the procedure visualisation and do [the same for our work package visualisations](https://trello.com/c/CSr8KMvp/26-rewrite-work-package-visualisation). Switching from typing routes to typing steps introduces further complications; we've not yet thought of a way in which [steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e175) sitting inside [the preposterous zone of the future possibility cone](https://thevoroscope.com/2015/12/28/on-examining-preposterous-futures/) can be excluded from the pictures the machine draws. So whilst the results might be more verbose, we're happy to trade brevity for accuracy. 

That said, it's important we get work package visualisations right. Whilst the [procedure visualisations](https://procedures.azurewebsites.net/Procedures/6/graph) are great for showing off, they don't have much impact on our day to day work. [Work package visualisations](https://procedures.azurewebsites.net/WorkPackages/1152/graph), on the other hand, are used daily by our team of crack librarians to check that procedure is proceeding as expected. Sometimes we spot new combinations that don't match the patterns we've mapped, which leads us back, crayons in hand, to the procedure maps. And sometimes we notice procedure hasn't quite been followed, and report back to assorted offices for patch over purposes. We have mapped the [PNSI procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/proposed-negative-sis/proposed-negative-sis.pdf) [to a logical model](https://ukparliament.github.io/ontologies/procedure/flowcharts/proposed-negative-sis//logic-gates/proposed-negative-sis.pdf), but the PNSI procedure is not much of a procedure really. In order to test properly, we need to compare against something a little larger. [Treaty procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/crag-treaties.pdf) under the [Constitutional Reform and Governance Act 2010](https://www.legislation.gov.uk/ukpga/2010/25/part/2) is the most complicated procedure we've mapped to date, but it's a little early in the year for that. So Jayne and Michael have decided to [start with the slightly more sensible made negative statutory instrument procedure](https://trello.com/c/XodNqLKV/15-remap-made-negative). So far they've managed to polish off the Commons half of the Venn and [the results](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/made-negative.pdf) are so beautiful they brought Michael close to tears. Do please make a click. Be sure to have a handkerchief to hand.

## Procedure mapping

In the absense of both clerks and the Commons, we haven't had much to do in terms of keeping our maps congruent with procedural reality. Jayne checked in with [Eleanor](https://twitter.com/ellie_hourigan) who confirmed that the [Joint Committee on Human Rights](https://committees.parliament.uk/committee/93/human-rights-joint-committee) would [only ever open a single inquiry into a treaty](https://trello.com/c/orAuOIiQ/328-eh-ah-are-jchr-steps-correct-in-treaty-procedure). At least during the CRAG scrutiny period. Meaning the map we'd drawn was already quite correct. Which was nice.

## Sorting out search

As mentioned earlier, our Jianhan was dragged away from things procedural to make some fixes to the [external version of Parliamentary Search](https://search-material.parliament.uk/). Having received not much attention in quite a while, the form we're providing does not meet accessibility requirements. Someone, somehow found the source code of the application and Jianhan was somehow able to fix the markup. As we're sure our reader would agree, he's also in the process of [making the whole thing look much neater](https://search-material-test.azurewebsites.net/).

## Your weekly egg timer update

In the weeks preceding Christmas, we thought we'd finally cracked the [egg timer](https://parliament-calendar.herokuapp.com/). All the dates returned matched those calculated by JO Jane's trusty abacus. On the Monday following Christmas there was a slight kerfuffle when Librarian Jayne reported the dates were incorrect for PNSIs and made affirmatives. Michael began to rip the code apart and cry into his coffee. Sobs could still be heard over Teams when Jayne declared that the egg timer was quite correct in its calculations. A root cause analysis team was quickly convened which revealed that Jayne had forgotten how everything works. Which goes to prove that even librarians can only party so hard.

## Linking open data - as we used to say

The first Tuesday back saw young Robert and Michael join a meeting with librarians Anya, [Liz](https://twitter.com/greensideknits) and Ned to talk through our approach to linking Wikidata entities to concepts in [our thesaurus](https://explore.data.parliament.uk/?learnmore=Thesaurus). Anya, Robert and Ned had spent the parts of Christmas when they weren't partying dipping toes into the [Mix 'n' Match tool](https://mix-n-match.toolforge.org/#/catalog/1229) to confirm and reject more of what the machines had guessed to be equivalent. Anya has started to [put a document together](https://docs.google.com/document/d/1_MjxU_SKHPHvXa6mcFN0gOz6rRgO-kfKz9wD2tMH5RE/edit) which she hopes will turn into a manual for matching. Our librarians do love a good manual. If you're a Wikidatian and have reckons, please do get in touch.

## All about the collaboration

For those with an interest in querying for SI and treaty related data, Jayne has spent some weeks beavering away [adding comments](https://trello.com/c/BFYSMqLf/150-add-comments-to-sparql-library) to [our sparkling SPARQL library](https://ukparliament.github.io/ontologies/procedure/meta/queries/). This was occasioned by [Tony](https://twitter.com/psychemedia) complaining that queries built around obfuscated identifiers were a little difficult to follow and adapt. In the week before Christmas, Jayne pushed a new version of our [treaty query page](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/) live. This time with comments. Or explanatory notes, as we like to say. We hope Tony is well and happy with our work.

Jayne has been in regular communication with our colleagues in Software Engineering as they attend to a snag list of bugs on the [SI](https://statutoryinstruments.parliament.uk/) and [treaty tracking](https://treaties.parliament.uk/) websites. One such bug was with the [Education (Exemption from School and Further Education Institutions Inspections) (England) (Amendment) Regulations 2020](https://statutoryinstruments.parliament.uk/timeline/8RmlAaoE/SI-2020/) which was appearing not once but twice on the website. It turned out the Lords' [laying](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e106) was missing an associated [laying body](https://ukparliament.github.io/ontologies/laying/laying-ontology.html#d4e94). This is [now fixed](https://trello.com/c/mpnPIlQ4/310-cherwell-call-1299381-duplicate-si-on-website), as is the website. Well done Jayne.

On the night before Christmas, a request came in from another academic for a dump of the [Rush data](https://membersafter1832.historyofparliamentonline.org/) which Michael attempted to comply with. But his version of Postgres appears to be incompatible with the rest of the internet and the rest of his computer. So young Robert stepped in and the data was dispatched. If anyone can help Michael upgrade his Postgres, he'd be delighted to hear from them.

## In continuence of our limited education

In normal years when confined at home by the cold and the wet, one bright spot on the horizon is a trip to Oxford, as the second weekend of January usually involves a train journey from Marylebone to the [Study of Parliament Group](https://studyofparliamentgroup.org/) annual weekend. This year of course we are also imprisoned by the rona. So Anya and Michael instead joined esteemed colleagues and academics to socialise purely in pixels. And not pubs. Still, it was [a fantastic programme](https://studyofparliamentgroup.org/programme/), as ever. They think they followed at least 30% but it was an interesting 30%. Thanks [Cristina](https://twitter.com/estrangeirada), speakers, panellists and organisers.
