# 2021 - Week 14

## Logicifying and indeed componentising the procedure maps

Following hot on the heels of [last week's excitement](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/13/), this week was always going to be a little low key. Nevertheless, Librarian Jayne and computational 'expert' [Michael](https://twitter.com/fantasticlife) were not dissuaded. Minds turned to more mundane matters of [made affirmative mapping](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/logic-gates/made-affirmative.pdf), which, they inform us, is now [logically complete](https://trello.com/c/5E9nhOmb/16-remap-made-affirmative). At least for this week. 

As mapping moved toward its climax, young Robert was drafted in to lend an additional brain to the tricky task of [correctly capturing terminal states](https://trello.com/c/ziF2971I/123-check-procedure-concluded). This is one area where we really miss our whiteboards. Really miss them. In the usual course of procedural mapping one's brain tends to traverse forwards, the usual question being, "this having happened, now what?" When one is dealing with matters of procedures concluding and instruments becoming, remaining, stopping or indeed never being law, the only possible approach is to chain backwards. We feel quite sure that - once reunited with our beloved boards - it can only be a matter of time before the world benefits from our new workshopping technique - an approach currently going by the working title of "Boolean [Event Storming](https://en.wikipedia.org/wiki/Event_storming)". Be sure to book your place when the course comes to market.

Jayne and Michael also spent a good deal of time considering conditions to be completed before a question on a prayer can be put. Wherein they realised they'd forgotten to take account of such things being tabled. Quite an oversight, as we're sure our reader will agree. On Wednesday, they spent an hour or two [fixing that](https://trello.com/c/5t0Ob39D/124-tabling-of-prayers-straight-to-questions-rather-than-debates) and also removing the necessity for a debate having happened. Quite satisfied, Michael headed to bed only to realise they may well have gone a little too far. The implications of [forthwithery](https://erskinemay.parliament.uk/section/4784/questions-to-be-put-forthwith/) being a little strong for anyone's tastes. So on Thursday, they [reinstated](https://trello.com/c/sGrz4q9h/125-relook-at-debates-being-necessary-for-questions-put) the smattering of ANDs and ORs they'd removed on Wednesday. And once more declared themselves happy.

We are delighted to report that all four statutory instrument procedures have now been remapped to our more [logical procedure model](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html). Three of the four are safely snuggled inside the machines and a start has been made on labelling non-business steps for the made affirmative procedure. Once that's done, the [data will be entered](https://trello.com/c/q8GTsEJa/22-enter-made-affirmative-routes-to-staging), checked, rechecked, possibly rechecked again and it's on to remapping the hot mess that is the [treaty procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/crag-treaties.pdf). Oh, sweet joy.

## Map parsing

Young Robert and Michael have taken their tiny chisels to our [procedure parsing code](https://github.com/ukparliament/procedure-parsing). Methods have moved out and [found new homes](https://github.com/ukparliament/procedure-parsing/tree/master/lib/parsing). Comments have been polished to a rare shine. And because we're good and always write our comments in markdown, we've [also parsed those](https://api.parliament.uk/procedures/meta/comments). Lovely, as we're sure you'll agree. 

## Indexing e-petitions

If you've been following along you will, by now, surely know that all e-petitions are tucked up inside our [data platform](https://api.parliament.uk/). From there, a slightly slimmed down version is piped to our search and indexing triple store. And from there, at least in theory, to our SOLR instance, allowing users to search for them. This week, we hit a bit of a snaggle when the pipes to SOLR opened up and promptly got blocked. Our [Jianhan](https://twitter.com/jianhanzhu) stepped forth with his computational plunger and attempted to decongest our ducts. Explorations so far lead him to believe that there may well be a bug in the [DotNetRdf](https://www.dotnetrdf.org/) library which has [since been fixed](https://sourceforge.net/p/dotnetrdf/mailman/dotnetrdf-bugs/?page=9). And that updating the library is our best chance of pipes running freely again.

## Relationification

Anya, young Robert and Michael once more applied themselves to the slow but not unrewarding task of turning our [ontological efforts](https://ukparliament.github.io/ontologies/) into something [more relational](https://ukparliament.github.io/ontologies/meta/relational/). This week, attention was turned to all things [parliamentary bloc](https://ukparliament.github.io/ontologies/parliamentary-bloc/parliamentary-bloc-ontology.html#d4e149), [political party](https://ukparliament.github.io/ontologies/parliamentary-bloc/parliamentary-bloc-ontology.html#d4e124), [affiliation](https://ukparliament.github.io/ontologies/parliamentary-bloc/parliamentary-bloc-ontology.html#d4e160) and [whipping](https://ukparliament.github.io/ontologies/parliamentary-bloc/parliamentary-bloc-ontology.html#d4e171) like. [Design notes](https://docs.google.com/document/d/1lqAHO6XY_dwceILSVJk74vQVb4NhNap46GMeElr0SHw/edit?usp=sharing) are, as ever, open to comments. Should our reader have comments, we'd be delighted to hear them.