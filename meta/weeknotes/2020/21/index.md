# 2020 - Week 21

## Twacking tweaties

Way back in [week 14](https://ukparliament.github.io/ontologies/meta/weeknotes/2020/14/) Twitter finally consented to handing [Michael](https://twitter.com/fantasticlife) keys to their API. He'd pulled together some old code from an [Erskine May mangling Twitter bot](https://twitter.com/merkinheh) with a [SPARQL](https://en.wikipedia.org/wiki/SPARQL) query from Librarian Jayne, and made a new bot that tweets every time the [FCO](https://www.gov.uk/government/organisations/foreign-commonwealth-office) lays a treaty before Parliament. Hereafter referred to as the [Tweaty Twacker](https://twitter.com/tweatytwacker). He promptly forgot about it because the FCO failed to turn up with any treaties. Which made the whole thing quite impossible to test. Until Thursday, when [Morocco No. 1 (2020)](https://treaties.parliament.uk/treaty/jQOrLCvQ/) landed on our doormat. Or, to give it its full title, "Agreement, done at London on 26 October 2019, in the form of an exchange of notes between the Government of the United Kingdom of Great Britain and Northern Ireland and the Government of the Kingdom of Morocco in respect of Protocol 4 of the Agreement establishing an Association between the United Kingdom of Great Britain and Northern Ireland and the Kingdom of Morocco". And we discover that Michael's code [did in fact work](https://twitter.com/TweatyTwacker/status/1263804471227924480). Which surprised everyone. Not least Michael.

We feel we should point out that Tweaty Twacker was put together in free time. As a citizen. And not as an employee. Because [our data is openly licenced](https://www.parliament.uk/site-information/copyright-parliament/) and because our [SPARQL endpoint is openly available](https://api.parliament.uk/sparql#), almost anyone with the barest modicum of code skill could have easily done the same. With a name like Tweaty Twacker, it's clearly not an official, supported service. Though it's hard to think of much that could go wrong. If anyone reading this has any ideas for a more mature branding approach, please do get in touch.

## Procedure mapping

Librarian Jayne and Michael have had a busy week, finally getting around to turning Journal Office Jane's email tennis into maps and data. They kicked off Monday by [adding steps for the depositing of a criminal offences statement](https://trello.com/c/MdQvaYMW/22-deposited-papers-ahead-of-laying-sis-introducing-criminal-offences) by the government under a duty in the [EU Withdrawal Act 2018](hhttp://www.legislation.gov.uk/ukpga/2018/16/schedule/7/paragraph/28#schedule-7-paragraph-28-7). Precedence suggests this only happens under affirmative procedures. Primarily drafts but also one made. As neither the Act nor [the written statement](https://www.parliament.uk/business/publications/written-questions-answers-statements/written-statement/Commons/2018-07-03/HCWS821/) are specific on procedural detail, relevant steps have been added to [all four procedures](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps). Because what's the point of a belt if you don't also have braces. By the end of the week, Jayne had gone back and re-indexed all SI work packages from the start of the 2017-19 session. Including, for example, the [Operation of Air Services (Amendment etc.) (EU Exit) Regulations 2018](https://statutoryinstruments.parliament.uk/timeline/DSe9UJ2F/SI-2018). And - because she is nothing if not cognisant of user needs as emergent from materials - she's also written a SPARQL query returning [all SIs laid into Parliament that have been accompanied by a criminal offences statement](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+%3FLink+%3FstepName2+%3Fdate2+%3FLink2+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++%3Fbi+%3AbusinessItemHasBusinessItemWebLink+%3FLink%0A++FILTER+(%3FstepId+in+(id%3Aj4iPxsxb))%0A+++++++%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi2.%0A++%3Fbi2+%3AbusinessItemHasProcedureStep+%3FstepId2%3B%0A++++++%3AbusinessItemDate+%3Fdate2.%0A++++%3FstepId2+%3AprocedureStepName+%3FstepName2.%0A++%3Fbi2+%3AbusinessItemHasBusinessItemWebLink+%3FLink2%0A++++FILTER+(%3FstepId2+in+(id%3A1777yvuv))%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Instrument+introducing+criminal+offence(s)&headers=%7B%7D&outputFormat=table). A present is always nicer when wrapped with a bow.

Procedure mapping continued throughout the week as Jayne and Michael donned gardening gloves and finally got stuck into the thorny tangle of [SIs being revoked whilst still before Parliament](https://trello.com/c/KWbc8Etq/75-revoked-sis-committee-consideration). Whilst an SI might be revoked at any point in its life, we are keen to not bite off more than can reasonably be chewed. And tracking the full lifecycle of legislation is really more of a job for our friends at [The National Archives](https://www.nationalarchives.gov.uk/). But where revocation impacts on parliamentary procedure, a keen interest is taken. Drafts being drafts, until they leave Parliament approved or unrejected, they are not on the Statute Book and cannot be revoked. So for the purposes of revocation impacting on procedure, the draft procedures remain untouched. Instruments laid as made on the other hand, might, in certain odd circumstances, be revoked whilst still subject to parliamentary scrutiny. So both the [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-negative.pdf) and [made affirmative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-affirmative.pdf) procedures now feature new steps and a plethora of new routes to cope with revocation. And indeed replacement. With a strongly worded scope note that these should only be actualised when the revocation takes place during the scrutiny period. Once again, Jayne has gone back to the start of the 2017-19 session and re-indexed all instruments revoked - and occasionally replaced - whilst still before Parliament. Such as the [Abortion (Northern Ireland) Regulations 2020](https://statutoryinstruments.parliament.uk/timeline/edM33LSY/SI-2020345/) which was revoked and replaced by the [Abortion (Northern Ireland) (No. 2) Regulations 2020](https://statutoryinstruments.parliament.uk/timeline/T0WjTwoH/SI-2020503/) whilst approval motions were before both Houses. And once again, Jayne has take out her SPARQL spanner and written a query to return [all SIs revoked whilst still before Parliament](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FMadeDate+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+%3FLink+%3FstepName2+%3Fdate2+%3FLink2+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++%3AstatutoryInstrumentPaperMadeDate+%3FMadeDate%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++%3Fbi+%3AbusinessItemHasBusinessItemWebLink+%3FLink%0A++FILTER+(%3FstepId+in+(id%3A6PTsDeBN))%0A+OPTIONAL+%7B++++++%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi2.%0A++%3Fbi2+%3AbusinessItemHasProcedureStep+%3FstepId2%3B%0A++++++%3AbusinessItemDate+%3Fdate2.%0A++++%3FstepId2+%3AprocedureStepName+%3FstepName2.%0A++%3Fbi2+%3AbusinessItemHasBusinessItemWebLink+%3FLink2%0A++++FILTER+(%3FstepId2+in+(id%3AHQxUYTjf))%7D%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Instruments+revoked+while+before+Parliament&headers=%7B%7D&outputFormat=table). Applause Jayne.

Mapping the revocation steps introduced the question of whether revocation should preclude committee decisions. So Jayne and Michael fired up Outlook and sent off another email to JO Jane, who got back in 10 minutes to say in theory, committees should not consider revoked instruments but occasionally one slipped through the net. Such as the [Public Sector Bodies (Websites and Mobile Applications) Accessibility Regulations 2018](https://statutoryinstruments.parliament.uk/timeline/JHmYoIfJ/SI-2018852) which was considered by the [JCSI](https://www.parliament.uk/JCSI). So the decision was taken to add preclusion routes from revocation to committee decisions. Whilst we may be conservative on output, we are always liberal on input. So whenever a committee makes an exception to the general rule, there is nothing to stop us [actualising](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e382) any step - precluded or otherwise. And everyone is happy.

Whilst tackling revocation, Jayne and Michael also added a new step to the made affirmative procedure to handle instruments lapsing. Which usually happens when the government runs out of time to get the approval motions through Parliament. A fate which befell the [Immigration (Amendment) (EU Exit) Regulations 2019](https://statutoryinstruments.parliament.uk/timeline/ztQE1HxF/SI-20191383). Once again, Jayne has re-indexed all relevant SIs since the start of the 2017-19 session to indicate lapsing where pertinent and finely crafted a SPARQL query returning [all lapsed SIs](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FLaidDate+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A++%3Flaying+%3AlayingDate+%3FLaidDate.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++FILTER+(%3FstepId+in+(id%3AXpVYGk4J))%0A%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Made+affirmative+instruments+lapsed&headers=%7B%7D&outputFormat=table) for your querying pleasure.

A large part of the week was spent splicing apart the [draft](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/draft-negative.pdf) and [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-negative.pdf) procedures and gluing them back together in an attempt to fashion something that Jayne and Michael thought just *might* [capture the Census SI procedure](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/sis/census.pdf). More primary school art class than Frankenstein perhaps, though the results were no less horrifying. This is officially considered a [composite procedure](https://erskinemay.parliament.uk/section/5622/composite-procedure/); informally the words 'hot' and 'mess' have been used. From conversations with Jane, procedure around Census SIs is somewhat more improvised than for regular instruments. Jane thought that the two parts happen in series, with the negative part of the procedure flowing into the affirmative part following the usual 40 day praying period. This time around however, the government tabled the approval motion whilst the negative part of proceedings was still in full swing. As you might infer from the subject matter, this procedure comes along once every 10 years - we've yet to track down someone who lived it last time, and can us tell the tale. Next week, Jayne plans to comb through [Erskine May](https://erskinemay.parliament.uk/) and the [Companion to Standing Orders](https://publications.parliament.uk/pa/ld/ldcomp/compso2017/compso02.htm) in search of clues as to what happened the last time such an instrument passed into a low earth orbit. If anyone has any recollection - or knows anyone who might have a recollection - of previous dealings with the Census SI procedure [please do shout](mailto:RIIDMSMailbox@parliament.uk.). We'd love to hear from you.

A little while back, the team did [some work on made affirmatives](https://trello.com/c/qjfr3R0z/98-made-affirmatives-under-the-sanctions-act) under the [Sanctions and Anti-Money Laundering Act 2018](http://www.legislation.gov.uk/ukpga/2018/13/contents/enacted). These instruments have a slight quirk whereby sand does not begin to flow through the egg timer of approval until a provision of the regulation comes into force. JO Jane declared herself happy with [the proposed map](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/sis/play-pen/made-affirmative.pdf) but did suggest speaking to someone with a legal brain at the FCO before proceeding. And duly put us in touch with just such a person. The FCO have since got back in touch and mid-June has been agreed on to poke and prod maps via the pixels on our shared screens.

In the course of all these changes, Jayne and Michael noticed they'd added allows routes from [SLSC](https://committees.parliament.uk/committee/255/secondary-legislation-scrutiny-committee) decisions to the tabling of an approval motion in the House of Lords, in both affirmative procedures. They have no idea when this happened or indeed why. But as any fule kno it quite clearly breaks JCSI scrutiny reserve under [Standing Order 72](https://www.parliament.uk/business/publications/house-of-lords-publications/rules-and-guides-for-business/the-standing-orders-of-the-house-of-lords-relating-to-public-business/#jump-link-12). So those routes [have now been removed](https://trello.com/c/nClMjjLA/114-remove-allows-route-from-slsc-to-lords-motion-to-approve-the-instrument-tabled-by-the-govt).

## Your weekly egg timer update

If you tuned in last week, you'll know that Michael's code handling dates in the [egg timer](http://parliament-calendar.herokuapp.com/) was on the shonky side. The shonkiness was not in his handling of sitting days, or adjourned days, or prorogued days, or dissolution days, or even parliamentary days as yet unannounced. The shonkiness was his handling of normal days. The ones that appear in calendars. To sidestep the shonkiness, he's stripped out his calendar date class and [monkey patched](https://en.wikipedia.org/wiki/Monkey_patch) the [Ruby date class](https://ruby-doc.org/stdlib-2.7.1/libdoc/date/rdoc/Date.html). This particular piece of monkey patching is probably quite safe; it seems unlikely that method names such as `is_commons_short_adjournment?` are part of many people's core date handling. The patching took up a good part of Monday and Tuesday and did not really help to prove the concept. By Wednesday morning he was pretty much back to where he was on Friday night. But happier. And that's not nothing. In these troubled times<sup>TM</sup>.

In addition to a calculator for SIs laid in the Commons only and one for PNSIs, Michael has added a calculator for negative SIs laid before both Houses. He's also added a calculator for made affirmatives laid before both Houses. All of which *seem* to work but they do require testing. A lot of testing.

Good news on that front: Librarian Jayshree was populating our Google calendars with anticipated dates for future sittings. Anticipated sitting days feels slightly less reliable than it might normally be. Because the sitting patterns of both Houses have been less than predictable. In these troubled times<sup>TM</sup>. She then turned her attention to the past - much safer territory - and backdated our calendars to the start of the 2017-19 session. This means that next week we'll be able to test the calculators against what happened in actuality. And then we'll know whether we have spent our time wisely and well.

Next week, Michael plans to add calculators for Commons only made affirmatives, Legislative Reform Orders, Localism Orders and Public Body Orders. Whilst in no way attempting to delay commencing work on the treaty scrutiny calendar. Not in the least. Noting that treaties use a slightly different definition of 'day' and looks a hell of a lot harder.

## Always about the collaboration

An early morning email on Tuesday brought happy news. Our bid for funding from the [Blavatnik School of Government](https://www.bsg.ox.ac.uk/) for future collaboration with our [ParlRules](https://parlrulesdata.org/) friends met with success. We hope beyond hope that this offers the prospect of future trips to Oxford. Though to be honest, right now, a trip to Slough would be pretty exciting.

## Tiny chisel news

Robert and Michael's tiny chisels have been chipping away at model level description comments - [this list](https://ukparliament.github.io/ontologies/). Some improvement has been detected. Work continues as work will.

Following another chat with [Silver](https://twitter.com/silveroliver), this time lacking the involvement of red wine - or at least only limited amounts of red wine - Michael decided to try a new approach to the [interface model](https://ukparliament.github.io/ontologies/interface/interface.html). This model is used to tie all the domain specific, [fag packety mini-models](http://smethur.st/posts/176135865) into one [huge ever growing pulsating brain that rules from the centre of the etc](https://api.parliament.uk/webvowl/#opts=sidebar=0;doc=0;mode_compact=true;mode_colorExt=false;#iri=https://ukparliament.github.io/ontologies/interface/interface.ttl). Previously, he'd been using [owl:equivalentClass](https://www.w3.org/TR/owl-ref/#equivalentClass-def) to bridge [bounded contexts](https://codeburst.io/ddd-strategic-patterns-how-to-define-bounded-contexts-2dc70927976e) and tie every instance of a class to every other instance of that class in every other model. Which meant equivalency declarations were growing if not exponentially, at least rather messily. He's now moved class definitions used in multiple models into the interface model, and is using that as a link hub for equivalency claims. This was supposed to tidy up the diagram; he's not completely convinced his efforts have met with much success. And it's hard not to worry about all those subclasses.
