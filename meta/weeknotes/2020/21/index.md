# 2020 - Week 21

## Twacking tweaties

Way back in [week 14](https://ukparliament.github.io/ontologies/meta/weeknotes/2020/14/) Twitter finally consented to handing [Michael](https://twitter.com/fantasticlife) keys to their API. He'd cobbled together some old code from an [Erskine May mangling Twitter bot](https://twitter.com/merkinheh) and a [SPARQL](https://en.wikipedia.org/wiki/SPARQL) query from Librarian Jayne and made a new bot that tweets every time the [FCO](https://www.gov.uk/government/organisations/foreign-commonwealth-office) lays a treaty before Parliament. Hereafter referred to as the [Tweaty Twacker](https://twitter.com/tweatytwacker). He then promptly forgot about it because the FCO failed to turn up with any treaties. Which made the whole thing quite impossible to test. At least until Thursday, when [Morocco No. 1 (2020)](https://treaties.parliament.uk/treaty/jQOrLCvQ/) landed on our doormat. Or 'Agreement, done at London on 26 October 2019, in the form of an exchange of notes between the Government of the United Kingdom of Great Britain and Northern Ireland and the Government of the Kingdom of Morocco in respect of Protocol 4 of the Agreement establishing an Association between the United Kingdom of Great Britain and Northern Ireland and the Kingdom of Morocco' to give it its full title. The point being, Michael's code [did in fact work](https://twitter.com/TweatyTwacker/status/1263804471227924480). Which surprised everyone. Not least Michael.

We do feel we should point out that Tweaty Twacker was put together in free time. As a citizen. And not as an employee. Because [our data is openly licenced](https://www.parliament.uk/site-information/copyright-parliament/) and because our [SPARQL endpoint is openly available](https://api.parliament.uk/sparql#), almost anyone with the barest modicum of code skill could have easily done the same. With a name like Tweaty Twacker, it's clearly not an official, supported service. Though it's hard to think of much that could go wrong. If anyone reading this has any ideas for a more mature branding approach, please do get in touch.

## Procedure mapping

Librarian Jayne and Michael have had quite a busy week, finally getting around to turning Journal Office Jane's email tennis into maps and data. They kicked off Monday by [adding steps for the depositing of a criminal offences statement](https://trello.com/c/MdQvaYMW/22-deposited-papers-ahead-of-laying-sis-introducing-criminal-offences) by the government under the key powers in the [EU Withdrawal Act 2018](http://www.legislation.gov.uk/ukpga/2018/16/contents/enacted). Precedence suggests this only happens under affirmative procedures. Primarily drafts but also one made. But neither the Act nor [the statement](https://www.parliament.uk/business/publications/written-questions-answers-statements/written-statement/Commons/2018-07-03/HCWS821/) are specific on procedural detail, so this is now added to [all four procedures](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#maps). Because what's the point of a belt of you don't also have braces. By the end of the week, Jayne had gone back and re-indexed all SI work packages from the start of the 2017-19 session. Including, for example, the [Operation of Air Services (Amendment etc.) (EU Exit) Regulations 2018](https://statutoryinstruments.parliament.uk/timeline/DSe9UJ2F/SI-2018). And because she is nothing if not cognisant of user needs as emergent from materials, she's also written a SPARQL query returning [all SIs laid into Parliament that have been accompanied by a criminal offences statement](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+%3FLink+%3FstepName2+%3Fdate2+%3FLink2+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++%3Fbi+%3AbusinessItemHasBusinessItemWebLink+%3FLink%0A++FILTER+(%3FstepId+in+(id%3Aj4iPxsxb))%0A+++++++%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi2.%0A++%3Fbi2+%3AbusinessItemHasProcedureStep+%3FstepId2%3B%0A++++++%3AbusinessItemDate+%3Fdate2.%0A++++%3FstepId2+%3AprocedureStepName+%3FstepName2.%0A++%3Fbi2+%3AbusinessItemHasBusinessItemWebLink+%3FLink2%0A++++FILTER+(%3FstepId2+in+(id%3A1777yvuv))%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Instrument+introducing+criminal+offence(s)&headers=%7B%7D&outputFormat=table). Because a present is always nicer when wrapped with a bow.

Procedure mapping continued throughout the week as Jayne and Michael donned gardening gloves and finally got stuck into the thorny tangle of [SIs being revoked whilst still before Parliament](https://trello.com/c/KWbc8Etq/75-revoked-sis-committee-consideration). Whilst an SI might be revoked at any point in its life, we are keen to not bite off more than can reasonably be chewed. And tracking the full lifecycle of legislation is really more of a job for our friends at [The National Archives](https://www.nationalarchives.gov.uk/). But where revocation impacts on parliamentary procedure, a keen interest is taken. Drafts being drafts, until they leave Parliament approved or unrejected, they are not by nature on the Statute Book and cannot be revoked. So for the purposes of revocation impacting on procedure, both draft procedures remain untouched. Instruments laid as made, on the other hand, might, in certain odd circumstances, be revoked whilst still subject to parliamentary scrutiny. So both the [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-negative.pdf) and [made affirmative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-affirmative.pdf) procedures now feature new steps and a plethora of new routes to cope with revocation. And indeed replacement. With a strongly worded scope note that these should only be actualised when the revocation takes place during the scrutiny period. Once again, Jayne has gone back to the start of the 2017-19 session and re-indexed all instruments revoked - and occasionally replaced - whilst still before Parliament. Such as the [Abortion (Northern Ireland) Regulations 2020](https://statutoryinstruments.parliament.uk/timeline/edM33LSY/SI-2020345/) which was revoked and replaced by the [Abortion (Northern Ireland) (No. 2) Regulations 2020](https://statutoryinstruments.parliament.uk/timeline/T0WjTwoH/SI-2020503/) whilst approval motions were still before both Houses. And once again, Jayne has take out her SPARQL spanner and written a query to return [all SIs revoked whilst still before Parliament](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FMadeDate+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+%3FLink+%3FstepName2+%3Fdate2+%3FLink2+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++%3AstatutoryInstrumentPaperMadeDate+%3FMadeDate%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++%3Fbi+%3AbusinessItemHasBusinessItemWebLink+%3FLink%0A++FILTER+(%3FstepId+in+(id%3A6PTsDeBN))%0A+OPTIONAL+%7B++++++%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi2.%0A++%3Fbi2+%3AbusinessItemHasProcedureStep+%3FstepId2%3B%0A++++++%3AbusinessItemDate+%3Fdate2.%0A++++%3FstepId2+%3AprocedureStepName+%3FstepName2.%0A++%3Fbi2+%3AbusinessItemHasBusinessItemWebLink+%3FLink2%0A++++FILTER+(%3FstepId2+in+(id%3AHQxUYTjf))%7D%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Instruments+revoked+while+before+Parliament&headers=%7B%7D&outputFormat=table). Applause Jayne.

New revocation steps brought up the question of whether these should preclude committee decisions. So Jayne and Michael fired up Outlook and fired off another email to JO Jane, who got back in 10 minutes to say in theory, committees should not consider revoked instruments but occasionally one slipped through the net. Such as the [Public Sector Bodies (Websites and Mobile Applications) Accessibility Regulations 2018](https://statutoryinstruments.parliament.uk/timeline/JHmYoIfJ/SI-2018852) which was considered by the [JSCSI](https://www.parliament.uk/JCSI). So the decision was taken to add preclusion routes from revocation to committee decisions. Whilst we may be conservative on output, we are always liberal on input. So whenever a committee makes an exception to the general rule, there is nothing to stop us [actualising](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e382) any step - precluded or otherwise. And everyone is happy.

Whilst tackling revocation, Jayne and Michael also added a new step to the made affirmative procedure to handle instruments lapsing. Which usually happens when the government runs out of time to get the approval motions through Parliament. A fate which befell the [Immigration (Amendment) (EU Exit) Regulations 2019](https://statutoryinstruments.parliament.uk/timeline/ztQE1HxF/SI-20191383). Once again, Jayne has re-indexed all SIs since the start of the 2017-19 session to indicate lapsing where pertinent and finely crafted a SPARQL query returning [all lapsed SIs](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+distinct+%3Fsi+%3FsiName+%3FworkPackage+%3FLaidDate+%3FLayingBody+%3Fprocedure+%3FstepName+%3Fdate+where%0A%7B%0A++%3Fsi+a+%3AStatutoryInstrumentPaper%3B%0A++++++%3AstatutoryInstrumentPaperName+%3FsiName%3B%0A++++++++++++++++++%3AworkPackagedThingHasWorkPackage+%3FworkPackage.%0A++%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fprocedure.%0A++%3Fsi+%3AlaidThingHasLaying+%3Flaying.%0A++%3Flaying+%3AlayingHasLayingBody%2Frdfs%3Alabel+%3FLayingBody.%0A++%3Flaying+%3AlayingDate+%3FLaidDate.%0A+%3FworkPackage+++%3AworkPackageHasBusinessItem+%3Fbi.%0A++%3Fbi+%3AbusinessItemHasProcedureStep+%3FstepId%3B%0A++++++%3AbusinessItemDate+%3Fdate.%0A++++%3FstepId+%3AprocedureStepName+%3FstepName.%0A++FILTER+(%3FstepId+in+(id%3AXpVYGk4J))%0A%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Made+affirmative+instruments+lapsed&headers=%7B%7D&outputFormat=table) for your querying pleasure.

A large part of the week was spent slicing apart the [draft](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/draft-negative.pdf) and [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-negative.pdf) procedures and gluing them back together in an attempt to fashion something that Jayne and Michael thought just *might* [capture the Census SI procedure](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/sis/census.pdf). More primary school art class than Frankenstein perhaps, though the results were no less horrifying. This is officially considered a [composite procedure](https://erskinemay.parliament.uk/section/5622/composite-procedure/), though informally the words hot and mess have been used. From conversations with Jane, procedure around Census SIs is somewhat more improvised than for regular instruments. Jane thought that the two parts were supposed to happen in series, with the negative part of the procedure flowing into the affirmative part following the usual 40 day praying period. Though this time around, the government tabled the approval motion whilst the negative part of the proceeding was still in full swing. And we've not yet tracked down anyone who can explain how it happened last time. Next week, Jayne plans to comb through [Erskine May](https://erskinemay.parliament.uk/) and the [Companion to Standing Orders](https://publications.parliament.uk/pa/ld/ldcomp/compso2017/compso02.htm) in an effort to work out what might have happened the last time such an instrument passed into a low earth orbit. Failing that, if anyone has any recollection - or knows anyone who might have a recollection - of previous dealings with the Census SI procedure [please do shout](mailto:RIIDMSMailbox@parliament.uk.). We'd love to hear from you.

A little while back, the team did [some work on made affirmatives](https://trello.com/c/qjfr3R0z/98-made-affirmatives-under-the-sanctions-act) under the [Sanctions and Anti-Money Laundering Act 2018](http://www.legislation.gov.uk/ukpga/2018/13/contents/enacted). They have a slight quirk whereby the egg timer of approval only starts dripping sand when a provision of the regulation comes into force. JO Jane declared herself happy with [the proposed map](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/sis/play-pen/made-affirmative.pdf) but did suggest speaking to someone with a legal brain at the FCO before proceeding. And duly put us in touch with just such a person. The FCO have since got back in touch and a rough date of mid-June agreed on to poke and prod maps via pixels and shared screens.

In the course of all these changes, Jayne and Michael noticed they'd added allows routes from [SLSC](https://committees.parliament.uk/committee/255/secondary-legislation-scrutiny-committee) decisions to the tabling of an approval motion in the House of Lords. And this in both affirmative procedures. They had no idea when this happened or indeed why. But as any fule kno it quite clearly broke JCSI scrutiny reserve under [Standing Order 72](https://www.parliament.uk/business/publications/house-of-lords-publications/rules-and-guides-for-business/the-standing-orders-of-the-house-of-lords-relating-to-public-business/#jump-link-12). So those routes [have now been removed](https://trello.com/c/nClMjjLA/114-remove-allows-route-from-slsc-to-lords-motion-to-approve-the-instrument-tabled-by-the-govt).

## Your weekly egg timer update

If you tuned in last week, you'll know that Michael's [egg timer](http://parliament-calendar.herokuapp.com/) date handling code was, for want of a better word, somewhat shonky. This was not a reflection on his handling of sitting days or adjourned days or prorogued days or dissolution days or parliamentary days as yet unannounced. All of which he's fairly confident work just fine. This was his handling of normal days. Like the ones that appear in calendars. To sidestep said shonkiness, he's now stripped out his calendar date class and [monkey patched](https://en.wikipedia.org/wiki/Monkey_patch) the [Ruby date class](https://ruby-doc.org/stdlib-2.7.1/libdoc/date/rdoc/Date.html). This particular piece of monkey patching appears quite safe since it seems unlikely method names such as `is_commons_short_adjournment?` are part of many people's core date handling. The patching took up a good part of Monday and Tuesday and did not really help to prove the concept. Which was the point of this work. By Wednesday morning he was pretty much back to where he was on Friday night. But happier. And that's not nothing. In these troubled times (TM).

Whilst Michael took apart his code and rewrote it all, Librarian Jayshree was populating our Google calendars with anticipated dates for future sittings. Obviously this anticipation is slightly less reliable than it might normally be. Because the sitting patterns of both Houses are less predictable. In these troubled times (TM).

The Proposed Negative Statutory Instrument calculation had been kicking off its clock on the first joint sitting day as indeed it should have been. But Michael got confused by some paperwork and changed it to the first sitting day of either House. Following chats with the Ja(y)nes, Michael has now changed it back to starting from the first joint sitting day. So again, he's roughly back to where he was last week.

In actual progress news, he's now added a calculator for SIs laid before both Houses to the existing list of PNSIs and Commons only SIs. He's also added a calculator for made affirmatives laid before both Houses. All of which *seems* to work but does require testing. A lot of testing.

Meanwhile, Jayshree has been beavering away backdating our calendars to the start of the 2017-19 session. Which means that next week we'll be able to test the calculators against what happened in actuality. And then we'll know whether any of this was worth anything.

Next week, Michael plans to add calculators for Commons only made affirmatives, Legislative Reform Orders, Localism Orders and Public Body Orders. Whilst in no way attempting to put off working on the treaty scrutiny calendar. Which uses a slightly different definition of 'day' and looks a hell of a lot harder.

## Always about the collaboration

An early morning email on Tuesday brought happy news. Our bid for funding from the [Blavatnik School of Government](https://www.bsg.ox.ac.uk/) for future collaboration with our [ParlRules](https://parlrulesdata.org/) friends met with success. We hope beyond hope that this offers the prospect of future trips to Oxford. Though to be honest, right now, a trip to Slough would be pretty exciting.

## Tiny chisel news

Robert and Michael's tiny chisels have been chipping away at model level description comments. Because [this list](https://ukparliament.github.io/ontologies/) looked terrible, read terribly and made them both sad. Some improvement has been detected. Work continues as work always does.

Following another chat with [Silver](https://twitter.com/silveroliver), this time lacking the involvement of red wine - or at least only limited amounts of red wine - Michael decided to try a new approach to the [interface model](https://ukparliament.github.io/ontologies/interface/interface.html). This model is used to tie all the domain specific, [fag packety mini-models](http://smethur.st/posts/176135865) into one [huge ever growing pulsating brain that rules from the centre of the etc](https://api.parliament.uk/webvowl/#opts=sidebar=0;doc=0;mode_compact=true;mode_colorExt=false;#iri=https://ukparliament.github.io/ontologies/interface/interface.ttl). Previously he'd been using [owl:equivalentClass](https://www.w3.org/TR/owl-ref/#equivalentClass-def) to bridge [bounded contexts](https://codeburst.io/ddd-strategic-patterns-how-to-define-bounded-contexts-2dc70927976e) and tie every instance of a class to every other instance of that class in every other model. Which meant equivalency declarations were growing if not exponentially, at least rather messily. He's now moved class definitions used in multiple models into the interface model and is using that as a link hub for equivalency claims. This was supposed to tidy up the diagram though he's not completely convinced his efforts have met with much success. And it's hard not to worry about all those subclasses.
