# 2020 - Week 31

## Procedure mapping

Last week saw mail bags bulge as correspondence rattled from librarian to clerk to retired clerk to lawyer and back again. This week we finally had enough information to do some actual work.

Librarian Jayne and computational expert [Michael](https://twitter.com/fantasticlife) re-opened the blasted [made affirmative map](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-affirmative.pdf) with a renewed sense of vigour and purpose. Steps and routes that had been in the play pen map were decanted into both the map proper and into [the data](https://procedures.azurewebsites.net/Procedures/1/graph). And after two years, the [edge of an edge case](https://trello.com/c/N5dvDiQK/7-edge-case-made-affirmative) of instruments laid under [paragraph 5(3) of Schedule 7 to the Local Government Finance Act 1988](https://www.legislation.gov.uk/ukpga/1988/41/schedule/7/paragraph/5#schedule-7-paragraph-5-3) was finally dealt with. There is a new start step, a new making step, a brand new egg timer and the merest hint of a motion to approve the Local Government Finance Report (England). All of this [combines in a way](https://trello.com/c/7QNYUXm1/152-local-gov-finance-sis-report-rejected-instrument-stops-being-law) that's almost impossible to capture until we have a procedure model that supports logic gates. If you've been thinking of buying Jayne and Michael a Christmas present, logic gates would most definitely be top of their wish list. Jayne has since gone on to reindex the three instruments in the data platform that are subject to this procedural quirk, attach some scope notes, update the manual and write [a SPARQL query to return all instruments of this type](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/statutory-instruments/#made-affirmative-instruments-under-paragraph-53-of-schedule-7-to-the-local-government-finance-act-1988). We'd like to thank [Peter](https://twitter.com/Peter_in_London). And [Paul](https://www.linkedin.com/in/paul-evans-23540544/). And [Mark](https://www.linkedin.com/in/mark-hutton-0ab80a51/). And apologise for our endless questions. We are, in many ways, like children. Perky, but annoying.

We have an outstanding question about whether instruments laid under paragraph 5(3) of Schedule 7 to the Local Government Finance Act 1988 can be brought into force upon making. Our current map says they can only come into force once parliamentary procedure is complete and it has been decided they can remain law. Which is what [paragraph 5(13) of Schedule 7](https://www.legislation.gov.uk/ukpga/1988/41/schedule/7/paragraph/5#schedule-7-paragraph-5-13) seems to suggest. But we'd prefer to be doubly sure. Mark suggested this was more a question of statutory interpretation than one of parliamentary procedure and pointed us in the direction of [Daniel](https://www.danielgreenberg.co.uk/) and his Speaker's Counsel colleagues. So an email has been dispatched. Fingers crossed our own interpretation was not wildly awry.

Over the past couple of weeks, Jayne and Michael have also been trying to tease out some of the Commons committees details in the [treaty procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/crag-treaties.pdf). [Alex](https://twitter.com/AlexanderHorne1) replied promptly to all questions and they thought they'd cracked it. Or cracked it enough to make changes. There is a new step to capture when a [Select Committee recommend that the treaty be ratified](https://trello.com/c/8vCibo0j/145-treaties-commons-committee). There is an update to preclusion routes around committee reports - making the recommendation of a general debate orthogonal to the recommendation on whether or not to ratify. And there is a whole new cluster of steps at the intersection of Commons and Lords to capture any decision by the [Joint Committee on Human Rights](https://committees.parliament.uk/committee/93/human-rights-joint-committee). Alex felt it not impossible that [a temporary joint committee might choose to scrutinise a treaty](https://trello.com/c/8vCibo0j/145-treaties-commons-committee), but we've left off adding more until we've seen an example in the wild.

Also in CRAG treaty land, Jayne and Michael have updated the label for the 'Government statement under Section 22 of the Constitutional Reform and Governance Act 2010: Section 20 does not apply' steps. For which thanks again Alex. They've also [added a brain boggling number of new preclusion routes from those statements](https://trello.com/c/a3QhUI0Q/143-treaty-procedure-section-20-does-not-apply-preclusions) to just about every other blob on the map. The result looks terrible but they hope it is at least more accurate.

## Your weekly egg timer update

Robert and Michael sidestepped the commenting of all [models ontological](https://ukparliament.github.io/ontologies/) in nature and instead buried heads in our [monkey patched](https://en.wikipedia.org/wiki/Monkey_patch) date class. Which is itself a model, just not of the ontological kind. The [egg timer](http://parliament-calendar.herokuapp.com/) date class extends the standard [Ruby date class](https://ruby-doc.org/stdlib-2.7.1/libdoc/date/rdoc/Date.html) to add a bunch of Parliament specific methods. Roughly speaking these:

* Take a day and determine if that is a day of some type. Be that [a parliamentary sitting day](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L59), [a praying sitting day](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L49), [a praying day of any type](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L267), [a virtual sitting day](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L44), [an adjournment day](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L69), [a praying day during adjournment](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L111) and so on and so forth.

* Take a day and find the first following day of a particular type. Be that [a praying day in both Houses](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L314), [a praying day in either House](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L285), [a praying day in the Commons](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L343), [a parliamentary sitting day in both Houses](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L372) or [a parliamentary sitting day in either House](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L401).

In usual circumstances, monkey patching classes is seen as bad form. You might write a set of methods to extend core functionality, then watch as the core functionality grows to add methods with the same names you've used. But with different logic. At which point, these methods get used in preference to the ones you've written and your code explodes. But we think it's very unlikely that core Ruby data handling will ever encompass method names such as [is_either_house_praying_day?](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb#L267). So we should be safe here. Though we wonder if more namespacing might add additional belt to our braces.

Anyway, if you do get chance, please [have a read of Robert and Michael's comments](https://github.com/fantasticlife/egg-timer/blob/master/lib/monkey_patching/date.rb). They spent an awful long time writing them and they're rather pleased with the results. And if you're looking to understand parliamentary time in a scrutiny period fashion, their comments are probably not the worst place to start.

## All about the colaboration

Jayne has continued on her quest to map procedural routes to Standing Orders adding new rows to [our spreadsheet](https://docs.google.com/spreadsheets/d/1HkFYQ2bJeYGCnbTNBv-bQAiFL33n7fx1kgY30R5Gbz4/edit?usp=sharing) and new coloured dots to our procedure maps. If your name is [Rad](https://radoslawzubek.com/) or [Tom](https://twitter.com/tomgfleming) or if you have a strong interest in [Standing Orders](https://www.parliament.uk/site-information/glossary/standing-orders/), [progress is reported here](https://trello.com/c/VJUF5xkl/161-adding-standing-order-citation-blobs-on-procedures). If your name happens to be [Martyn](https://twitter.com/martynpatrick), you also have a strong interest in Standing Orders and you ever get a spare ten minutes, you might want to glance at our [draft negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/draft-negative.pdf), [made negative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-negative.pdf) and [draft affirmative](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/draft-affirmative.pdf) procedure maps and check we're not going mad.

## Kind hearts and coronets

A wee while back Robert and Michael started to pull apart and reshape [David's peerage database](http://www.peerages.info/). As the name might suggest it is a dataset centred around peerages with a passing nod to the people first being awarded them. The people centric data boiling down to family and given names at the time the peerage was awarded, date of birth where known and date of death where known and applicable. Which got us to wondering: is it safe to assume that a person in receipt of a peerage having the same family name, the same given names, the same date of birth and the same date of death is in fact the same person. We got in touch with [David](https://twitter.com/clerkly) and he racked his brains about whether a person in receipt of two or more peerages had ever gone through a name change between those events. But could think of no examples. So Robert and Michael spent a bit more time with their database normalisation code and extracted peopleness from peerageness. Which means we can now make URLs for people first holding peerages. And leave it to the web to say [David's Norman Fowler(http://peerages.herokuapp.com/people/2026) is the same as [Michael's Norman Fowler](https://membersafter1832.historyofparliamentonline.org/members/289) is the same as [Parliament's Norman Fowler](https://membersafter1832.historyofparliamentonline.org/members/289) is the same as [Wikidata's Norman Fowler](https://www.wikidata.org/wiki/Q332919) and etc.

## Tiny chisel news

No actual comment chiselling took place this week. Monkey patched date classes aside. But Robert did do a number on [our model CSS](https://ukparliament.github.io/ontologies/) which now looks a good deal cleaner. Top work Robert.







