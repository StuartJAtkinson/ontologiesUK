# 2020 - Week 50

Blimey. Week 50. Where does the time go?

## Logicifying the procedure model

As the sun rose on another crisp and beautiful Monday morn, Librarian Jayne and computational expert Michael once more found themselve sipping coffee and staring at the newly logical proposed negative statutory instrument maps. Maps in the sense of what they'd drawn and what the computer had drawn for them. Given the mind numbing tedium of reading out AR-OR to BJ-AND, they thought it [better to be safe than sorry](https://trello.com/c/zUyIJdXC/41-check-pnsi-procedure) and not take their own competency for granted. And it was a good job they did. Two discrepancies were found with a step from the statutory instrument procedure making an unwelcome appearance and an arrow they'd manage to point in the wrong direction making it's way into our data without anyone spotting. Which meant we'd somehow manage to conjure up a NOT gate with two inputs and no outputs. There is Turing complete and then there is basic inadequacy and this was definitely more of the former. But it did make them think it might be best to have the computer check at least some of their work. So [the expected number of inputs and outputs was documented](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/#validating-inputs-and-outputs-to-steps) and a quick chat with Jianhan resulted in a new ticket to run scheduled checks to ensure their piping will not result in more taps connected to plug holes.

Having checked once and found problems they vowed to keep checking until they could run through the whole lot without finding more. So Tuesday morning was much the same as Monday morning. But all days are the same now. Luckily, check two yielded no further errors so that rescued at least some of the week.

The next meeting was more of the same except this time Jayne and Michael were joined by young Robert. They had hoped to solidify more of their thinking around logic gates and the parsing thereof. And they did do this. In a similar fashion to all teeth being pullable eventually.

The same crew met again late on Friday - this time joined by both Anya and Jianhan - to chat through approaches to [how we visualise procedures](https://trello.com/c/KKxTlrFj/25-rewrite-procedure-visualisation) and [how we might want to visualise work packages](https://trello.com/c/CSr8KMvp/26-rewrite-work-package-visualisation). In our old, route type based model we took the decision to only show steps that had been actualised or might be actualised. And only show the routes that led to these things. This is all slightly more difficult with a logic step based model where the dependencies are less than apparent. So, at least for this week, we've decided to base the work package visualisation on the procedure visualisation, only adding decoration where steps have been actualised, where they're allowed to be and where they must be. At least according to our map. [Rough notes were typed](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/parsing-notes.html) but have not yet seen the benefit of Robert's tiny chisel. So might well lack grammar. Or even sense. In the time it took Michael to write up the notes, Jianhan had churned through almost all the issues with the procedure visualisation. Which Michael at least thinks looks rather swell. All that remains is to add a key and get our team of crack librarians to sign off. Or otherwise.

On the subject of visualisations, Jayne and team had noticed that the quotation marks in the title of the [Weights and Measures Act 1985 (Definitions of "Metre" and "Kilogram") (Amendment) Order 2020](https://statutoryinstruments.parliament.uk/timeline/KxpP8LMy/SI-2020/) were [causing stray bubbles](https://trello.com/c/2tqRx4Ie/320-cherwell-1235761-punctuation-in-si-title-having-odd-impact-on-visualisation) to pop out of our pages. This is a bug that was first raised back in March. Before the NowTimes. But within minutes of flagging it to our Jianhan, the SI title was escaped and [the random bubbles disappeared](https://procedures.azurewebsites.net/WorkPackages/2752/graph). We've said it before and no doubt we'll say it again, but it's marvellous having Jianhan back.

Still on the subject of logical procedure models, Thursday saw Jayne and Michael don thinking caps and chew on their pencils as they once more applied themselves to their beloved motion model. Our new rules that business steps can only have one input and non-business steps can only have one output makes the whole thing slightly more verbose. But, as Michael will testify, there are advantages in verbosity. And we do *think* it's easier to read. We definitely think this. There is still a question about what the implications for upstream preclusion of questions being not decided - or indeed motions being disposed of - might be. We feel we may perhaps have asked Anna and David and Paul and Martyn and Matt this question a number of times. And they may have run out of patience telling us. Nevertheless, if you don't ask - multiple times - you don't get. So possibly yet another mail is incoming.

## Orders being standing

Following conversations with Robert, Michael spent most of last weekend rewriting his import task to turn the ParlRules data into something more amenable to our needs. Not that he resents this. Weekends being merely a thing that used to happen. Many years ago. The import script has been amended to also include the population of a basic node / edge model in the vain hope we might be able to render a Sankey diagram of changes to standing orders over time. Which means it now takes over seven hours to run. Which means we're either dealing with seriously Big Data here. Or Michael's code is awful. One or the other. It does now output node / edge JSON and, via the medium of D3, attempts to render a visualisation. But that also takes quite a while to load. And makes it not unlikely your browser will crash.

Visualisation aside, we are fairly happy with the underlying model. Happy enough, in fact, to begin ontologifying the thing. Which meant Wednesday saw Robert and Michael sit down and begin to turn pencil sketches into Turtle. And then into HTML. Should you take the time to click, you might notice some object properties and all the data properties are somewhat lacking in comments. But Rome was not built over Zoom. We remain on shaky ground in regards to nomenclature. And our understanding of what ParlRules captures is perhaps not all it should be. But from tiny steps, great journeys must start. And we remain convinced that emergence from doing will trump any plan ever. Standing order types should expect emails soon.

## All about the collaboration

Librarian Jayne found herself [in receipt of an email](https://trello.com/c/yQHMBd13/324-sparql-queries-at-the-request-of-jcsi-scsi-clerk) from Luanne, the Clerk of the Joint Committee on Statutory Instruments and the Second Clerk of the European Scrutiny Committee. Luanne had found herself with some questions about the divergence in practice between Lords and Commons on the question of information provided to committees considering SIs. She wanted to know:

* [An overall figure for the number of SIs considered by the JCSI or SCSI over the last two years](https://api.parliament.uk/s/323aacac).

* [The incidence of SIs being considered in a Delegated Legislation Committee before they are considered by the JCSI or SCSI during the same time period](https://api.parliament.uk/s/2d47625f).

* [The incidence of SIs being debated on the Floor before they are considered by the JCSI or SCSI again for the last two year](https://api.parliament.uk/s/31d4f648).

* [The incidence of SIs being considered by a DLC or debated on the Floor after being considered by the JCSI or SCSI but before any report has been published - yup, for the same two years](https://api.parliament.uk/s/edb28b96).

Ever eager to help, Jayne popped on her SPARQL hat and her sparkling Christmas jumper - don't ask - and with just a little help from our Jianhan churned out four new queries. Which, should our reader be interested, are sat being the links above. Please do feel free to click. And indeed tinker.

## Tidying up behind ourselves

For the poor soul reading along, it may be recalled that recent changes to the website resulted in some of the URLs we store being different to where the content now sits. Whilst this is all swept under the carpet by numerous redirects, Anya wanted to know [how many URLs we stored were being made to leap](https://trello.com/c/UYmr2sHg/277-urls-going-through-redirects) though 30x hoops. Jayne did a little investigation and found the vast majority of URLs stored remained unchanged. And that the only real problem was with committee allocation steps over in treaty land. It seems the European Union Committee used to have a page [listing all Brexit related treaties](https://www.parliament.uk/business/committees/committees-a-z/lords-select/eu-select-committee-/inquiries/parliament-2017/scrutiny-of-brexit-related-treaties/treaties-scrutinised/) and setting out their allocations. But this page didn't make the cut for the new website and no redirect was put in place. Meaning users with an interest would only get a 404 for their troubles. A 404 never being the best of user experiences, Jayne has now edited all 63 links, we hope to something more sensible.


