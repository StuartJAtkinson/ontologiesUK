# 2020 - Week 50

Blimey. Week 50. Where does the time go?

## Logicifying the procedure model

As our reader takes their seat at the opening of Week 50, the curtains are drawn back to reveal Librarian Jayne and computational expert [Michael](https://twitter.com/fanasticlife) sipping coffee and staring at the newly logical proposed negative statutory instrument maps. Two maps: the [hand drawn](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/proposed-negative-sis/logic-gates/proposed-negative-sis.pdf) and the [machine drawn](https://github.com/ukparliament/ontologies/blob/master/meta/weeknotes/2020/49/machine-pnsi.png). The task was to [compare the two](https://trello.com/c/zUyIJdXC/41-check-pnsi-procedure), and it was the effort. The computer can only do as it's told, and it turns out there'd been a little misdirection. Two discrepancies were found, a step from the statutory instrument procedure making an unwelcome appearance and an arrow pointing in the wrong direction. Which meant they'd somehow conjured up a NOT gate with two inputs and no outputs. There is [Turing complete](https://en.wikipedia.org/wiki/Turing_completeness) and there is basically inadequate and this was more of the latter. But it did make them wonder whether the computer might check at least some of their work. So [the expected number of inputs and outputs was documented](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/#validating-inputs-and-outputs-to-steps) and a quick chat with Jianhan resulted in a [new ticket](https://trello.com/c/rsQ4Vv2b/42-validate-the-number-of-inputs-and-outputs-to-steps) to run scheduled checks to ensure their piping will not result in more taps connected to plug holes. Never ones to take their own competency for granted. 


This first check having shown problems, they undertook to rinse and repeat until they could run through the whole lot without finding more. So Tuesday morning was much the same as Monday morning. It is at least novel to be able to put a finger on the reason for that. Luckily, check two yielded no further errors, rescuing at least some of the week and restoring the vague sense of déjà vu we've become so used to.

Later on Tuesday, Jayne and Michael were joined by young Robert. They had hoped to solidify more of their thinking around logic gates and the parsing thereof. And they did do this. All teeth are pull-able eventually.

The same crew met again late on Friday - this time joined by both [Anya](https://twitter.com/bitten_) and [Jianhan](https://twitter.com/jianhanzhu) - to chat through approaches to [visualising procedures](https://trello.com/c/KKxTlrFj/25-rewrite-procedure-visualisation) and [how we might want to visualise work packages](https://trello.com/c/CSr8KMvp/26-rewrite-work-package-visualisation). Formerly, before introducing logic steps, the work package visualisations showed only [steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e175) that had been or might be [actualised](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e344), and the [routes](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e164) between them. This is slightly more difficult with a logic based model, where the dependencies are less than apparent. So, at least for this week, we've decided to base the [work package](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e222) visualisation on the [procedure](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e153) visualisation, but with additional decoration for steps that have been actualised, are allowed to be, and must be. [Rough notes were typed up](https://ukparliament.github.io/ontologies/procedure/flowcharts/meta/design-notes/parsing-notes.html) but have not yet seen the benefit of Robert's tiny chisel. They might well be deficient in grammar and short on sense. In the time it took Michael to write up the notes, Jianhan had churned through almost all the issues with the procedure visualisation. Which Michael at least thinks [looks rather swell](https://github.com/ukparliament/ontologies/blob/master/meta/weeknotes/2020/50/machine-pnsi.png). All that remains is to add a key and ask our team of crack librarians to sign off on them. Or otherwise.

On the subject of visualisations, Jayne and team had noticed that the quotation marks which appear in the title of the [Weights and Measures Act 1985 (Definitions of "Metre" and "Kilogram") (Amendment) Order 2020](https://statutoryinstruments.parliament.uk/timeline/KxpP8LMy/SI-2020/) were [causing stray bubbles](https://trello.com/c/2tqRx4Ie/320-cherwell-1235761-punctuation-in-si-title-having-odd-impact-on-visualisation) to pop out of our pages. This is a bug that was first raised back in March. Before the Now Times. But within minutes of flagging it to our Jianhan, the SI title was escaped and [the random bubbles disappeared](https://procedures.azurewebsites.net/WorkPackages/2752/graph). We've said it before, and no doubt we'll say it again, but it's marvellous having Jianhan back.

Still on the subject of logical procedure models, Thursday saw Jayne and Michael don thinking caps as they once more applied themselves to their [beloved motion model](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/meta/motions/logic-gates/motion.pdf). Our new rules - that business steps can have one input only, and non-business steps can have one output only - make the whole thing slightly more verbose. But, as Michael will testify, there are advantages in verbosity. And we do think it's easier to read. We definitely think this. There is still a question about the implications for upstream preclusion of questions being not decided, or indeed motions being disposed of. We suspect we may perhaps have asked [Anna](https://twitter.com/LoogaGirl) and [David](https://twitter.com/clerkly) and Paul and [Martyn](https://twitter.com/martynpatrick) and [Matt](https://twitter.com/MattKorris) this question a number of times. And they may have run out of patience with telling us. Nevertheless, if you don't ask (multiple times) you don't get. So possibly yet another mail is incoming.

## Orders being standing

Following conversations with Robert, Michael spent most of last weekend rewriting his import task to turn the [ParlRules](https://parlrulesdata.org/) data into [something more amenable to our needs](https://standing-orders.herokuapp.com/houses/1/business-extents/1). Not that he resents this. Weekends are a thing that used to happen. Many years ago. The import script has also been amended to include the population of a basic node / edge model in the vain hope we might be able to render a [Sankey diagram](https://en.wikipedia.org/wiki/Sankey_diagram) of changes to standing orders over time. Which means it now takes over seven hours to run. Which means one of two things: we're dealing with seriously Big Data here. Or Michael's code is awful. One or the other. It does now output [node / edge JSON](https://standing-orders.herokuapp.com/static/sankey.json), and by virtue of [D3](https://en.wikipedia.org/wiki/D3.js), attempts to render a [visualisation](https://standing-orders.herokuapp.com/sankey). But that also takes quite a while to load. It's highly probable your browser will crash.

Visualisation aside, we are fairly happy with the [underlying model](https://standing-orders.herokuapp.com/meta/schema). Happy enough in fact to begin ontologifying the thing. Wednesday saw Robert and Michael sit down and begin to turn [pencil sketches](https://standing-orders.herokuapp.com/houses/1/business-extents/1) into [Turtle](https://github.com/ukparliament/ontologies/blob/master/standing-order/standing-order-ontology.ttl). And then into [HTML](https://ukparliament.github.io/ontologies/standing-order/standing-order-ontology.html). Should you take the time to click, you might notice some object properties and all data properties are lacking in comments. But Rome was not built over Zoom. We also remain on shaky ground in regards to nomenclature. And our understanding of what ParlRules captures is perhaps not all it should be. But from tiny steps, great journeys must start. And we remain convinced that emergence from doing trumps any plan ever. Standing order types should expect emails soon.

## All about the collaboration

Librarian Jayne was [in receipt of an email](https://trello.com/c/yQHMBd13/324-sparql-queries-at-the-request-of-jcsi-scsi-clerk) from Luanne, the Clerk of the [Joint Committee on Statutory Instruments](https://committees.parliament.uk/committee/148/statutory-instruments-joint-committee) and the Second Clerk of the [European Scrutiny Committee](https://committees.parliament.uk/committee/69/european-scrutiny-committee). Luanne had some questions about information provided to committees considering SIs. She wanted to know, for the last two years:

* [an overall figure for the number of SIs considered by the JCSI or SCSI](https://api.parliament.uk/s/323aacac)

* [the incidence of SIs being considered in a Delegated Legislation Committee before they are considered by the JCSI or SCSI](https://api.parliament.uk/s/2d47625f)

* [the incidence of SIs being debated on the Floor before they are considered by the JCSI or SCSI](https://api.parliament.uk/s/31d4f648)

* [the incidence of SIs being considered by a DLC or debated on the Floor after being considered by the JCSI or SCSI but before any report has been published](https://api.parliament.uk/s/edb28b96)

Jayne popped on her [SPARQL](https://en.wikipedia.org/wiki/SPARQL) hat and her sparkling Christmas jumper - don't ask - and with just a little help from our Jianhan, produced four new glittering queries. Which, should our reader be interested, are available to you using the links above. Please do feel free to click. And indeed tinker.

## Tidying up behind ourselves

The poor soul reading along may recall that recent changes to the website resulted in some of the URLs we store being different to where the content now sits. Whilst this is all swept under the carpet by numerous redirects, Anya wanted to know [how many URLs we stored were being made to leap](https://trello.com/c/UYmr2sHg/277-urls-going-through-redirects) though [30x](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#3xx_redirection) hoops. Jayne did a little investigation and found the vast majority of URLs stored remained unchanged. And that the only real problem was with committee allocation steps over in [treaty land](https://ukparliament.github.io/ontologies/procedure/flowcharts/crag-treaties/crag-treaties.pdf). It seems the [European Union Committee](https://committees.parliament.uk/committee/176/european-union-committee/) used to have a page [listing all Brexit related treaties](https://www.parliament.uk/business/committees/committees-a-z/lords-select/eu-select-committee-/inquiries/parliament-2017/scrutiny-of-brexit-related-treaties/treaties-scrutinised/) and setting out their allocations. But this page didn't make the cut for the new website and no redirect was put in place. Meaning users with an interest would only get a [404](https://en.wikipedia.org/wiki/HTTP_404) for their troubles. A 404 never being the best of user experiences, Jayne has now edited all 63 links, we hope to something more sensible.


