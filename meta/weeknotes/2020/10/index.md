# 2020 - Week 10

Librarian Jayne has had another [SPARQL](https://en.wikipedia.org/wiki/SPARQLing week. A solicitor with [LexisNexis](https://www.lexisnexis.co.uk/) contacted Journal Office Peter looking for a filter on the [Statutory Instrument service](https://statutoryinstruments.parliament.uk/) listing all EU Exit [made affirmatives](https://ukparliament.github.io/ontologies/procedure/flowcharts/sis/made-affirmative.pdf) that failed to be approved. Unfortunately, such a filter does not yet exist. Fortunately our [public SPARQL endpoint](https://api.parliament.uk/sparql#) does. The folks at LexisNexis had been doing the work manually, but Jayne [wrangled a query](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0Aselect+distinct+%3FSI+%3FSIname+%3FlayingBodyName+%3FLink+%3FworkPackage+%3Fproc+%3FprocStepName+%3FitemDate+%3FprocStepName2+%3FitemDate1+where+%7B%0A+%3FSI+a+%3AStatutoryInstrumentPaper+.++%0A+++++%3FSI+rdfs%3Alabel+%3FSIname+%3B%0A+++++++++%0A+++++%3AlaidThingHasLaying%2F%3AlayingHasLayingBody%2F%3Aname+%3FlayingBodyName+.%0A++FILTER+regex(%3FSIname%2C+%22EU+Exit%22)%0A++%3FSI+%3AworkPackagedThingHasWorkPackagedThingWebLink+%3FLink+.%0A+++%09%3FSI+%3AworkPackagedThingHasWorkPackage+%3FworkPackage+.%0A++%09%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fproc%0A+FILTER(%3Fproc+IN+(%22Made+affirmative%22))%0A++%3FworkPackage+%3AworkPackageHasBusinessItem%2F%3AbusinessItemHasProcedureStep+%3FprocStep+%3B%0A+++++++++++%3AworkPackageHasBusinessItem+%3FbusItem+.%0A++%3FbusItem+%3AbusinessItemHasProcedureStep%2Frdfs%3Alabel+%3FitemDate2%3B%0A+++++++++++%3AbusinessItemDate+%3FitemDate+.%0A++%3FprocStep+rdfs%3Alabel+%3FprocStepName.%0A++++%0A++FILTER(%3FprocStepName+IN+(%22Laid+before+the+House+of+Commons%22))%0A++FILTER(%3FitemDate2+IN+(%22Laid+before+the+House+of+Commons%22))%0A++%0A++%0A+++%3FworkPackage+%3AworkPackageHasBusinessItem%2F%3AbusinessItemHasProcedureStep+%3FprocStep2+%3B%0A+++++++++++%3AworkPackageHasBusinessItem+%3FbusItem2+.%0A++%3FbusItem2+%3AbusinessItemHasProcedureStep%2Frdfs%3Alabel+%3FitemDate3%3B%0A+++++++++++%3AbusinessItemDate+%3FitemDate1+.%0A++%3FprocStep2+rdfs%3Alabel+%3FprocStepName2.%0A++%0A++FILTER(%3FprocStepName2+IN+(%22Instrument+stops+being+law%22))%0A++FILTER(%3FitemDate3+IN+(%22Instrument+stops+being+law%22))%0A+++%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=Made+affirmatives+not+approved&headers=%7B%7D&outputFormat=table) making the whole task considerably less onerous. The query returns all made affirmatives with 'EU Exit' in the title that had the 'instrument stops being law' step [actualised](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e382). Applause Jayne.

In more SPARQL news, Jayne had been tinkering around with queries to help with quality checking our data and found that back in October, the [Local Loans (Increase of Limit) Order 2019](https://statutoryinstruments.parliament.uk/timeline/w7eIPYUN/SI-20191317/) had accidentally been debated without undergoing [EVEL](https://en.wikipedia.org/wiki/English_votes_for_English_laws) certification. She contacted [Daniel](https://www.danielgreenberg.co.uk/house-of-commons/) in the Office of the Speaker's Counsel who confirmed that it would have been 'not certified' anyway. Some blushes being spared here. Jayne has now [put together a query](https://api.parliament.uk/sparql#query=PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2Fschema%2F%3E%0APREFIX+id%3A+%3Chttps%3A%2F%2Fid.parliament.uk%2F%3E%0Aselect+%3FSI+%3FSIname+%3FworkPackage+%3FPNSI+%3Fproc+%3FDLC+%3Fdate+%3FCommonsChamber+%3Fdate1+where+%7B%0A+%3FSI+a+%3AStatutoryInstrumentPaper+.++%0A+++++%3FSI+rdfs%3Alabel+%3FSIname+.%0A+++++%09%3FSI+%3AworkPackagedThingHasWorkPackage+%3FworkPackage+.%0A++%09%3FworkPackage+%3AworkPackageHasProcedure%2Frdfs%3Alabel+%3Fproc%0A++FILTER(%3Fproc+IN+(%22Draft+affirmative%22%2C+%22Made+affirmative%22))%0AOPTIONAL+%7B%3FworkPackage+%3AworkPackageHasBusinessItem+%3FDLC.%0A++++%3FDLC+%3AbusinessItemDate+%3Fdate.%0A++++%3FDLC+%3AbusinessItemHasProcedureStep+id%3AFLHAXypO%7D++%0AOPTIONAL+%7B%3FworkPackage+%3AworkPackageHasBusinessItem+%3FCommonsChamber.%0A++++%3FCommonsChamber+%3AbusinessItemDate+%3Fdate1.%0A++++%3FCommonsChamber+%3AbusinessItemHasProcedureStep+id%3AADYK7qyp%7D%0A++MINUS+%7B%3FworkPackage+%3AworkPackageHasBusinessItem+%2F%3AbusinessItemHasProcedureStep+id%3AO5QdnmSL%7D%0A++MINUS+%7B%3FworkPackage+%3AworkPackageHasBusinessItem+%2F%3AbusinessItemHasProcedureStep+id%3ALkpqQD8q%7D%0A%0A%7D%0A&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fapi.parliament.uk%2Fsparql&requestMethod=POST&tabTitle=SIs+missing+EVEL+scheduled+for+debate&headers=%7B%7D&outputFormat=table) we'll run regularly for Daniel to make sure nothing slips through this same gap in the future. The query returns all SIs that have not been withdrawn and have been considered for EVEL but that have / have not been scheduled for debate.

We think that all this goes to prove - should proof be needed - that the work that's gone into the data platform and the [procedure modelling](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html) has the potential to make a far greater impact than just publishing a website or opening up parliamentary data. It's the first time that procedural people in Parliament have had this information gathered and managed in one place. And certainly the first time it's been queryable. As [Anya](https://twitter.com/bitten_) and [Michael](https://twitter.com/fantasticlife) might say, [if Erskine May had had a computer](https://www.slideshare.net/UKParliData/what-would-erskine-may-do), he may well have built a data platform and a precedence engine out of queries.

That said, the potential extends outside of Parliament's walls. The SPARQL endpoint is public and Jayne continues to add [queries to our GitHub pages](https://ukparliament.github.io/ontologies/procedure/meta/queries/). So anyone with an interest can take a query, tinker with it and run it. Do [get in touch](mailto:RIIDMSMailbox@parliament.uk) if there's a query you'd like to see and need help writing it.

Anya, Michael and Robert's week started with a wallop on Monday. They entertained both [David](https://twitter.com/clerkly) and Paul Evans for another session on modelling [amendment and stand part consideration](https://twitter.com/fantasticlife/status/1234505557740064768) as part of their work on [modelling public bill procedure](https://ukparliament.github.io/ontologies/procedure/flowcharts/bills/public-bill.pdf). For those unfamiliar with the workings of Parliament this is some considerable procedural brain and roughly equivalent to getting Hemingway to mark your writing. Anyway, possibly unsurprisingly, assorted holes were found in the model they'd produced. The main one being they'd never clocked the existence of the proposing step between moving and putting. And, contrary to what seems to be popular opinion, it is at the proposing step and not the moving step that the amendment belongs to the House. This threw out most of their modelling around withdrawal and the begging of leave to do so. The introduction of the proposing step also messed up the flow they'd drawn from amendment consideration to amendment of amendment consideration so this bit has also needed a thorough redraw.

Michael had been under the impression that all amendments were considered before proceeding to [stand part consideration](https://erskinemay.parliament.uk/section/5346/question-for-clause-standing-part-of-a-bill/), which Paul pointed out was a bloody stupid impression. So that part was also revised. They also cleared up the question of whether amendments lapse at the end of a [session](https://ukparliament.github.io/ontologies/time-period/time-period-ontology.html#d4e144). It turns out they do, so those steps have been added to both amendments and amendments to amendments.

Bits of Wednesday were spent peering at a rather messy whiteboard and [transferring the scribbles to the flowchart](https://github.com/ukparliament/ontologies/blob/master/procedure/flowcharts/bills/amendments/amendment.pdf). What's there is supposed to be a fairly generic model we can use elsewhere but, because we've been mostly dealing with Committee Stage, it's slightly biased toward that at entry and exit points. New entry points have been added, but it turns out the Commons accept amendments from the moment the Second Reading motion is agreed and the Lords usually do not. So we've had to include some green arrows to denote Commons things. Unfortunately, we already use red to mark when steps are self-precluding, so for the purposes of this digram the Lords is temporarily cyan. Sorry, House of Lords. The amendment flowchart still needs double checking but we think it's closer. Or hope so anyway.

In modelling news, Anya, Jayne and Michael put together their simplest model yet. The only thing the [description ontology](https://ukparliament.github.io/ontologies/description/description-ontology.html) does is connect something that's described by something to the thing that describes it. As the comments hopefully make clear the intended use case is to link a procedure - or procedure route - to a Standing Order or item of legislation that describes it. Because we always cite sources. But they suspect there may be future uses, so they've kept it as generic as possible.

If you've been following along from home, you'll know that Robert and Michael spent some time back in [week 8](https://ukparliament.github.io/ontologies/meta/weeknotes/2020/08/) poring over [ELI](https://eur-lex.europa.eu/eli-register/about.html) documentation in an effort to work out how it mapped to our models. ELI has started on work to describe draft legislation but Robert and Michael have concerns that our mappings don't quite align. 

They also had questions about how [LDAPP](https://www.azeus.com/case-studies/legislation/) and [Akoma Ntoso](http://www.akomantoso.org/) plan to map to other outputs including, but not restricted to, HTML. So Michael mailed [Catherine](https://twitter.com/CathTabone), [Matt](https://twitter.com/metju_betju) and [John](https://twitter.com/johnlsheridan) in search of enlightenment. Catherine kindly called by Tothill Street on Friday and, together with Robert and Michael, [filled a whiteboard](https://twitter.com/fantasticlife/status/1235533738290728962) with LDAPP, Akoma Ntoso, [CLML](https://blog.law.cornell.edu/voxpop/tag/crown-legislation-markup-language/), HTML and the assorted bits of [XSLT](https://en.wikipedia.org/wiki/XSLT) that make all the transforms work. Other acronyms may have been used. It was generally agreed that there should not be too much divergence in the XSLT that [TNA](https://www.nationalarchives.gov.uk/) use to generate legislation pages and the XSLT that Parliament might use to generate draft legislation pages. In the name of consistency and not inventing the same wheel twice. Catherine said she'd bring this up at the next LDAPP meeting.

They also had a chat about where ELI was at and some of the problems it faced. It turned out that no-one from Parliament attends the ELI meetups. Which happen to usually take place in Switzerland. Robert and Michael took note. Switzerland not being a contributory factor here.