# 2023 - Week 11

Both Librarian Jayne and [Young Robert](https://mastodon.me.uk/@robertbrook/) recently grabbed the opportunity to take well deserved vacations. Which has not only left something of a dent on our productivity charts but made a considerable dent in [Michael](https://mastodon.me.uk/@fantasticlife)'s craving for company. Or attention as some might say. Nevertheless, we plough on.

## [People, places, parties](https://www.youtube.com/watch?v=_nodNflQIGU)

In the absence of Jayne and Robert, our attentions have been firmly focussed on [general election planning](https://trello.com/b/owaHiYDj/mnis-general-elections). As our regular reader will well know, back in the day, Library staff managed all election-related data in a database built and maintained by [our Oli](https://twitter.com/olihawkins). Ex of this parish. The plan for the next election involves a shift to using [Democracy Club](https://democracyclub.org.uk/) as our data provider. If we were in the [Wardley mapping](https://en.wikipedia.org/wiki/Wardley_map) business, we'd be throwing in references to commoditisation round about now. Unfortunately, we're too busy trying to map identifiers.

Our first problem was identifiers for people. Or candidates if you will. Luckily [Sym](https://mastodon.me.uk/@symroe) and co already have Wikidata IDs and Wikidata has a well-populated property linking to [MNIS](https://data.parliament.uk/membersdataplatform/memberquery.aspx) people IDs. So it's perfectly possible to take a Wikidata ID, query the Wikidata API and get back a MNIS ID. At least in theory. Unfortunately, practice proved slightly harder when Librarian Ned discovered that some Wikidata people had more than one MNIS ID. Not a thing that should happen. [Librarian Phil](https://mastodon.social/@Mognar) has now [investigated](https://trello.com/c/IxP7K95j/79-people-defunct-mnis-ids-in-wikidata) and it turns out that we do indeed have a handful of Members with more than one record in our own systems. One record populated, one left blank. Another thing that should not happen. This results in ghost profile pages on the website and ghost records in the API. Links to ghost records in Wikidata have now been expunged and Sym is free to go ahead and import MNIS IDs. Work to tidy ghost records in MNIS is currently impeded by the admin application crashing whenever anyone tries to access one. So that might take a while longer. Top work Phil.

Our second problem was identifiers for places. Or constituencies if you will. All made much easier by both Democracy Club and MNIS records having ONS code entries. That said, the upload script expects [XML carrying a MNIS constituency ID](https://raw.githubusercontent.com/ukparliament/ontologies/master/meta/relational/mnis/candidates/mnis-members.xml) rather than an ONS code and we're told that's unlikely to change before the next general election. So, somehow, data scientist Louie is gonna have to grab the data from Democracy Club, match against ONS codes in a [spreadsheet](https://docs.google.com/spreadsheets/d/1aL9zZTQiFRawizFtJt_l1wcKGQ0GKLIR5JhJzkxfhbQ/edit?usp=sharing), grab the MNIS ID from said spreadsheets, munge it together and upload. That said, the [MNIS constituency table](https://github.com/ukparliament/ontologies/blob/master/meta/relational/mnis/schema.sql#L226) is something of an identifier minefield, having fields like PConName, PCACode and OldDisId. All of which the librarian's MNIS manual was silent on. Most of which got solved when Librarians [Anna](https://twitter.com/Anna_buck), Emily, Phil and honorary librarian Michael met with statisticians [Jeremy](https://twitter.com/jeremyhardacre) and [Carl](https://twitter.com/carlbaker) on Wednesday. There's really no substitute for experience. We now have a much better idea of [what we need to populate and what we can happily ignore](https://trello.com/c/AC8q6jjp/143-add-650-new-constituencies-to-mnis), if and when there's a boundary change. Thanks Jeremy. Thanks Carl.

Of the three identifier alignment problems, the last one's probably the worst one. Democracy Club have Electoral Commission IDs for parties. MNIS does not. Librarian effort is currently focussed on [de-duping the MNIS party table](https://docs.google.com/spreadsheets/d/1ozIMZw2opyklwSOGtFblL8aY7r-ZSqZROrms1tPXtko/edit?usp=sharing) which is something of a mess. Once that's done, we need to generate another lookup spreadsheet matching MNIS party IDs to Electoral Commission IDs. At which point, data scientist Louie will have more side-loading work cut out for him.

With a licked finger in the air, we're currently considering ourselves to be two thirds of the way toward general election data success. Roughly speaking. Not to be sniffed at.

In other general election news, Librarian Emily has made magnificent progress [investigating](https://trello.com/c/fenmkqZW/73-investigate-end-reasons) membership 'end reasons' and how they're applied at dissolution and more generally. A meeting has been pencilled in to chat through her findings. More work will, inevitably, arise.

## Lifting / shifting

With Azure [announcing their deprecation of Ruby](https://azure.microsoft.com/en-gb/updates/rubysupport/), our flight back to [Heroku](https://en.wikipedia.org/wiki/Heroku) continues. Last time we spoke, we'd managed to port across the code for our [written answer bots](https://api.parliament.uk/written-answers) - of which, more later - the old [MNIS prodder](https://api.parliament.uk/mnis-prodder) and our [beloved egg timer](https://api.parliament.uk/egg-timer). This time out, we've finished the job with both our historical [UK general election application](https://api.parliament.uk/uk-general-elections) - thanks for the data [Resul](https://twitter.com/ResulUmit) - and our attempt to turn the FCDO treaty website into [something that actually uses HTTP](https://api.parliament.uk/uk-treaties) now both lifted and shifted. As we computational types like to say.

Way back in lockdown years, Young Robert and Michael spent many a Teams call taking [our procedure maps](https://ukparliament.github.io/ontologies/procedure/maps/) and [writing code to parse them](https://github.com/ukparliament/procedure-parsing). What they like to call their "masterpiece". Nobody having ever forced a computer to parse a parliamentary procedure before. To the best of our knowledge. Their work was taken on by [our Jianhan](https://twitter.com/jianhanzhu), who took their childlike scribbles and turned them into production ready C# code. Nevertheless, having a playground for Robert and Michael to test new procedure-related functionality remains desirable, so that code is [also now reborn](https://api.parliament.uk/procedure-parsing/procedures). If you've ever wondered how a computer might draw the journey of an instrument subject to the made affirmative procedure, now's [your chance to find out](https://api.parliament.uk/procedure-parsing/work-packages/0gImvkHj/parse/visualise).

## A brand new app, this way comes

Our reader will be delighted to learn that computational life is not all lifting. Or indeed shifting. Sometimes we even make new things. Our latest effort was commissioned by [Librarian Anya](https://twitter.com/bitten_) whose crack team have had a long standing difficulty getting their hands on bill-adjacent papers. The system that manages such things not being kind enough to spit out feeds. Poor Librarian Jason had been lumbered with the job of indexing impact assessments for bills, but - with no feed to rely on - feared he may well be missing one or two.

A few weeks back Anya asked Michael if it might be possible to use the [bills API](https://bills-api.parliament.uk/index.html) to somehow construct an RSS feed of incoming bill papers of a given type. At that point, Michael's computer was dysfunctional and his usual "magick" quite beyond him. Since then his computer has been given a new lease of life, gaining a script that allows him to install things in a 30 minute window. After which it [turns back into a pumpkin](https://www.youtube.com/watch?v=Gn2GYzJjR2I&t=5s).

Pumpkin or otherwise, this window of opportunity is not nothing. We're now in proud possession of a new [bill papers website](https://api.parliament.uk/bill-papers) providing RSS - and CSV - outputs for papers of a given type and papers for a given bill. If you're a dedicated follower of the [Illegal Migration Bill](https://api.parliament.uk/bill-papers/bills/3429) or of [delegated powers memoranda](https://api.parliament.uk/bill-papers/publication-types/51) or of [human rights memoranda](https://api.parliament.uk/bill-papers/publication-types/34) or - like Jason - of [impact assessments](https://api.parliament.uk/bill-papers/publication-types/36), just plug the RSS into your favourite email client and you'll get an email every time a new paper drops. Many [other bills](https://api.parliament.uk/bill-papers/bills) and many [other publication types](https://api.parliament.uk/bill-papers/publication-types) also being available.

Away from our usual client base of crack librarians, we're happy to report that we already have [one satisfied customer](https://twitter.com/dkernohan/status/1635649614509404162). Thanks [David](https://twitter.com/dkernohan). Your feedback makes it all worthwhile.

## More blasted papers

Paper modelling work has moved off the whiteboard and into the much less fun realms of documentation. To that end, we now have brand spanking new models for the [presentation of papers](https://ukparliament.github.io/ontologies/presentation/presentation-ontology) and the [reporting of committee things](https://ukparliament.github.io/ontologies/reporting/reporting-ontology). Both models specialise our earlier efforts on [making things available](https://ukparliament.github.io/ontologies/making-available/making-available-ontology) and should be read in conjunction. Or won't really make much sense.

Still on the subject of papers, the addition of [FRBR](https://en.wikipedia.org/wiki/Functional_Requirements_for_Bibliographic_Records)isation to what was our legislation model had complicated things somewhat. Being less of a [fag packet domain model](https://smethur.st/posts/176135865) and more like an overcooked bowl of linguine. For that reason, that model has now been cleaved in two. There is an [delegation model](https://ukparliament.github.io/ontologies/delegation/delegation-ontology) and a [delegated legislation model](https://ukparliament.github.io/ontologies/delegated-legislation/delegated-legislation-ontology). Much more concise and always true to [the old bounded contexts](https://martinfowler.com/bliki/BoundedContext.html). As [Silver](https://twitter.com/silveroliver) might say. The comments still need work, so if you do click, don't judge us.

Off the back of our ["what the hell is a parliamentary paper?" debacle](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/08/#backing-gracefully-away-from-parliamentary-papers), we decided it might be best to sit down with Journal Office Eve and chat through a model or two. Just to double check we'd not disappeared down any more dangerous alleyways. A pixel-based meeting was arranged, which quickly turned into an in person meeting when Eve, Anya and Michael realised they were all in the office and it became apparent that Teams was not the the most appropriate medium for drawing out the intersections of 7 different models. Safely gathered in Tothill Street, a whiteboard was purloined - god, we miss whiteboards - and they took a whistle-stop tour through the making available, [laying](https://ukparliament.github.io/ontologies/laying/laying-ontology), [depositing](https://ukparliament.github.io/ontologies/depositing/depositing-ontology), presentation, reporting, [paper](https://ukparliament.github.io/ontologies/paper/paper-ontology) and [bill](https://ukparliament.github.io/ontologies/bill/bill-ontology) models. Eve expressed doubts that [linking to the incumbency of the person making the thing available](https://ukparliament.github.io/ontologies/making-available/making-available-ontology#d4e220) was of much interest to many people and that most punters were only really interested in [the organisation / department](https://ukparliament.github.io/ontologies/making-available/making-available-ontology#d4e235). She also expressed some concerns that nailing down procedure in data might be akin to [nailing butterflies to wheels](https://smethur.st/posts/176135867). Which at least gave Michael the opportunity to draw out the [Cynefin framework](https://en.wikipedia.org/wiki/Cynefin_framework) and rattle on about the difference between complicated and complex. A thing he always enjoys. That said, nothing we drew appeared to scare any Journal Office horses. So that's good. Thanks for your time Eve. Lovely to see you.

## Procedural cartography

Before Librarian Jayne headed off to [Tubbs and Crockett land](https://www.youtube.com/watch?v=6nPTZqnIfFM), she put in one last map making shift. As a result of which, our [remedial order maps](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/statutory-instruments/super-affirmative-procedures/#remedial-orders) now feature both an inquiry and a call for evidence from the [JCHR](https://committees.parliament.uk/committee/93/human-rights-joint-committee/). How that ever got missed, we'll never know.

Jayne and her computational comrade Michael also put the finishing touches to their [cheat sheets for motions and the cascading effects of withdrawals](https://ukparliament.github.io/ontologies/procedure/maps/meta/motion-cheat-sheets/). So when Jayne returns - should she choose to return - the usual suspects may well be on the receiving end of an idiot checking telephone call. At this point we break off to send a jaunty wave in the direction of Mr Hennessy and [Mr Korris](https://twitter.com/MattKorris).

Also in map land, our Jianhan has made a most welcome change to our [procedure dot files](https://procedures.azurewebsites.net/Procedures/58/graph.dot). Previously, if a business [step](https://ukparliament.github.io/ontologies/procedure/procedure-ontology#d4e175) takes place in a House, the name of that House was appended to the step label. If a business step takes place in both Houses - a joint committee report, for example - the names of both Houses were appended to the step label. And if a business step takes place outside of Parliament, the step label remains untouched. Obviously. This worked fine for UK Parliament procedures but came a cropper when dealing with [legislative consent motions](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/#legislative-consent-motions) in the devolved legislatures. Which is [now fixed and looking lovely](https://procedures.azurewebsites.net/Procedures/58/graph). Thanks Jianhan.

## Importing Act data

In other Jianhan news, he's now imported all of the Act data - [so lovingly polished](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/06/#librarians-of-the-week) by Librarian Jayne - into our data platform. A nice circle to square. Jayne has also contacted [Andrew](https://twitter.com/generalising) to let him know that all her hard work is now available and free to use in Wikidataland.

## To the fediverse and beyond

Our regular reader will, of course, be aware of - and we hope subscribed to - both [made-n-laid](https://twitter.com/madenlaid) and [tweaty twacker](https://twitter.com/TweatyTwacker). What they might not know is we also make written answers available as part of our cross-cutting, omni-channel, content and service delivery strategy. And will continue to make them available as part of our cross-cutting, omni-channel, content and service delivery strategy going forward. As Young Robert might say if he had the misfortune to swallow an MBA sideways. Should an answering body provide a written answer - or a correction to a written answer - to a parliamentary question, bot subscribers will be notified.

In her constant efforts to increase both the reach and engagement of our cross-cutting, omni-channel, content and service delivery strategy going forward, Librarian Anna has been expanding our family of busy bots, registering a hell of a lot of new Mastodon accounts. [30 of them in fact](https://ukparliament.github.io/ontologies/meta/bots/#written-answer-bots). One for each current answering body from the [Attorney General](https://botsin.space/@AGAnswers) to [Women and Equalities](https://botsin.space/@GEO_Answers). She's then been grabbing their [bearer tokens](https://oauth.net/2/bearer-tokens/) and plugging them into Heroku. Which means we now have full coverage of a bot per answering body. Lovely stuff. But no machinery of government changes quite yet, please.

If you're looking for a full list of all our bot accounts, we [also have you covered](https://ukparliament.github.io/ontologies/meta/bots/). Our eagle-eyed reader may notice that many of the Twitter-hosted written answer bot accounts are marked 'coming soon'. This is because Twitter's new ownership makes it increasingly difficult to do ... well, anything really. We do hope to add these accounts at some point soon. It really depends on what Twitter's "strategy" might be next week.

## A trip into complexity

Week 10 saw Anya, Vanda, Young Robert and Michael escape the confines of Westminster for a trip to far-flung UCL. There to see [Dave Snowden](https://en.wikipedia.org/wiki/Dave_Snowden), creator of the aforementioned Cynefin framework and all round [sense maker](https://cynefin.io/wiki/SenseMaker). All assembled were delighted to watch Dave draw out the thinking behind his [estuarine framework](https://thecynefin.co/estuarine-mapping/). Our brains may be slowing with age, but it's always so much better to see a thing being drawn than to see a drawing. That said, we did emerge wondering if our liminal line might be closer to the origin than would be considered ideal. Not to be bumptious, but we'd heartily encourage any of our workplace elders and betters tasked with designing "operating models" and whatnot to [click here](https://cynefin.io/wiki/Main_Page). Read, click and repeat. Bear in mind there are no prizes for finishing the internet.

## Native to a web of data - as we used to say

And finally, not news from us but rather from friend of the family [Andy](https://twitter.com/mr_dudders), over at [Full Fact](https://fullfact.org/). Given our reader's obvious interest in accurate information conveyed via well-modelled, well-managed data - why else would you be here? - we're working on the assumption that our dear reader will be as thrilled as we are by the recent minting of a [Full Fact Wikidata property](https://www.wikidata.org/wiki/Property:P11619). It means that anything in Wikidata with a corresponding record in Full Fact can now be linked in a way that's amenable to both people and machines. For reasons we won't go into, Parliament already has three Wikidata properties - [one for Members](https://www.wikidata.org/wiki/Property:P10428), [one for data platform mk 3](https://www.wikidata.org/wiki/Property:P6213) and [one for our own treasured thesaurus](https://www.wikidata.org/wiki/Property:P4527). Which - given the three things overlap - is probably two too many. But it does mean that our dear reader can polish their hacking skills and jump between parliamentary records and Full Fact records with something approaching ease. Applause Andy and fellow Fullfactarians.
