# 2023 - Week 46

## Librarians of the Week

Librarians of the Week being much like buses, you can wait a wee while, then they all turn up at once. Last time out Librarians [Anna](https://twitter.com/anna_buck), Emily and [Jianhan](https://twitter.com/jianhanzhu) were lucky enough to get their mitts on our much-prized trophy. This week, it's the turn of Librarians [Ayesha](https://twitter.com/askalibrarylady) and [Claire](https://twitter.com/tinysprite) to step up to the podium, Prosecco corks popping.

For the last few weeks they've had their heads buried in committee reports and [secondary legislation maps](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/), attempting to capture the assorted ways in which the [Joint Committee on Statutory Instruments](https://committees.parliament.uk/committee/148/statutory-instruments-joint-committee) might report on an instrument. Their fine, fine work is now complete, but may require some explanation. Read on, dear reader.

All statutory instruments laid before both Houses and subject to procedure are examined by the JCSI. Actually, that's not quite true but we're not about to [read the standing orders](https://www.parliament.uk/business/publications/house-of-lords-publications/rules-and-guides-for-business/the-standing-orders-of-the-house-of-lords-relating-to-public-business/#joint-committee-SIs) right now. Let's stick with most. The JCSI is not a policy committee. It does not scrutinise the impact of an instrument on wider society. That work happens elsewhere. Rather, the JCSI examines the legal aspects of the instrument and is empowered to report under eight criteria. Being a Joint Committee, these criteria are set out twice: once under [Standing Order 74 in the House of Lords public business](https://www.parliament.uk/business/publications/house-of-lords-publications/rules-and-guides-for-business/the-standing-orders-of-the-house-of-lords-relating-to-public-business/#joint-committee-SIs), once under [Standing Order 151 in the House of Commons public business](https://publications.parliament.uk/pa/cm201719/cmstords/1020/body.html#_idTextAnchor849). They range from defective drafting to the appearance of unusual or unexpected use of [delegated powers](https://ukparliament.github.io/ontologies/delegation/delegation-ontology#d4e296). Verging on the [ultra vires](https://www.lexisnexis.co.uk/legal/glossary/ultra-vires), as we say in these parts.

Instruments reported under one or more of the eight criteria are obviously of interest, both inside and outside Parliament. We'd long planned to capture such [procedural steps](https://ukparliament.github.io/ontologies/procedure/procedure-ontology#d4e175) as data, allowing our dear user to get real-time lists of instruments so reported. Indeed, the JCSI themselves asked for such a report, but, until recently, we haven't been able to do much about it. The procedural timelines on our [statutory instruments website](https://statutoryinstruments.parliament.uk/) can only get so busy, and JO Jane decreed that JCSI reporting criteria were a busy-ness step too far. Not being able to separate [actualised](https://ukparliament.github.io/ontologies/procedure/procedure-ontology#d4e300) steps that appear on the website from actualised steps that don't, our options were limited to zero.

All of this changed back in [week 38](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/38/#thrilling-news-for-fans-of-statutory-instruments), when we added [step collections](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#step-collections) to our [procedure model](https://ukparliament.github.io/ontologies/procedure/procedure-ontology), placing what appears on our website timelines - and what doesn't - firmly in the hands of our crack team of librarians. Since then, Ayesha and Claire have been slaving away updating our secondary legislation maps to reflect reporting criteria. Not only that - thimblettes ever at the ready - they've take a fine tooth-comb to JCSI reports since 2017. Day zero of our much-loved statutory instrument service. Particularly fine work Ayesha and Claire and particularly deserving of our much coveted Librarian of the Week award. Or LOTB as our acronym loving colleagues might say.

For reasons aforementioned, you won't find such steps on our website timelines. But, for those interested, Librarian Jayne has added a whole new set of queries to our much celebrated [SPARQL library](https://ukparliament.github.io/ontologies/procedure/meta/queries/) - [one query per reporting criteria](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/statutory-instruments/committees/#jcsi). I mean, would you expect anything less?

At this point, we know exactly what our dear reader is thinking. Ever the pedantic proceduralist, it's most certainly the question on their lips: what about instruments that are laid before the Commons only and get scrutinised instead by the [Select Committee on Statutory Instruments](https://committees.parliament.uk/committee/149/statutory-instruments-select-committee)? Fear not, dear reader, all that work is done too, as [Jayne's SCSI queries](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/statutory-instruments/committees/#jcsis) testify. As if we'd ever let you down.

## New, old search - frontend

We're delighted to report that data scientist Louie has completed the second - and possibly final - phase of the data analysis work. Which means our well-thumbed data dictionary now comes with occurrence counts for attributes across content types. Louie reports that [NumPy](https://en.wikipedia.org/wiki/NumPy) is really quite fast. So fast he sounds almost surprised.

Designer Graeme's continues to use the data dictionary to annotate our wireframes with which attributes to use in which slots, the combination of the annotated wireframes and the data dictionary informing the [fine, fine work](https://api.parliament.uk/search-prototype) of developer Jon. [Object page code](https://github.com/ukparliament/search-prototype) comes along in leaps and bounds and we're really starting to see the shape of the thing.

Still with Jon, he's also added [a dash of code](https://trello.com/c/CZGy43q1/88-display-of-member-author-names-first-name-last-name-or-last-name-first-name) to turn our person labels - think [Smith, Mark E.](https://en.wikipedia.org/wiki/Mark_E._Smith) - into something more legible. Edge cases of Archbishops, Bishops, Earls, Dukes and etcetera have been spotted and the [Parliamentary Thesaurus](https://explore.data.parliament.uk/?endpoint=terms) is undergoing a bit of a revamp in preparation. Stay tuned for the addition of [Cha-Cha, Marquis of](https://www.youtube.com/watch?v=15ltmgKcUu0&ab_channel=TheFall-Topic).

Not one to put his feet up, Jon has also chipped in with some unexpected discretionary labour, adding a rudimentary search box and search results to our prototype. A search prototype one can search? Whatever next?

In the background, boss brarian [Anya](https://bsky.app/profile/anyaso.bsky.social) spent a large part of her weekend donning her sorting hat and applying herself to [the problem of sorting](https://trello.com/c/1CvNowHV/81-review-secondary-attributes-on-first-pass-object-views). Particularly to the problem of sorting what have come to be known as the 'secondary attributes' on our object pages. [Michael](https://bsky.app/profile/fantasticlife.bsky.social) suspects his colleagues may have started to say 'secondary attributes' in some attempt to not say 'metadata' in front of him. A word that makes our mild-mannered computational "expert" extremely cross. Furious actually. We now have a final and definitive sort order for said attributes, which should hopefully make Jon's life much easier. Unfortunately, it's on Sharepoint, so cannot, by definition, be shared.

## New, old search - the computational backend

Over in backend world, our Jianhan reports yet more success. The work to redact personal information - for some very liberal definition of personal - from our upgraded version of Solr, has now [been completed](https://trello.com/c/Mj1Z8K6f/77-redact-attribute-data-from-solr-9). The pipes between our triplestore and new Solr have [also been fettled](https://trello.com/c/IfCndvnu/78-change-cloned-poller-code-to-no-longer-propagate-redacted-attributes) to filter out the flow of such attributes in the future. Because there's no point cleaning your bath, then filling it with dirty water.

Meanwhile, Young Robert has made a bit of a start on an [RSpec](https://rspec.info/) test suite to compare what comes out of our old Solr 3 with what comes out of our new Solr 9. Michael had half planned to lend a helping hand but came down with a bad case of toothache, forcing him back to his daybed. Stay tuned for more test-driven news.

## New, old search - the real backend

Many of our more computationally-minded colleagues use the backend word to describe the many and varied flavours of boxes the data gets stored in. But we librarians and our computationally-adjacent colleagues take a different view. The real backend being the information management and the policies that underpin it. After all, as the old saying goes, one does not simply hack the code, one fixes the data.

To this end, Librarian Claire has taken some unexpected outliers in the data dictionary, slipped into her best pinny and started a much-needed autumnal clean out. For reasons lost in the mists, our [observations on petitions](https://guidetoprocedure.parliament.uk/articles/cCt2UriN/response-to-paper-petitions) used the 'answering Member' field for the Minister providing the observation and the 'lead Member' field for the Member presenting the petition. All a little topsy-turvy. Henceforth, it has been decided to update both information management policy and data. The 'lead Member' field will now be used for the Minister providing the observation and the 'answering Member' field will not be used. For those interested in the Member presenting the petition, the petition itself and its presenting Member are but a [hypertext hop, skip and a jump away](https://api.parliament.uk/search-prototype/objects?object=http%3A%2F%2Fhansard.intranet.data.parliament.uk%2FCommons%2F2022-12-19%2F2212199000020#related-items). No librarian being an island - and with quite a fat chunk of data to tidy - Librarian Claire has identified where the issues lie, broken it all down by session and distributed the tidying work accordingly. Excellent stuff.

## How's poor Robert?

No better if we're perfectly honest. Still, TD MVP HLDs won't write themselves.

## People, places, parties

As we reported only last week, the [Library spreadsheets](https://github.com/ukparliament/psephology/tree/main/db/data/results) we're basing on our [elections website](https://api.parliament.uk/psephology) on are tip-top in isolation but somewhat inconsistent taken as a whole. The 2015 and 2017 offerings being markedly different to the ones published in 2019. We had written some code to cope with this, but - given we also wanted to amend the spreadsheets to add [MNIS](https://data.parliament.uk/membersdataplatform/) and Electoral Commission IDs - the decision was taken to bite the bullet and bring all spreadsheets into the same format. After all, when faced with inconsistent data, what does one do? We'll only give one clue here. ONE DOES NOT HACK THE CODE.

Last week, Librarians Anna and Emily scored a Librarian of the Week award for sterling efforts tidying and identifier-enriching the 2019 spreadsheets. This week, they've gone one step further and done the same job for the 2017 spreadsheets. Which means our election website is now running with both the [2017](https://api.parliament.uk/psephology/general-elections/2) and the [2019](https://api.parliament.uk/psephology/general-elections/3) general election results, and the whole thing is filling out quite nicely. Top work Librarian Anna. Top work Librarian Emily.

In another example of premier league librarianship, Librarian Ned has also backfilled more of our boundary set adjacent legislation data. Computational heavy-hitter Michael has taken that data and one of Ned's earlier efforts listing Parliament periods and re-run his [import script](https://github.com/ukparliament/psephology/blob/main/lib/tasks/setup.rake). He's also added a left join or two to [cope with the problem of Ireland](https://api.parliament.uk/psephology/countries). Which means our election website now comes with [a list of Parliament periods](https://api.parliament.uk/psephology/parliament-periods) and [a more expansive list of legislation](https://api.parliament.uk/psephology/legislation-items). All going to show that computational shenanigans are all quite simple provided you've assembled a crack team of crack librarians before you start. Maybe a lack of librarians is where most computational projects go wrong? In this Ted Talk etcetera.

In the only bit of additional code news, Michael spent another pleasant train journey - toothache aside - adding new data, new models and new views to [link from English constituency areas to their Library dashboard equivalents](https://api.parliament.uk/psephology/constituency-areas/8#constituency-statistics). Please believe him when he says he found the experience of "deep linking" to the [dentistry offering in his home constituency particularly troubling](https://commonslibrary.parliament.uk/dentists-dental-practices/?conSelect=%22Runnymede%20and%20Weybridge%22). That's another 800 quid up the wall, he sighed to himself. Unfortunately, such "deep linking" is only possible for the three new dashboards, written - or so your correspondents believe - in [Shiny](https://shiny.posit.co/). The older dashboards being [Power BI](https://en.wikipedia.org/wiki/Microsoft_Power_BI) powered and not equipped with the power of hypertext. And I think we all have opinions on that. C'mon man, it's 2023.

## I am a procedural cartographer - to [the tune of the Palace Brothers](https://www.youtube.com/watch?v=owvF3Vb0JhA&ab_channel=tomkat69pc)

The thing about [Librarian Jayne](https://bsky.app/profile/greytgordon.bsky.social) is she never knows when to stop. It's almost guaranteed that one can be finishing up weeknotes - or 'putting them to bed' as we say in these parts - and she'll bung another card in the Trello weeknotes column. Like playing Whac-A-Mole with a filing obsessive. Still, she has youth on her side. She'll be as tired as we are one day. Anyway ...

... [last time we reported in at C-Suite level](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/45/#i-am-a-procedural-cartographer---to-the-tune-of-the-palace-brothers) - hi, dear reader - Jayne had added a step to our [proposed negative statutory instrument procedure map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/proposed-negative-sis/proposed-negative-sis.pdf) to describe the publishing of further information by the [Secondary Legislation Scrutiny Committee](https://committees.parliament.uk/committee/255/secondary-legislation-scrutiny-committee). This week, she's been head down in our [Constitutional Reform and Governance Act treaty procedure map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/crag-treaties.pdf), adding 'treaty noted' steps for the [International Agreements Committee](https://committees.parliament.uk/committee/448/international-agreements-committee/).

By way of background, in the House of Lords, treaties subject to the CRaG procedure are considered by either the IAC *or* the [European Affairs Committee](https://committees.parliament.uk/committee/516/european-affairs-committee). Traditionally, upon conclusion of committee consideration, a report would be published. Back in October, the [Procedure and Privileges Committee](https://committees.parliament.uk/committee/191/procedure-and-privileges-committee) [confirmed](https://publications.parliament.uk/pa/ld5803/ldselect/ldproced/265/26504.htm) the [Liaison Committee](https://committees.parliament.uk/committee/187/liaison-committee-lords)'s proposal to [update the terms of reference of the IAC](https://publications.parliament.uk/pa/ld5803/ldselect/ldproced/265/26504.htm), allowing them to note their consideration in lieu of issuing a full report. A committee's way of saying, yup, we looked, but there was nowt much to write home about. If you will.

New step mapped and actualised, such an 'IAC noted' can be found on everybody's favourite treaty timeline - the [Protocol, done at Palma de Mallorca on 18 November 2019, to amend the International Convention for the Conservation of Atlantic Tunas](https://treaties.parliament.uk/treaty/LxfeCInx/CP-871). Should our dear reader prefer their information conveyed in the medium of queries rather than website pixels, Librarian Jayne has [added a new query](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/#lords-committees) to our ever-growing [SPARQL](https://en.wikipedia.org/wiki/SPARQL) library. Because of course she has.