# 2023 - Week 18

Too much work and some particularly severe hangovers - weekends only, never on a working day - once more lead to weeknotes taking on a more monthnotes cadence. Apologies as ever.

## Treaty tinkering

Our [Constitutional Reform and Governance Act 2010 treaty procedure map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/) has recently expanded to include steps taken in Parliament prior to the laying of a treaty under [Part 2 of CRaG](https://www.legislation.gov.uk/ukpga/2010/25/part/2). This in order to better to reflect procedural innovations such as statements announcing agreements in principle, statements on the progress of negotiations, statements upon signature and deposits in the Libraries of both Houses of the government's negotiating objectives. Unfortunately - although the maps and data were easy enough to change - the website code wasn't, relying as it does on the [actualisation](https://ukparliament.github.io/ontologies/procedure/procedure-ontology#d4e300) of a laying [step](https://ukparliament.github.io/ontologies/procedure/procedure-ontology#d4e175) and leading to 'laid dates' for as yet unlaid treaties popping out in pixels as 1/1/0001. Librarian Jayne and [computational whizkid Jianhan](https://twitter.com/jianhanzhu), pulled out their [SPARQL](https://en.wikipedia.org/wiki/SPARQL) spanners and amended queries appropriately. Those new queries have now been deployed by colleagues in Software Engineering and the wonky date issue on not yet laid treaties is now fixed. At least in staging.

Unfortunately, we're dealing with computers here. Which is a little like playing whack-a-mole armed only with a miniscule mallet. No sooner does one mole get whacked than another pops up, only to prove equally annoying. For reasons we do not yet pretend to understand, something in the list code appears to have caused panic in the SPARQL query which proceeded to time out. Or not time out, depending on the mood it was in. Investigations continue.

Several weeks after the fact, we continue to play catchup with changes to the machinery of government being reflected in Parliament's committee structures. In this case a new committee, in the shape of the [Business and Trade Committee](https://committees.parliament.uk/committee/365/business-energy-and-industrial-strategy-committee/). That work has been completed to include concerns raised by that committee in the "recommended not to ratify" website filter. Albeit hindered by the resulting list of treaties sometimes turning up. And sometimes not.

Additional work has also happened on the filter "motion to not ratify tabled", extending it to allow filtering for the tabling of motions of any kind. Which should prove useful. Should we ever get our list of treaties back.

Away from the code and back in the more manageable land of map-making, Librarian Jayne decided the addition of pre-laying business steps to the top bit of the [main treaty map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/crag-treaties.pdf) was making things a little busy to the point of illegibility. That problem is now solved, with all pre-laying scrutiny steps [decanted into their own component map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/components/pre-laying-scrutiny/pre-laying-scrutiny.pdf). Said map also includes logic which precludes steps that can only happen before a treaty is laid from happening post-laying. Much neater.

## Acts and an apostle

If you tuned in a wee while back, you'll know that Librarian Jayne was the [lucky recipient of one of our rare and much coveted Librarian of the Week Awards](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/06/#librarians-of-the-week). This time for her sterling efforts wrangling Act data. The original data was kindly donated by [The National Archives](https://www.nationalarchives.gov.uk/), covering all Acts of Parliament back to 1801. Sadly, it lacked both long titles and Royal Assent dates. For a country lacking any single source of a constitution, you'd think recording these things would be quite important. But apparently not. Following much fine librarianship and a lot of hard graft and research, both fields are now filled in, the much improved data winging its way back to Kew, to be incorporated into their corpus. And not just that. Jayne's fine work has also been dispatched to [Apostle Andrew](https://mastodon.flooey.org/@generalising) who's kindly taken on the mantle of spreading her words and deeds to the Wikidata community worldwide. Thanks as ever, Andrew.

Unfortunately we are, once again, dealing with computer things here. And, as we all know, computer things have a terrible tendency to go wrong. What was [supposed to happen](https://trello.com/c/aOAr4qia/90-import-new-act-data-from-jayne) was the new and improved Act data would be loaded into data platform mark 1, from where it would flow without further incident to data platform mark 3. What actually happened was the data was loaded into data platform mark 3 and data platform mark 1. It then proceeded to drip feed from data platform mark 1 to data platform mark 3, spraying duplicates hither and thither. Luckily, Librarian Andrew is not just a very fine apostle, but also a very fine librarian. He's kindly donated an additional dollop of discretionary labour and is currently helping Librarian Jayne to pick through the resulting mess. A plan to tidy begins to emerge. Thanks as ever Andrew. Why you don't come and work with us, we'll never know.

In slightly better news, our Jianhan has reconfigured data platform mark 1 to also [search over our shiny new long titles](https://trello.com/c/UlHiPrfK/306-make-act-longtitle-viewable-in-search). Which should improve things immeasurably. At least once we've managed to sweep all the duplicates under the carpet.

## Lords more spiritual

In our continuing quest to answer Tony Benn's [second question](https://pragdave.me/thoughts/active/2014-03-14-tony-benns-questions-for-those-in-power.html), Librarian Ned has expanded his horizons from [Lords Temporal](https://peerages.historyofparliamentonline.org/) to [Lords Spiritual](https://api.parliament.uk/lord-bishops). Building upon work done to reshape and publish the Beamish / Sainty data, Ned's now compiled a dataset describing [established churches](https://api.parliament.uk/lord-bishops/established-churches), [Lord Bishop dioceses](https://api.parliament.uk/lord-bishops/lord-bishop-dioceses) and the [incumbents of said dioceses](https://api.parliament.uk/lord-bishops/lord-bishop-diocese-incumbencies). [Young Robert](https://mastodon.me.uk/@robertbrook) and [Michael](https://mastodon.me.uk/@fantasticlife) wrapping his efforts in their usual [shonky Ruby code](https://github.com/ukparliament/lord-bishops). Unfortunately, despite every research effort being made, many of the dates - of [diocese name changes](https://api.parliament.uk/lord-bishops/lord-bishop-diocese-names), [births, deaths](https://api.parliament.uk/lord-bishops/people) and incumbencies are only approximate. So it's perfectly possible we've misattributed a title or two. We'd hoped to repeat our [egg timer](https://api.parliament.uk/egg-timer) success and wrap the data in code to calculate parliamentary seniority of diocese incumbents at any one point in time. Even building in a 'is advanced under the [Lords Spiritual (Women) Act 2015](https://www.legislation.gov.uk/ukpga/2015/18)' flag to help with said calculations. Unfortunately, without precise incumbency dates, that currently looks impossible. Work nevertheless continues.

## Electioneering

Back over in the elected House, we continue to make preparations for an upcoming general election. Much complicated by the expectation of a boundary change between now and then. We know there are [two fields in our constituency table](https://trello.com/c/LNiTCvJO/133-jh-semantics-of-previousconstituencyid-and-createdfromconstituencyid) that appear to be designed to decorate boundary changes. Unfortunately, the semantics of said fields are undocumented. At least to the best of our knowledge. 'Previous constituency ID' gives every impression of linking from a current constituency to its predecessor, but on the question of whether that's supposed to point to a preceding constituency with the same name and same geography, or a preceding constituency with the same name but a different geography, or a preceding constituency with a different name but the same geography, we remain clueless. Judging only by the name of the field, 'created from constituency ID' would appear to be intended to point from a current constituency to its geographic predecessors. Given it has never been populated and the implied semantics leading one to the natural conclusion of a many-to-many, we can't see how it would ever have worked. So we're choosing to ignore that one.

That said, we have [flagged](https://trello.com/c/XFkbq2x6/174-flagged-impact-of-new-constituencies-on-website-display) the impact on constituency pages of the expected boundary change to our colleagues in the Parliamentary Computational Section. The [Maidenhead constituency page](https://members.parliament.uk/constituency/3592/overview) being a great example of a current constituency that makes no mention of its preceding incarnation and no mention of [Theresa May being the Member for some shape of Maidenhead since 1997](https://en.wikipedia.org/wiki/Theresa_May#Election).

Still on the subject of boundary changes, we have the additional challenge of if and how we generate vote changes and party held / gain fields, given there will be no previous election to directly compare to. We have had confirmation that a crack team of academics will be compiling [notional results](https://en.wikipedia.org/wiki/Notional_election_results) for what might have happened if the 2019 general election had been run on the proposed new boundaries. And further confirmation that [the Library is not expecting those notional results to be loaded into MNIS](https://trello.com/c/Mv90Os0G/168-confirm-with-rc-that-hes-not-expecting-notional-results-in-mnis). Which comes as some relief. But if anyone's expecting vote change and gain / hold data to appear on the website, that's more side-loading work for data scientist Louie. Poor lad.

Elsewhere in election planning land, Librarians [Anna](https://twitter.com/anna_buck), Emily and [Phil](https://mastodon.social/@Mognar) have been pulling out all the stops tidying our political party data. Parties are now de-duplicated and aligned to [Democracy Club](https://democracyclub.org.uk/) by means of an Electoral Commission ID. In the course on that work, our crack team of librarians came across a number of parties that had been entered with a truncated name. Working with historic election data from Democracy Club, Wikipedia and the BBC, those [abbreviations have now been expanded](https://trello.com/c/XSdd01bx/169-expand-truncated-party-names-in-name-field).

Meanwhile, Librarian Emily has been turning brain cells to the matter of end reasons. There is a single table listing such things in [MNIS](http://data.parliament.uk/membersdataplatform/), used for both the leaving of Parliament and the leaving of a constituency representation. At some point in the last couple of weeks, Librarians [Anya](https://mastodon.me.uk/@anyaso), Emily, Anna and Phil were joined in pixels by Parliament and Constitution experts [Richard](https://twitter.com/Richard24235966) and Neil. The list of end reasons was drawn out and [a new sketch made](https://github.com/ukparliament/ontologies/blob/master/house-membership/end-reasons/end-reasons.svg), all present coming to the conclusion that many of our 'end reasons' were not in fact end reasons. One example being 'standing down' which is a thing we want to capture but not actually the reason anyone leaves the Commons. That being largely dissolution. We now have a much smaller list to work with and a much better idea of what we need to tidy.

## Dead simple syndication

Hot on the heels of their unexpected breakthrough [Bill Papers EP](https://api.parliament.uk/bill-papers), Young Robert and Michael are delighted to announce they've been signed to a major label and released their first long player: the [Committee Papers LP](https://api.parliament.uk/committees). Both services were commissioned by Librarian Anya to plug gaps where systems that were supposed to come fully equipped with feeds ran out of time, money and patience before any feeds were provided. Which means our crack team of librarians must rely on frequent checks of [Votes and Proceedings](https://commonsbusiness.parliament.uk/search?SearchTerm=Votes+and+Proceedings) and repeat visits to the website to check if anything has been published. At least for the House of Commons. For the House of Lords, they had even less to go on.

Now they have [RSS](https://en.wikipedia.org/wiki/RSS) and [ICS](https://en.wikipedia.org/wiki/ICalendar) feeds, we hope their work will become easier. Working on the usual basis that making something useful to one set of people will probably mean it's of use to some other set of people, if you're following progress on a [particular bill](https://api.parliament.uk/bill-papers/bills/3429) or the [oral evidence given to a particular committee](https://api.parliament.uk/committees/committees/93/oral-evidence-transcripts), you can also now plug the RSS into your favourite email client and the ICS into your favourite calendar app and keep track of both published documents and [upcoming events](https://api.parliament.uk/committees/committees/93/events/upcoming). You could - should you wish - also subscribe to feeds of [all oral evidence](https://api.parliament.uk/committees/oral-evidence-transcripts), [all committee events](https://api.parliament.uk/committees/events/upcoming) and [all bill papers of a given type](https://api.parliament.uk/bill-papers/publication-types/34). Though - unless you're a duty librarian - we wouldn't necessarily recommend this. If there are people in Parliament - or indeed elsewhere - with a need for feeds by some other cut of the data, please do get in touch and we'll do our best.

Meanwhile, team:[Claire](https://twitter.com/tinysprite) have been looking to backfill House of Lords' oral evidence sessions, a good number of which had been missing from our search service for want of a simple feed. Librarian Emma has already [populated all Lords' oral evidence sessions from 2022 and 2023](https://trello.com/c/3O75bev8/561-lords-select-committee-oral-evidence) and continues to work backwards. Top work Librarian Emma.

## On matters onotological

Over in more [ontological lands](https://ukparliament.github.io/ontologies/), we're pleased to announce two more models have been shunted onto our done pile. Librarians Anya, Jayne and Claire, together with the computational cabin lads Young Robert and Michael have finishing commenting both the [depositing](https://ukparliament.github.io/ontologies/depositing/depositing-ontology) and the [delegation](https://ukparliament.github.io/ontologies/delegation/delegation-ontology) model. The latter emerging when our legislation model got a little too large and we decided to split it into an enabling / enabled model and a complementary, [FRBR](https://en.wikipedia.org/wiki/Functional_Requirements_for_Bibliographic_Records)-informed [delegated legislation model](https://ukparliament.github.io/ontologies/delegated-legislation/delegated-legislation-ontology).

On the subject of FRBR, Jayne, Young Robert and Michael also met with usual clerkly suspects [Matt](https://twitter.com/MattKorris) and Mike to chat about swapping out the word 'expression' in favour of the word 'copy'. A conversation we will not trouble you with here. It's rare we have a whole meeting dedicated to a single word and we do feel we may have may have excelled ourselves. Apologies Matt. Apologies Mike. Useful as ever though.

Given we now have a fair number of models and given we hope to use those models in data platform mark 4 in the not too distant future, boss computational expert Ian suggested Michael might want to stretch their legs a little. To that end, Michael has once more partnered up with Librarians Jayne and Ned to write up some example data for a bill. Librarian Ned took to Workbench and [churned out some triples for an example bill](https://github.com/ukparliament/ontologies/blob/master/meta/example-rdf/instance-data/bills/as-is/bill-54945.csv), unfortunately in the medium of a csv. That apparently being a known limitation of our version of Workbench. Since then, Jayne and Michael have [taken those triples and mapped them to our new models](https://github.com/ukparliament/ontologies/blob/master/meta/example-rdf/instance-data/bills/to-be/bill-54945.ttl). Or at least all the bits they could manage. They even [made a picture](https://raw.githubusercontent.com/ukparliament/ontologies/master/meta/example-rdf/instance-data/bills/to-be/sketch.svg). There remain [bits of data describing librarian workflow](https://github.com/ukparliament/ontologies/blob/master/meta/example-rdf/instance-data/bills/to-be/idms-workflow.txt) that we have - as yet - not remodelled. And an odd collection of [bNodes](https://en.wikipedia.org/wiki/Blank_node) and a self-referential skos:prefLabel that even our crack team [found baffling](https://github.com/ukparliament/ontologies/blob/master/meta/example-rdf/instance-data/bills/to-be/unknowns.txt). More work probably needed.

## Daytrippers

Thursday last saw a mass outing as Librarians Anya, Jayne and Phil, boss-boss 'brarian [Bryn](https://twitter.com/brynmrgn), data scientist Louie and computational back-markers Young Robert and Michael headed over to sunny Vauxhall. There to be hosted by [Full Fact Andy 1](https://twitter.com/mr_dudders), [Full Fact Andy 2](https://twitter.com/andylolz) and [Full Fact Will](https://twitter.com/puzzlesthewill). Thanks lads.

They were joined in Vauxhall by friends of the family [Silver](https://twitter.com/silveroliver) and Wikidata Apostle Andrew; the BBC's Jeremy, Tom and Duncan; [Googler Dan](https://mastodon.social/@danbri); and the Department of Levelling Up's very own [Paul](https://mastodon.social/@psd). The question before the House being, 'Wikidata: should we map everything we know?' And a very lovely conversation it was too. Sometime around 4pm, the question was put and the House [resolved in favour without division](https://twitter.com/mr_dudders/status/1654185359465500680/likes). And promptly headed off to the pub. Again.

Another meeting is half planned for a couple of month's time, this one with the House of Commons Library hosting. Having established that establishing conceptual equivalence to Wikidata leads to good things, we'd like to move the conversation on to what - if anything - could be built at the intersection of our interests and our data. If you're in the public sector and like to work with Wikidata, maybe say hello and we'll see if we can expand the invite list a little.


