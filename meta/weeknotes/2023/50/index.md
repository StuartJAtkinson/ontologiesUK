# 2023 - Week 50

Here we go then. One last [push](https://www.youtube.com/watch?v=D1RDbp6sa3A&ab_channel=TheSmiths) as we dot the Ts, cross the Is and pop a decorative bow on the year. And what a year it has been. By [our count](https://superuser.com/questions/353078/how-do-i-count-the-total-number-of-words-of-all-files-in-a-directory-and-its-su), we've managed to churn out [49,777 words on the subjects of parliamentary procedure and computers](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/). Which is quite some word count. It's not like this is easy material to work with. We can only apologise to our dear reader and hope they have not felt themselves forced to read all those words. We certainly haven't.

With apologies out of the way, we move on to what's happened over the last fortnight. This before we fill the hot water bottle, draw the curtains and tuck 2023 up in bed. See you on the other side, guys.

## New, old search

It will not have escaped our dear reader's notice that 2023 has been largely dedicated to updating and upgrading [our antiquated search system](https://search-material.parliament.uk/). All in the hope it might some day match some definition of modernity. [Our Jianhan](https://twitter.com/jianhanzhu) has been particularly busy, upgrading [Solr](https://en.wikipedia.org/wiki/Apache_Solr), cloning Poller and writing new redaction code. He's also popped the old code atop the new instance of Solr resulting in performance improvements that have left our crack team of librarians quite agog. This week, he picked up yet another loose-end, when boss brarian [Anya](https://bsky.app/profile/anyaso.bsky.social) spotted that the barebones [CMS](https://en.wikipedia.org/wiki/Content_management_system) that accompanies our search service had not been ported to the new old code. Whilst 'CMS' might be overstating things here, it does allow our crack team of librarians to control some of the text appearing on the home page, about page and help pages and it was felt we could not go live without it. That problem is now largely fixed, our Jianhan learning a great deal about Azure authentication on route. Top work, as ever, Jianhan.

Over in [frontend world](https://api.parliament.uk/search-prototype), developer Jon is also making [magnificent progress](https://trello.com/b/hP5FLFHA/search-mvp-front-end). Cards representing whole content sets have found their way as far as the review column; reviews we hope to undertake when our attentions fully return in the new year. Which usually means February. 

With a helping hand from Jianhan, Jon has finally [solved our BST-based problems](https://trello.com/c/TqxSpL0j/138-bst-dates-causing-problems). The problems arose because - though we only ever really deal in dates - for some reason, many of our dates are stored as datetimes. Many of those datetimes displaying a strange and unhelpful affinity for 11pm. By talking calmly, clearly and with a great deal of patience, Jon has managed to explain to the machines that they are in fact based in London. And should therefore be familiar with our strange relationship with time. We doubt the machines are based in London, but - should you bump into one over the Christmas period - please don't let this slip.

Jon has also [solved our pluralisation problem](https://trello.com/c/vQTyoZa4/85-plural-labels-ses-labels-in-primary-sentence-text-secondary-section-header-and-external-link-label). It's not usually a problem one encounters in [Rails](https://en.wikipedia.org/wiki/Ruby_on_Rails), that language's understanding of [pluralisation](https://apidock.com/rails/String/pluralize) and [singularisation](https://apidock.com/rails/v5.2.3/String/singularize) being really rather good. Even if it does spell them wrong. But if there's one thing Parliament is good at, it's unexpected pluralisations. Orders in Council, points of order and observations on petitions not being plurals taught in primary schools. We thank Jon for fixing.

## In the midst of life, we're in technical debt, [etcetera](https://www.youtube.com/watch?v=C6TbGPvqKM8&ab_channel=TheSmiths-Topic)

Most of the core backend search work now being done, Jianhan's attentions have turned toward our [taxonomy](https://explore.data.parliament.uk/?endpoint=terms) management software, improving what can be improved and not getting dragged down into dreams of [idealised end states](https://thecynefin.co/start-a-journey-with-a-sense-of-direction/). We are pleased to report that we now have an install of the latest version running and populated. Not only this, we also have two instances of the accompanying API, one reflecting everything in the taxonomy, one a [redacted version](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/48/#in-the-midst-of-life-were-in-technical-debt-etcetera). Keys to the redacted API have been sent to family friend [Silver](https://twitter.com/silveroliver), in the hope that he and his [Data Language](https://datalanguage.com/) colleagues can crack on with our subject specialists work as soon as Baileys and mince pies are fully digested.

Testing of the new taxonomy management software is also coming on apace. A week last Wednesday, Librarian Susannah convened a meeting of our crack team of librarians to sketch out a testing plan. Our Jianhan once more stepped into the breach, enabling concurrent users - and therefore concurrent testers - in the new system. The benefits started to prove themselves the very next day, when a Lords' Library researcher got in touch, quite baffled by the results returned in a search for “British Museum”. Said search resulted in a great many results, the presence of many of which proved unfathomable to the poor lad. It turned out the British Museum had a synonym of BM, which might seem fair enough. But BM was being rolled into the wider query, which was less than helpful. The BM synonym has now been expunged from the taxonomy, leading to much cleaner and more pertinent search results.

Our crack librarians have known for some time that there's a number of such acronyms knocking about, none of which are really in general usage and none of which help much with the problem of retrieval. Whilst these have always been fixed on find, the problem has been finding them all. A problem that no longer exists, given our new taxonomy software comes complete with querying functionality. Armed only with his trusty [SPARQL](https://en.wikipedia.org/wiki/SPARQL) spanner, Librarian Ned fashioned a new query returning all two character synonyms and found 77 of the blighters lurking. All of which have now been cleansed.

## How's poor Robert?

Both PM Lydia and Young Robert - or YB as he likes to be known these days - returned from their encounter with the TWG shellshocked, shaking off shrapnel, but largely ungrazed. We're reliably informed that their TD search MVP HLD also escaped ungrazed. Quite the feat. TWG polished off, the next step is over to the TDA. Which appears to be largely the same set of people wearing different costumes. So we're not expecting too many unpleasant surprises. If our two heroes can make it through this, they can make it through anything.

## I am a procedural cartographer - to [the tune of the Palace Brothers](https://www.youtube.com/watch?v=owvF3Vb0JhA&ab_channel=tomkat69pc)

With treaties very much in the news, it would be remiss of us to not climb aboard the bandwagon. To that end, [Librarian Jayne](https://bsky.app/profile/greytgordon.bsky.social) has been mainly concentrated on matters concerning [CRaG](https://www.legislation.gov.uk/ukpga/2010/25/contents).

Going about his daily business, perusing [Votes and Proceedings](https://www.parliament.uk/site-information/glossary/votes-and-proceedings/), Librarian Martin chanced upon a number of interesting new things. For some definition of interesting.

First off, there was correspondence about treaties from the [Public Accounts Committee](https://committees.parliament.uk/committee/127/public-accounts-committee), the [Home Affairs Committee](https://committees.parliament.uk/committee/83/home-affairs-committee/) and the [Women and Equalities Committee](https://committees.parliament.uk/committee/328/women-and-equalities-committee/), the first two of of which can [now be found on the timeline for our treaty of the week](https://treaties.parliament.uk/treaty/ha11sGIk/CP-994). Or the 'Agreement, done at Kigali on 5 December 2023, between the Government of the United Kingdom of Great Britain and Northern Ireland and the Government of the Republic of Rwanda for the Provision of an Asylum Partnership Agreement to Strengthen Shared International Commitments on the Protection of Refugees and Migrants', as we like to call it. Correspondence from the Women and Equalities Committee finding its way to the [timeline page for the UK-Gulf Cooperation Council Free Trade Agreement](https://treaties.parliament.uk/treaty/ha11sGIk/CP-994).xw

Martin also spotted that the Public Accounts Committee had not only [opened an inquiry](https://committees.parliament.uk/work/8093/ukrwanda-migration-and-economic-development-partnership/), but also [taken oral evidence](https://committees.parliament.uk/event/19466/formal-meeting-oral-evidence-session/) on the subject of refugees and Rwanda. These new steps have now been added to our [CRaG treaty map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/crag-treaties.pdf) and the Rwanda treaty timeline grows by the day. All of this means we now have two CRaG-related Commons committee maps: one covering the [Public Accounts Committee](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/components/pac/pac.pdf), one covering [everything else](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/components/other-commons-committees/other-commons-committees.pdf). The latter is minimal for now, but we fully expect to see it expand over time. Never one to down tools before the job is fully done, Librarian Jayne has also expanded our [deservedly-famed SPARQL query library](https://ukparliament.github.io/ontologies/procedure/meta/queries/) covering both [Commons committee consideration](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/#commons-committees) and [correspondence published by committees](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/#correspondence-published-by-committees). Would you expect less?

Still on Votes and Proceedings duties and still on the matter of the Rwanda treaty, Martin also spotted what was - at least to us - the first ever [private notice question on the subject of a treaty](https://lordsbusiness.parliament.uk/ItemOfBusiness?itemOfBusinessId=134807&sectionId=40&businessPaperDate=2023-12-08#). Again the step has been added to our CRaG treaty map and can be found on the ever-expanding timeline page for the Rwanda treaty. Again, Librarian Jayne has [cobbled together a query](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/#private-notice-question-pnq-on-a-treaty). Top work Librarian Martin. Top work Librarian Jayne.

Finally on matters pertaining to Martin, he also spotted an oversight in our [pre-laying scrutiny map](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/components/pre-laying-scrutiny/pre-laying-scrutiny.pdf). Back in April 2023, we saw a machinery of government change with the [Department for International Trade](https://www.gov.uk/government/organisations/department-for-international-trade) morphing into the [Department for Business and Trade](https://www.gov.uk/government/organisations/department-for-business-and-trade). Had we been on the ball, we would have created a number of new steps to cover the [Trade and Agriculture Commission](https://www.gov.uk/government/organisations/trade-and-agriculture-commission) laying - and possibly withdrawing - advice to the Secretary of State for Business and Trade. Unfortunately, we were not on the ball. Indeed it took us a fair few months to catch up with the ball. But, thanks to Martin, catch up we finally did, and that snafu is now fixed. The [timeline page for the 'Protocol on the Accession of the United Kingdom of Great Britain and Northern Ireland to the Comprehensive and Progressive Agreement for Trans-Pacific Partnership'](https://treaties.parliament.uk/treaty/ooz6XKMs/Protocol-on-the-Accession-of-the-United-Kingdom-of-Great-Britain-and-Northern-Ireland-to-the-Comprehensive-and-Progressive-Agreement-for-TransPacific-Partnership) providing all the proof you'll ever need. And, yes, it would be nice if one could link to a fragment of such a page but, unfortunately, the website in general and fragment identifiers in particular are outside the control of your regular correspondents. If HTML is too much bother - and we find it often is - once again, there is [a SPARQL query at your disposal](https://ukparliament.github.io/ontologies/procedure/meta/queries/instrument-types/treaties/pre-laying-scrutiny/#trade-and-agriculture-commission-advice-to-the-secretary-of-state-for-international-trade).

## People, places, parties

A pleasing degree of progress has been made over in [psephologyland](https://api.parliament.uk/psephology). Not least of which, [statistician Carl](https://bsky.app/profile/carlbaker.bsky.social) has now published our much improved spreadsheets for the [2015](https://commonslibrary.parliament.uk/research-briefings/cbp-7186/), [2017](https://commonslibrary.parliament.uk/research-briefings/cbp-7979/) and [2019](https://commonslibrary.parliament.uk/research-briefings/cbp-8749/) general elections, as supporting documents to the Commons Library briefings covering said elections. Spreadsheets so lovingly polished by Librarians Emily and [Anna](https://twitter.com/anna_buck) and spreadsheets that now come complete with consistent column definitions, [MNIS](https://data.parliament.uk/membersdataplatform/) identifiers for Members and [Electoral Commission identifiers](https://search.electoralcommission.org.uk/Search/Registrations?currentPage=0&rows=10&sort=RegulatedEntityName&order=asc&et=pp&et=ppm&et=tp&et=perpar&et=rd&register=gb&register=ni&register=none&regStatus=registered&optCols=EntityStatusName&optCols=ReferendumName&optCols=DesignationStatusName&optCols=CompanyRegistrationNumber&optCols=FieldingCandidatesInEngland&optCols=FieldingCandidatesInScotland&optCols=FieldingCandidatesInWales&optCols=FieldingCandidatesMinorParty&optCols=ReferendumOutcome&optCols=IsLowerTier) for political parties. A virtuous circle indeed. Please do remember, dear reader, everything published by the House of Commons Library is made available under an [Open Parliament Licence](https://www.parliament.uk/site-information/copyright-parliament/open-parliament-licence/), so you are free to take those spreadsheets and make your own psephology website, a nod of acknowledgment the only thing expected in return. Should you be short of a Christmas project, we can heartily recommend it. It's all quite fun.

In the course of polishing the spreadsheets, Librarian Emily came across a number of records covering elections contested unsuccessfully by people who did eventually find success and become Members of Parliament. Because MNIS attempts to record not only successful election attempts by our Members, but also any unsuccessful attempts, and because those unsuccessful attempts are often difficult to track down, Emily found that a number of these records were missing from MNIS. Those missing records have now been backfilled and another virtuous circle squared. Top librarianship Emily.

Emily has also been looking into how we manage political party names in our beloved thesaurus, that policy now being brought into line with how we manage party names in MNIS. Which, again thanks to the diligent efforts of Librarians Anna and Emily, is also in line with how the Electoral Commission capture party names. Which in turn is in line with their [Democracy Club](https://democracyclub.org.uk/) equivalents. Proof, as if proof were needed, that quality librarianship is always [greater than the sum of its parts](http://www.plasticbag.org/files/greater/).

If you tuned in [last time out](https://ukparliament.github.io/ontologies/meta/weeknotes/2023/48/#people-places-parties), you'll know that statistician Carl had combined maps, code and maths to calculate overlaps between current constituency areas and [proposed constituency areas](https://commonslibrary.parliament.uk/boundary-review-2023-which-seats-will-change/). The data generated covering geographic area overlaps, residential property overlaps and population overlaps. We're not quite sure how he managed to do this but it's pretty impressive stuff, plugging a huge semantic hole in our election-related offerings. Whilst not being quite so impressive, [Michael](https://bsky.app/profile/fantasticlife.bsky.social) has now imported Carl's data and [splashed it over our constituency area HTML](https://constituency-genealogy-3ba44d94c29a.herokuapp.com/psephology/constituency-areas/1137#constituency-area-formation). If you click the 'constituency overlap details' link down the bottom, you'll see [Carl's workings for that constituency area](https://constituency-genealogy-3ba44d94c29a.herokuapp.com/psephology/constituency-areas/1137/overlaps). And if you click the 'overlap details for all constituencies' link down the bottom of that page, you'll find [all Carl's workings](https://constituency-genealogy-3ba44d94c29a.herokuapp.com/psephology/constituency-area-overlaps). Wow. Impressive math.

Part of the aim of the psephology exercise being the kicking of tyres of our election-related models, Librarian Ned and his computational helpmates, Young Robert and Michael, have once again thrown themselves in the direction of [matters ontological](https://ukparliament.github.io/ontologies/). There is now a new - and hopefully improved [geographic area model](https://ukparliament.github.io/ontologies/geographic-area/geographic-area-ontology) and a nascent [geographic area overlap model](https://ukparliament.github.io/ontologies/geographic-area-overlap/geographic-area-overlap-ontology), the latter to capture some of the results of Carl's sums. A new and improved [election model](https://ukparliament.github.io/ontologies/election/election-ontology) should join the pile in the new year.

In terms of pixels, both [Member](https://api.parliament.uk/psephology/members/4615/elections) and [party](https://api.parliament.uk/psephology/political-parties/1) pages have been tinkered with and hopefully improved, our [general election party performance tables](https://api.parliament.uk/psephology/general-elections/3/political-parties/3/elections) now include vote shares, and anything that can have  previous / next navigation, now has previous next navigation. The latter at the request of boss-boss-brarian Bryn and including [Parliament periods](https://api.parliament.uk/psephology/parliament-periods/57), [general elections](https://api.parliament.uk/psephology/general-elections/2), [boundary sets](https://api.parliament.uk/psephology/boundary-sets/2) and [elections in a constituency area in a boundary set](https://api.parliament.uk/psephology/elections/1129). Splendid stuff.

## Bots to blue skies

Thanks to the kindness of strangers and much pixel-punching by Librarian Anna, we're delighted to say our Bluesky written answer bot accounts have this week been joined by:

* [Church Commissioners](https://bsky.app/profile/cc-answers.bsky.social)

* [Department for Science, Innovation and Technology](https://bsky.app/profile/dsit-answers.bsky.social)

* [Government Equalities Office](https://bsky.app/profile/geo-answers.bsky.social)

* [HM Treasury](https://bsky.app/profile/hmt-answers.bsky.social)

* [House of Commons Commission](https://bsky.app/profile/hcc-answers.bsky.social)

* [Leader of the House of Commons](https://bsky.app/profile/lh-answers.bsky.social)

* [Leader of the House of Lords](https://bsky.app/profile/lhl-answers.bsky.social)

* [Members Estimate Committee](https://bsky.app/profile/mec-answers.bsky.social)

* [Prime Minister's Office](https://bsky.app/profile/opm-answers.bsky.social)

* [Restoration and Renewal Client Body](https://bsky.app/profile/randr-answers.bsky.social)

* [Senior Deputy Speaker](https://bsky.app/profile/sds-answers.bsky.social)

* [Speaker's Committee for Independent Parliamentary Standards Authority](https://bsky.app/profile/scipsa-answers.bsky.social)

With 12 new bots aboard, we are - we believe - finally answering body complete across both Mastodon and Bluesky. Twitter being a rather more difficult beast to deal with. At least under its current ownership. If you're registered on Bluesky or Mastodon, and would like to keep an eye on Parliament keeping an eye on government, the [full list of our beloved bots can be found here](https://ukparliament.github.io/ontologies/meta/bots/).

## Regretfully they tell us, but firmly they compel us ...

... to say goodbye to you.

So long, farewell, Auf Wiedersehen, good night.

Until next year, dear reader, when we hope to wave again.