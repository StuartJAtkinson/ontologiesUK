# 2022 - Week 30

## Apologies

We begin, once again, with apologies. We are well aware that our regular reader starts to worry when we go missing for a week. Four weeks is altogether too long. Unfortunately, a brief warm spell and vacation season got in our way a little. Please rest assured, our combined noses are once more pressed to the proverbial grindstone and we are - as a great man once said - fit and working again. Well, Michael's scuba-diving trips to St Lucia won't pay for themselves.

## All the right steps, not necessarily in the right order

![Eric Morecambe](/eric-morecambe.gif)

Our regular reader - well, JO Jane at least, it's not like anyone else is paying attention - will be well aware of the issues we've had with step ordering on both the statutory instrument and treaty tracking websites. Whilst Parliament may be very good at reporting what happened on a day, what time those things happened at could not be considered a core strength. Both SI and treaty procedure regularly see a number of procedural steps happening on the same day. But with no timing information available, the website code has no clue what order they happened in and no clue how to order them for display. With nothing to go on and no clues given, our timeline pages have been - to be quite frank - risible, steps being ordered at random in a fashion that matches neither procedural nor common sense. The example below - from the [Abortion (Northern Ireland) Regulations 2022](https://statutoryinstruments.parliament.uk/instrument/Mips7NQF/) - has the instrument being approved by the House of Lords, before the question on the approval motion is put, before the non-fatal amendment to the motion is rejected, before the question on the non-fatal amendment is put, before there's even been a debate. Which is pretty much as topsy turvy as you could get.

![A wonky timeline as described above](/wonky.png)

In the past we'd tried to fix this problem by taking a mathematical approach and spanning the procedure map tree. But a graph is not a tree, so that didn't work. In recent weeks, we changed tack, stopped treating the problem as some sums and started to treat it as yet more information management. Librarian Jayne and her computational hand maidens, Young Robert and Michael, added a new concept of step depth to our procedure model and procedure editor schema. Our Jianhan added new functionality to the procedure editor application, database and triple store. Jayne added step depths to both maps and data. Jianhan chipped back in with a new SPARQL query to order timelines through a combination of dates and step depths. Colleagues in Software Engineering deployed Jianhan's new query to their Q/A environment. And - following a wee bit of [additional tinkering](https://trello.com/c/NxYe57Nb/113-error-in-orchestrations) - testing revealed the new model, data and query worked. Perfectly. Quite a first for us.

Since then, Jianhan has done all the same work in live, Librarian Jayne has added step depths to the rest of our procedures and Software Engineering have deployed the new query to live. Which means the timeline for the instrument mentioned above now has a debate taking place before the question on the non-fatal amendment has been put, before the non-fatal amendment to the motion is rejected, before the question on the approval motion is put, before the approval motion is approved.

![A non-wonky timeline as described above](/not-wonky.png)

Much less ridiculous, as we're sure you'll agree. And yet more proof - as if proof were needed - that putting domain knowledge, modelling, mapping and information management in the same place is the only reasonable approach to making things with computers. It is at this point that we smile sweetly at JO Jane and suggest a pint. Perhaps.

## On matters of mapping

Map making met something of a impasse when Librarian Jayne and her computational helpmate Michael found themselves mightily confused about when motions might be tabled in the legislative reform order procedure. And, more importantly, when they might not. For once, neither legislation nor standing orders offered much in the way of help. And because this is not a procedure that gets called upon too often - for now, at least - precedence wasn't much of a help either. Our regular reader may well recall us dispatching an email in the general direction of House of Commons' Mike and House of Lords' Matt. We had hoped - our primitive monkey brains craving symmetry - that, for once, the red carpet contingent and the green carpet contingent might agree. Sadly, that was not to be the case.

Commons Mike got back to say he'd be minded to hold off on the tabling of any motions until the procedure determination phase was complete. Not that we would ever distrust Mike but Anya and Michael caught the eye of Mr Evans over a pint in the Strangers' Bar and decided second opinions are never wasted. Luckily Paul concurred leaving Anya, Michael and we assume Mike rather pleased. It would be tricky to come to a different procedural conclusion to Paul and then attempt to defend it.

First hurdle cleared, we were delighted to hear back from Lords Matt. At least until we opened the email. Unfortunately, at least for the sake of our sanity and our eyesight, the red carpet folks came to a quite different position, suggesting they would accept the tabling of motions particular to the procedure recommended by the Minister from the point of laying. And well before the point of procedure determination. This position also being backed by JO Jane. Reader, we cannot deny we sighed a little.

All of which leaves our LRO map making smashed into matchstick-sized pieces that we're currently trying to reassemble into something suggestive of sanity. The Lords' motion to take note has been stripped from the negative side of the procedure and added to the Lords' half of the main map. The tabling of five more types of motion - fatal and non-fatals in the negative procedure and the approval motion and its fatal and non-fatal amendments - will all need to be added to the main map. Meaning our core procedure map - which had been fair of face in its symmetry - starts to look somewhat deformed. Like the Lords' half has developed a boil perhaps.

Still we plough on. And now with renewed vigour. It has been suggested that the LRO procedure might well be called into use in the Government's quest to repeal legislation retained from our European Union days. So getting the procedure mapped and instruments subject to the procedure onto the statutory instruments website takes on a new urgency. Stay tuned as we keep on keeping on.

Not all LRO news was bad news. Jayne and Michael were delighted to be joined by Philipp who very kindly signed off their map of committee consideration in the Lords. Another ticket moving to the done pile. Not much but not nothing.

Limited LRO progress aside, elsewhere a couple of dawning realisations have dawned, as dawning realisations often do. The definition of done being something of a moving target. Especially in this place. Rather late in the day, we realised we'd tied the hands of our draft negative procedure rather too tightly, both map and data stating the withdrawal of such an instrument would result in an inability to put the question on a non-fatal motion. As any fule kno, there is no preclusion from withdrawal to questions on a non-fatal. So [that knot had now been loosened](https://trello.com/c/efJLVrLA/319-negative-instrument-question-can-be-put-on-a-non-fatal-regardless-of-withdrawal-need-to-remove-routes).

Still in the negative procedures and still on the question of knots, we also realised that we'd not tied a couple of them quite tightly enough, both our draft and made negative maps allowing for the tabling of fatal motions even after one - or other - House had approved a fatal. That is also now [fixed](https://trello.com/c/mSWWifAE/316-negative-conditions-for-fatal-motions-do-we-need-to-make-tabling-conditional-on-an-instrument-not-being-dead-via-fatal-motion).

Over in treaty land, ongoing scrutiny of the Australia free trade agreement led to more stitches being dropped and more patchwork patched. The Joint Committee on Human Rights gained [an additional step in the form of a government response](https://trello.com/c/r8T3doL3/513-treaties-jchr-add-govt-response-step). Why that wasn't already there we have no idea. Adding complications, the International Trade Committee only went and reported twice. So new steps have been added to describe their [preliminary report and associated outcomes](https://trello.com/c/QiHVuf44/510-itc-treaties-itc-has-considered-a-treaty-twice-need-to-remove-the-self-preclusion-of-reporting). And finally, [routes to the Secondary Legislation Scrutiny Committee steps have been added](https://trello.com/c/ThVWZGT2/514-treaties-lords-committees-add-slsc-steps-routes-to-data). Routes that were always present in the maps but that Jayne and Michael plain forgot to add the data. Oops.

Absolutely finally, Ellie and Lucinda got in touch requesting a new step to cover occasions on which the JCHR might wish to recommend the Government reconsider the drafting of a proposed draft remedial order. An [eventuality that occurred](https://publications.parliament.uk/pa/jt5803/jtselect/jtrights/280/summary.html) in their scrutiny of the draft State Immunity Act 1978 (Remedial) Order 2022. That step is now both added and actualised.

## On matters of modelling

It's not every week we have a new model to announce. Luckily you tuned in on the just the right week. Our curtain rises with our brand new parliamentary paper model standing shyly in the spotlight. It's based on the bottom half of the relational laid papers schema that librarians Anya, Jayne and Ned and computational "experts" Robert and Michael have been cobbling together with much needed help from librarian Corie, House of Lords Kath, House of Commons Robi and TNA's very own Helen. We'd like to thank them all very much. What's there in the model probably doesn't make complete sense without some semblance of how the papers got there. Next week we hope to have a rejigged making available model and - once that's done - a revised laying model to glue the two halves together. Stay tuned.

Elsewhere in whiteboard land, our parliamentary time period model has gone through yet another respray. For what must be the thousandth time. This time we think we're finally happy. Though we have said that before. The latest version moves recesses out from being a time period belonging directly to a session and instead makes a recess merely a grouping of adjournment days. Adjournment days themselves belonging directly to a session. All of which means we can now populate the whole of the model - recesses aside - from data already collected for egg timing purposes. Lovely. It's possible - we suspect - that we can get away with never having to model the concept of a recess. But that rather depends on whether there's a ruleset we can apply defining how a given pattern of adjournment days constitutes a recess. If anyone out there feels able to explain when a set of adjourned days becomes a recess, we'd be quite delighted to hear from you. Especially if your explanation stands a chance of making sense to computers.

Ned, Robert and Michael have finally finished off the comments on our election model. As ever, you're encouraged to take a peep. It may well not stand up to the scrutiny of a dedicated psephologist. It certainly won't stand up to the keen eye of a Sym Roe. But it feels like a decent enough framework. And there's always tomorrow to make things better. 

## On matters of management

Exciting developments in the world of peerages have continued to excite. Librarian and Wikimedian Andrew has added a couple of new properties to Wikidata: one to point to [Beamish peerage IDs](https://www.wikidata.org/wiki/Property:P10848), the other to point to [Beamish person IDs](https://www.wikidata.org/wiki/Property:P10849). There's also [a new Mix 'n' Match service](https://mix-n-match.toolforge.org/#/catalog/5308) to help automate and crowdsource equivalence between peerage concepts in our database and peerage concepts in Wikidata. So, if you're a big fan of peerages, please do dive in and help make the web a better and more connected place. Thanks, as ever, Andrew.

In other peerage database news, Librarian Ned has been re-reading John Sainty's notes. It turns out that, much as Beamish extends Sainty, Sainty extends William Hardy's "Lists of Creations of Peers and Baronets, compiled from Original Documents in the Public Record Office" published in 1886 as an appendix to the Public Records Office annual report. Obviously, [the original is at Kew](https://discovery.nationalarchives.gov.uk/details/r/C12082) but there's a [scanned copy online](https://archive.org/details/annualreportdep00offigoog/page/n551) (appendix 6, starting at p78 of 403). The Hardy listings get us back to 1483 for both England and Ireland. Hardy in turn extends the "Reports from the Lords Committee appointed to search the Journals of the House, Roll of Parliament, and other Records and Documents for all matters touching the Dignity of a Peer of the Realm", published in 1819, and going back to 1135, predating both modern peerages and Parliament itself. We're told that Hardy isn't as straightforward to transcribe as Sainty but it does includes things that are not new creations of peerages by letters patent. On the plus side it's in English, and it takes the same approach as Sainty and Beamish, referring to primary sources rather than just copying secondary references. A good candidate for inclusion we think.

Fans of the Constitutional Reform and Governance Act 2010 will be well aware that [part 2](https://www.legislation.gov.uk/ukpga/2010/25/part/2) sets out the procedure for treaties laid before Parliament pre-ratification. They'll also be well aware that [section 22 of part 2](https://www.legislation.gov.uk/ukpga/2010/25/part/2#section-22) provides a scrutiny escape hatch. So long as neither House has already resolved that the treaty should not be ratified, it is always an option for the Minister to make a statement invoking section 22 that section 20 does not apply. Whilst the invocation of section 22 has always been part of our CRaG treaty procedure map, until quite recently, it had never been actualised. Then a along came a couple of treaties covering the accession of [Finland](https://treaties.parliament.uk/treaty/4zjttv9m/CP-730/) and [Sweden](https://treaties.parliament.uk/treaty/AZ3TnHDL/CP-731/), the government called up section 22 and Librarian Ayesha set about actualising. Unfortunately, neither our treaty nor SI websites allow for aggregation by actualised steps which means it's not possible to list instruments where a certain procedural step has been taken. Or indeed not taken. For this reason, librarians Jayne and Ayesha have made a brand new SPARQL query listing [all the treaties we've procedurally indexed where the section 22 steps have been actualised](https://api.parliament.uk/s/25128ba0). Much neater.

Attempts to tidy the address data in the Members' Names Information Service continue. Librarian Phil has exported a list of addresses where the [telephone field contains the text 'fax'](https://trello.com/c/cACLfIrE/35-get-a-list-of-addresses-and-associated-member-where-the-telephone-field-contains-the-string-fax). Should any of those addresses belong to current Members, Librarian Emily is planning to get in touch with them and [ask if they're still valid](https://trello.com/c/NyvExL0e/36-contact-current-members-to-check-they-still-want-fax-listed-where-fax-is-present-in-telephone-field). Well, it's cheaper than buying a fax machine.

Quite astonishing progress has been made by Librarian Anna and computational expert James on fettling our Rush database, Anna on tidying duties, James on normalisation. One thing that had been tripped us up - even post-tidying and normalisation - were strings getting saved into the database with trailing spaces. James has now added an [an ActiveModel extension that strips out leading and trailing spaces automagically](https://github.com/rmm5t/strip_attributes). So that's gonna save a lot of time and trouble. In terms of tidying and normalisation, we now have lists for [parliament types](https://membersafter1832.historyofparliamentonline.org/parliament_types), [highest offices attained](https://membersafter1832.historyofparliamentonline.org/highest_offices) and [who's who volumes](https://membersafter1832.historyofparliamentonline.org/whos_who_volumes). Lovely stuff with more to follow during Summer Recess we hope.