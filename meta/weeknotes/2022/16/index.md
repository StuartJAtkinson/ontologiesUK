# 2022 - Week 16

So, it's been quite a while. Too long, some might say. We would, of course, offer apologies to our regular reader but, for once, it is not laziness on our part, circumstances placing productivity quite beyond our control. First there was a dose of COVID, then there was another dose of COVID, then there was Easter recess and now there's another dose of COVID. So that's been our lives, how's yours?

## Handing in homework

The last few weeks have been rather frantic for librarians [Anya](https://twitter.com/bitten_) and [Silver](https://twitter.com/silveroliver), all four shoulders applied to the Herculean task of shoving the [Parliament Thesaurus](https://explore.data.parliament.uk/?endpoint=terms) up a subsiding mountain of recently - and not so recently - commissioned software. Or devising an approach to a single subject view of the House of Commons Library, if you will. This week, their report gained its final dotted Is and crossed Ts and made its way into Director-land for marking. Quite how we translate recommendations into actions remains a mystery to be solved. Especially given next week sees Silver investing in a set of crown green bowls and heading off into early retirement. We wish him well and hope he'll continue to lend his brains in exchange for a knee blanket and a  push along Brighton prom.

## Enabling enabling Acts

Way [back in 2021](https://ukparliament.github.io/ontologies/meta/weeknotes/2021/49/#a-big-announcement), a new and much improved version of the [statutory instrument website](https://statutoryinstruments.parliament.uk/) went live. One change we asked for didn't quite make it through sprint planning, so, for the last few months, whilst users have been able to [search for SIs enabled by a given Act](https://statutoryinstruments.parliament.uk/?SearchTerm=&House=&ActOfParliamentId=Fq9RVMhD&LayingBodyId=&Procedure=&ParliamentaryProcess=&RecommendedForProcedureChange=&ConcernsRaisedByCommittee=&MotionToStop=&DebateScheduled=&ShowAdvanced=true), they haven't been able to search for SIs enabled by more than one Act. Or indeed [a combination of SIs enabled by one Act and SIs enabled by another Act](https://statutoryinstruments.parliament.uk/?SearchTerm=&House=&ActOfParliamentId=Fq9RVMhD&ActOfParliamentId=lkH7Y60e&LayingBodyId=&Procedure=&ParliamentaryProcess=&RecommendedForProcedureChange=&ConcernsRaisedByCommittee=&MotionToStop=&DebateScheduled=&ShowAdvanced=true). That has now changed. It should be noted that entering more than one Act operates as a non-exclusive OR, returning SIs enabled by one Act, or the other Act, or both. It does not operate as an AND, returning only SIs enabled by both Acts. Neither Librarian Jayne nor her computational helpmate [Michael](https://twitter.com/fantasticlife) can say they're absolutely happy with that, and, if they ruled the school, they'd really rather prefer a solution more like parliamentary search where the question of whether to [AND](https://search-material.parliament.uk/search?Parameters.Fields.all=cow+AND+horse&Parameters.Fields.all-target=&Parameters.Fields.phrase=&Parameters.Fields.phrase-target=&Parameters.Fields.any=&Parameters.Fields.any-target=&Parameters.Fields.exclude=&Parameters.Fields.exclude-target=&Parameters.Fields.member=&Parameters.Fields.subject=&Parameters.Fields.reference=&Parameters.Fields.date=&Parameters.Fields.date=#searchCriteria) or to [OR](https://search-material.parliament.uk/search?Parameters.Fields.all=cow+OR+horse&Parameters.Fields.all-target=&Parameters.Fields.phrase=&Parameters.Fields.phrase-target=&Parameters.Fields.any=&Parameters.Fields.any-target=&Parameters.Fields.exclude=&Parameters.Fields.exclude-target=&Parameters.Fields.member=&Parameters.Fields.subject=&Parameters.Fields.reference=&Parameters.Fields.date=&Parameters.Fields.date=&Parameters.PageSize=10) is left open to the user. Still, they do not rule the school and both the Legislation Offices and, more importantly, JO Jane seem happy with the result. Which is all that matters, at the end of the day. And if you are in the market for SIs enabled by Act 1 AND Act 2, there is, of course [a query](https://api.parliament.uk/s/26e3724f) for that.

In other enabling Act news, poor Jayne continues to [slog away](https://trello.com/c/lzA6e3YZ/428-update-act-data-from-tna-linked-data-api) adding [Royal Assent](https://en.wikipedia.org/wiki/Royal_assent) dates to a spreadsheet of Acts kindly donated by [TNA](https://www.nationalarchives.gov.uk/) [Catherine](https://twitter.com/CathTabone). TNA have the dates - of course they do - but sadly not in the beta environment, which means Jayne has somewhere around 10500 missing dates to add. All is not pure slog though, the existence of Wikidata and Jayne's [beloved SPARQL](https://query.wikidata.org/#select%20%3FAct%20%3FActName%20%3Fyear%20%3FenactedDate%20where%20%7B%0A%20%20%3FAct%20wdt%3AP31%20wd%3AQ105774620.%0A%20%20%3FAct%20wdt%3AP1813%20%3FActName.%0A%20%20%3FAct%20wdt%3AP1031%20%3Fyear.%0A%20%20%3FAct%20wdt%3AP7589%20%3FenactedDate.%20%7D) helping to automate matters magnificently. At least back to 1959. The rest of history being a somewhat longer job. Once the data is compiled, we will, of course, endeavour to give it back to Wikidata. Our [dog food](https://en.wikipedia.org/wiki/Eating_your_own_dog_food) being their dog food and vice versa.

## Return to public bill mountain

Working in the open can come with its trials and indeed tribulations but, generally speaking, we'd recommend it to anyone. There are, after all, more experts out there than in here. We've frequently found ourselves in receipt of feedback that corrected our misunderstandings, patched over our omissions and generally course corrected our efforts. Thanks be to [John](https://twitter.com/johnlsheridan).

Dear reader, we cannot say we are proud of this one. A little while back we made our first attempts at mapping [the mechanisms of prerogative consent](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/#prerogative-consent). Three rather nice, quite basic but delightfully self-contained maps emerged. One such map covered the consent of the Grand Steward of Scotland. Except, except, except, there is no Grand Steward, only a Great Stewart. How this mistake happened we really cannot say. Luckily, [Ben](https://twitter.com/tc1415) was both on hand and [on Twitter](https://twitter.com/tc1415/status/1492854816778993671) to correct our shameful mistake. Both [map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/prerogative-consent/great-steward-of-scotlands-consent/great-steward-of-scotlands-consent.pdf) and [data](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/prerogative-consent/great-steward-of-scotlands-consent/great-steward-of-scotlands-consent.svg) have now been updated and Jayne and Michael have retired from the scene blushing.

Back in undocumented week 14, we met with colleagues from Senedd Cymru to chat through our early efforts on [mapping their legislative consent motion procedure](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/devolved-legislature-consent/senedd-cymru/senedd-cymru-consent.pdf). It is, in many ways, not dissimilar to the [procedure in the Scottish Parliament](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/devolved-legislature-consent/scottish-parliament/scottish-parliament-consent.pdf), so we took that, relabelled it and tweaked it a little. Differences in the Senedd procedure would be appear to be:

* unlike the Scottish Parliament, things are not 'lodged', they are 'tabled'

* the optional addition of a [written statement by the Welsh Government in response to proposed modifications to Ministerial functions](https://gov.wales/written-statement-legislative-response-welsh-ministers-coronavirus-pandemic-0)

* a dependency on the Government tabling a [legislative consent memorandum](https://archive2021.parliament.scot/parliamentarybusiness/Bills/31308.aspx) before a Member can do likewise

* the lack of a committee dedicated to scrutinising delegated powers

* committee referral happening via the [Business Committee](https://senedd.wales/committees/business-committee/) rather than the [Parliamentary Bureau](https://www.parliament.scot/about/how-parliament-works/parliament-organisations-groups-and-people/parliamentary-bureau)

* the Business Committee imposing a deadline with options to extend

* all notions of [forthwithery](https://erskinemay.parliament.uk/section/4784/questions-to-be-put-forthwith/) being cast aside

* the existence of both fatal and non-fatal reasoned amendments to legislative consent motions

In truth, we suspect that that last one is not in fact a difference and that we just forgot to ask Scottish Parliament colleagues the same question. An email is [winging its way](https://trello.com/c/XnrshgTa/34-scottish-parliament-are-all-reasoned-amendments-to-an-lcm-fatal) to Edinburgh to clarify our confusion.

Also back in week 14, we were delighted to be joined by House of Commons private bills clerk Katya as we set about disemboweling our initial attempts at examination for [hybridity](https://www.parliament.uk/about/how/laws/bills/hybrid/). This mini-procedure currently forms part of our [House of Commons first reading map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/primary/public-bills/components/commons/first-reading/first-reading.pdf). It probably shouldn't do. The main thing we'd got wrong was making the 'resolution that the promoters are permitted to proceed with the bill' step dependent on the [Standing Orders (Private Bills) Committee](https://committees.parliament.uk/committee/475/standing-orders-private-bills-committee-commons/) reporting that standing orders ought to be dispensed with and that the promoters may proceed with the bill. Which obviously made no sense. If you spot any red arrows in the map, that's where we need to fix things. Next week, we hope.

## Clock changing catastrophes

Keen followers of our [Made 'n' Laid Twitter bot](https://twitter.com/madenlaid) may well have noticed that both made and indeed laid dates took the sudden decision to drift off by a factor of 24 hours. This all happening on the 27th March but was only [spotted by Jayne](https://twitter.com/madenlaid/status/1516362683540516864) in early April. Now, as any fule kno, 27th March just happened to the date on which we made the glorious leap into a Great British Summer. Which we assumed was more than mere coincidence. "Well, it works on my machine," is never a great answer to any question but Michael tested [the old Ruby code](https://github.com/fantasticlife/made-n-laid) and it did indeed work on his machine. In fairness, he also tested the old Ruby code on Heroku and it worked there too. All of which pointed to something going awry between the Ruby code on Heroku and its rewrite into C# on Azure. [Our Jianhan](https://twitter.com/jianhanzhu) investigated matters and it did indeed turn out to be a BST-related configuration setting in Azure. So [that's fixed now](https://twitter.com/madenlaid/status/1516362683540516864). Thanks Jianhan.

## Problematic procedure parsing - or the impenetrable bit in the middle

[Week 12](https://ukparliament.github.io/ontologies/meta/weeknotes/2022/12/#prodding-procedural-parsing) saw the creation of a [new card](https://trello.com/c/n7LVS0TI/281-untraversability-of-cancelled-deferred-divisions-is-polluting-routes-to-motion-agreed-disagreed-and-deferred-in-draft-affirmativ) with the memorable title of 'Untraversability of cancelled deferred divisions is polluting routes to motion agreed, disagreed and deferred in draft affirmative procedure'. Quite a gobful that one. The problem arose from the way we had been treating [untraversability](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#route-currentness-and-untraversability) in the parsing code, whereby a [step](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e175) with an inbound [route](https://ukparliament.github.io/ontologies/procedure/procedure-ontology.html#d4e164) having a status of UNTRAVERSABLE would - certain conditions being met - taint any outbound routes with the same status. We had in our heads the notion of a bridge onto an island being closed having the effect of closing all the roads on the island. Unfortunately, this tainting did not stop at the limits of the island, instead having the effect of closing all other bridges off said island. And then all routes off those bridges, wiping out most of the transport network on the mainland. Which was all less than ideal. We've now updated all procedural maps with non-current routes to remove the need for 'tainting', tested those against the [rewritten Ruby parsing code](https://github.com/ukparliament/procedure-parsing/tree/master/lib/parsing) and everything works as expected. We await Jianhan's fair hand to [update the C# parsing code](https://trello.com/c/lp0qM7Dw/83-change-the-behaviour-of-all-steps-to-no-longer-propagate-untraversability) in a similar fashion, at which point, all should be fixed.

Also back in week 12, Jianhan made another small tweak to the C# parsing code, this time to allow an [OR step](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#or-steps) to deal with an input of [ALLOWS](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#decision-steps). Such a change would allow us to allow the maps to allow committee scrutiny should an instrument be withdrawn or revoked. Whilst still allowing for committee scrutiny to be caused should neither of those conditions exist. This week we sat down to [adjust maps](https://trello.com/c/JWOkAnfi/273-caused-vs-allows) accordingly and found, much to our chagrin, that, whilst the new logic could be made to work, without also allowing [AND steps](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#and-steps) to handle an input route with a status of ALLOWS, the maps would become [somewhat more verbose](https://github.com/ukparliament/ontologies/blob/master/procedure/maps/meta/causes-or-allows/causes-or-allows.svg) than any of us consider ideal. A meeting with young Robert is pencilled in for Monday. Tune in next week for more exhilarating procedure parsing news.

## Fettling Rush

Librarian Anna and computational expert [James](https://twitter.com/jamesjefferies) continue on their mission to bring just a little more information model and a dash more information management to our [Rush database of historical Members](https://membersafter1832.historyofparliamentonline.org/). This week saw their second attempt at normalising relationship types, the first attempt not going so well when everyone ended up related to themselves. Attempt number two met with more success, which means we now have a new database table of relationship types and a [new page to list them](https://membersafter1832.historyofparliamentonline.org/relationship_types). Anna and James also took the opportunity to [de-gender the relationships](https://trello.com/c/rJqco9Cq/129-de-gendering-the-relationships). Given we know the sex of the person at one end of the relationship and the sex of the person at the other, declaring that someone is the 'mother of' or the 'father of' all felt rather redundant when we could just roll all such relationships up into '[parent of](https://membersafter1832.historyofparliamentonline.org/relationship_types/5)'. Lovely stuff as we think you'll agree. We still have [13 Members related to themselves](https://trello.com/c/j7iGC7JS/191-people-related-to-themselves) but we suspect that's an error in the source data rather than anything that's gone wrong at our end. Investigations continue.

Some time back a research team got in touch asking for access to a dump of the Rush database. They've since done a load of research off the back of the core Rush data and generated new data of their own. A month or so ago, they got back in touch asking if we could make use of any of the new and derived data. Unfortunately quite a lot of what they'd generated either wouldn't fit into Rush without fairly major database and application changes or didn't quite fit into the original aims of the Rush database. Nevertheless, James has managed to sneak in a couple of new fields which means that at least [some Members now have a They Work for You ID](https://trello.com/c/vtuyyJdv/182-varchar-they-work-for-you-id) and a [boolean to capture a yes /  no for ethnic minority](https://trello.com/c/ev2dUqLU/181-boolean-ethnic-minority). Better and better. Thanks Anna. Thanks James. And thanks [Caroline](https://twitter.com/carolinebha), [Stephen](https://twitter.com/stephen_r_bates) and [Stephen](https://twitter.com/socialpolicy).